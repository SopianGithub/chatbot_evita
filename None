INFO     2021-07-27 19:32:19.376 request id: app - uvicorn.server:serve - Started server process [7599]
INFO     2021-07-27 19:32:19.376 request id: app - uvicorn.server:serve - Started server process [7599]
INFO     2021-07-27 19:32:19.376 request id: app - uvicorn.server:serve - Started server process [7599]
INFO     2021-07-27 19:32:19.377 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2021-07-27 19:32:19.377 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2021-07-27 19:32:19.377 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2021-07-27 19:32:19.378 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2021-07-27 19:32:19.378 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2021-07-27 19:32:19.378 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2021-07-27 19:35:55.589 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:54075 - "GET /login/461119 HTTP/1.1" 200
INFO     2021-07-27 19:35:59.569 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:54075 - "GET /login/461119 HTTP/1.1" 200
INFO     2021-07-27 19:35:59.676 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:54084 - "GET /report/answered HTTP/1.1" 200
INFO     2021-07-27 19:35:59.677 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:54087 - "GET /report/category HTTP/1.1" 200
INFO     2021-07-27 19:35:59.678 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:54088 - "GET /report/product HTTP/1.1" 200
INFO     2021-07-27 19:51:21.211 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:54326 - "OPTIONS /login HTTP/1.1" 200
INFO     2021-07-27 19:51:21.263 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:54328 - "POST /login HTTP/1.1" 200
INFO     2021-07-27 19:51:28.422 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:54330 - "POST /login HTTP/1.1" 200
INFO     2021-07-27 19:51:28.527 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:54330 - "GET /report/answered HTTP/1.1" 200
INFO     2021-07-27 19:51:28.567 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:54331 - "GET /login/461119 HTTP/1.1" 200
INFO     2021-07-27 19:51:28.569 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:54333 - "GET /report/category HTTP/1.1" 200
INFO     2021-07-27 19:51:28.586 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:54335 - "GET /report/product HTTP/1.1" 200
INFO     2021-07-27 19:51:43.015 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:54347 - "GET /cc/page?limit=10&offset=0&filter= HTTP/1.1" 200
INFO     2021-07-27 19:51:46.694 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:54347 - "GET /cc/page?limit=10&offset=10&filter= HTTP/1.1" 200
INFO     2021-07-27 19:51:51.546 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:54347 - "GET /cc/page?limit=10&offset=0&filter=mandiri HTTP/1.1" 200
INFO     2021-07-27 19:51:58.951 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:54351 - "GET /segmen HTTP/1.1" 200
INFO     2021-07-27 19:52:43.559 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:54357 - "OPTIONS /cc/ HTTP/1.1" 200
INFO     2021-07-27 19:52:43.568 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:54357 - "POST /cc/ HTTP/1.1" 307
INFO     2021-07-27 19:52:43.575 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:54357 - "OPTIONS /cc HTTP/1.1" 200
INFO     2021-07-27 19:52:43.597 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:54357 - "POST /cc HTTP/1.1" 200
INFO     2021-07-27 19:52:44.648 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:54357 - "GET /cc/page?limit=10&offset=0&filter= HTTP/1.1" 200
INFO     2021-07-27 19:52:47.818 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:54357 - "GET /cc/page?limit=10&offset=0&filter=tewst HTTP/1.1" 200
INFO     2021-07-27 19:52:48.498 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:54357 - "GET /cc/page?limit=10&offset=0&filter=tew HTTP/1.1" 200
INFO     2021-07-27 19:52:49.690 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:54357 - "GET /cc/page?limit=10&offset=0&filter=test HTTP/1.1" 200
INFO     2021-07-27 19:52:54.458 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:54357 - "GET /segmen HTTP/1.1" 200
INFO     2021-07-27 19:52:54.467 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:54365 - "GET /cc/9862121233 HTTP/1.1" 200
INFO     2021-07-27 19:52:58.749 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:54365 - "OPTIONS /cc/9862121233 HTTP/1.1" 200
INFO     2021-07-27 19:52:58.763 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:54365 - "PUT /cc/9862121233 HTTP/1.1" 200
INFO     2021-07-27 19:52:59.830 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:54365 - "GET /cc/page?limit=10&offset=0&filter= HTTP/1.1" 200
INFO     2021-07-27 19:53:04.514 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:54365 - "GET /cc/page?limit=10&offset=0&filter=test HTTP/1.1" 200
INFO     2021-07-27 19:53:07.388 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:54365 - "GET /cc/mapping/9862121233 HTTP/1.1" 200
INFO     2021-07-27 19:53:18.799 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:54372 - "GET /ams/search/a HTTP/1.1" 200
INFO     2021-07-27 19:53:18.939 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:54372 - "GET /ams/search/ah HTTP/1.1" 200
INFO     2021-07-27 19:53:19.162 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:54372 - "GET /ams/search/ahm HTTP/1.1" 200
INFO     2021-07-27 19:53:19.332 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:54372 - "GET /ams/search/ahma HTTP/1.1" 200
INFO     2021-07-27 19:53:21.064 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:54372 - "GET /ams/search/ HTTP/1.1" 307
INFO     2021-07-27 19:53:21.104 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:54372 - "GET /ams/search HTTP/1.1" 200
INFO     2021-07-27 19:53:25.034 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:54372 - "GET /ams/search/n HTTP/1.1" 200
INFO     2021-07-27 19:53:25.215 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:54372 - "GET /ams/search/no HTTP/1.1" 200
INFO     2021-07-27 19:53:28.183 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:54372 - "GET /ams/search/ HTTP/1.1" 307
INFO     2021-07-27 19:53:28.208 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:54372 - "GET /ams/search HTTP/1.1" 200
INFO     2021-07-27 19:53:29.747 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:54372 - "OPTIONS /cc/mapping/9862121233 HTTP/1.1" 200
INFO     2021-07-27 19:53:29.771 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:54372 - "PUT /cc/mapping/9862121233 HTTP/1.1" 200
INFO     2021-07-27 19:53:30.809 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:54372 - "GET /cc/page?limit=10&offset=0&filter= HTTP/1.1" 200
INFO     2021-07-27 19:53:34.501 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:54372 - "GET /cc/page?limit=10&offset=0&filter=test HTTP/1.1" 200
INFO     2021-07-27 19:53:36.261 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:54372 - "GET /cc/mapping/9862121233 HTTP/1.1" 200
INFO     2021-07-27 19:53:43.191 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:54376 - "GET /ams/page?limit=10&offset=0&filter= HTTP/1.1" 200
INFO     2021-07-27 19:53:48.494 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:54378 - "GET /ams/page?limit=10&offset=0&filter=ahma HTTP/1.1" 200
INFO     2021-07-27 19:53:48.984 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:54378 - "GET /ams/page?limit=10&offset=0&filter=ahmad HTTP/1.1" 200
INFO     2021-07-27 19:54:11.726 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:54384 - "OPTIONS /ams/ HTTP/1.1" 200
INFO     2021-07-27 19:54:11.736 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:54386 - "POST /ams/ HTTP/1.1" 307
INFO     2021-07-27 19:54:11.741 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:54386 - "OPTIONS /ams HTTP/1.1" 200
INFO     2021-07-27 19:54:11.750 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:54386 - "POST /ams HTTP/1.1" 200
INFO     2021-07-27 19:54:12.783 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:54386 - "GET /ams/page?limit=10&offset=0&filter= HTTP/1.1" 200
INFO     2021-07-27 19:54:15.399 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:54386 - "GET /ams/page?limit=10&offset=0&filter=test HTTP/1.1" 200
INFO     2021-07-27 19:54:17.354 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:54386 - "GET /ams/123189121 HTTP/1.1" 200
INFO     2021-07-27 19:54:23.262 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:54390 - "OPTIONS /ams/123189121 HTTP/1.1" 200
INFO     2021-07-27 19:54:23.275 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:54390 - "PUT /ams/123189121 HTTP/1.1" 200
INFO     2021-07-27 19:54:24.312 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:54390 - "GET /ams/page?limit=10&offset=0&filter= HTTP/1.1" 200
INFO     2021-07-27 19:54:27.062 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:54390 - "GET /ams/page?limit=10&offset=0&filter=test HTTP/1.1" 200
INFO     2021-07-27 19:54:36.654 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:54392 - "DELETE /ams/123189121 HTTP/1.1" 200
INFO     2021-07-27 19:54:39.677 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:54392 - "GET /ams/page?limit=10&offset=0&filter=test HTTP/1.1" 200
INFO     2021-07-27 19:54:41.926 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:54392 - "GET /ams/page?limit=10&offset=0&filter= HTTP/1.1" 200
INFO     2021-07-27 19:54:44.676 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:54392 - "GET /ams/page?limit=10&offset=0&filter=test HTTP/1.1" 200
INFO     2021-07-27 19:54:46.956 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:54392 - "GET /ams/page?limit=10&offset=0&filter= HTTP/1.1" 200
INFO     2021-07-27 19:54:49.276 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:54392 - "GET /product/page?limit=10&offset=0&filter= HTTP/1.1" 200
INFO     2021-07-27 19:55:00.935 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:54398 - "GET /product/page?limit=10&offset=0&filter=wifi HTTP/1.1" 200
INFO     2021-07-27 19:55:02.855 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:54398 - "GET /product/page?limit=10&offset=0&filter=w HTTP/1.1" 200
INFO     2021-07-27 19:55:03.276 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:54398 - "GET /product/page?limit=10&offset=0&filter= HTTP/1.1" 200
INFO     2021-07-27 19:55:05.840 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:54398 - "GET /product/page?limit=10&offset=0&filter=vpn HTTP/1.1" 200
INFO     2021-07-27 19:55:07.811 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:54398 - "GET /product/page?limit=10&offset=0&filter= HTTP/1.1" 200
INFO     2021-07-27 19:56:24.196 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:54406 - "OPTIONS /product/ HTTP/1.1" 200
INFO     2021-07-27 19:56:24.206 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:54408 - "POST /product/ HTTP/1.1" 307
INFO     2021-07-27 19:56:24.213 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:54408 - "OPTIONS /product HTTP/1.1" 200
INFO     2021-07-27 19:56:24.223 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:54408 - "POST /product HTTP/1.1" 200
INFO     2021-07-27 19:56:25.263 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:54408 - "GET /product/page?limit=10&offset=0&filter= HTTP/1.1" 200
INFO     2021-07-27 19:56:28.016 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:54408 - "GET /product/page?limit=10&offset=0&filter=test HTTP/1.1" 200
INFO     2021-07-27 19:56:34.500 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:54412 - "GET /product/610002789d4ff36dbbafa66d HTTP/1.1" 200
INFO     2021-07-27 19:56:40.792 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:54414 - "OPTIONS /product/610002789d4ff36dbbafa66d HTTP/1.1" 200
INFO     2021-07-27 19:56:40.803 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:54416 - "PUT /product/610002789d4ff36dbbafa66d HTTP/1.1" 422
INFO     2021-07-27 19:56:45.493 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:54416 - "PUT /product/610002789d4ff36dbbafa66d HTTP/1.1" 422
INFO     2021-07-27 19:56:49.729 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:54416 - "GET /product/page?limit=10&offset=0&filter= HTTP/1.1" 200
INFO     2021-07-27 19:57:04.288 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:54418 - "GET /product/page?limit=10&offset=0&filter=test HTTP/1.1" 200
INFO     2021-07-27 19:57:13.003 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:54422 - "GET /employe/page?limit=10&offset=0&filter= HTTP/1.1" 200
INFO     2021-07-27 19:58:51.786 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:54429 - "GET /employe/page?limit=10&offset=0&filter=basu HTTP/1.1" 200
INFO     2021-07-27 19:58:54.754 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:54429 - "GET /employe/page?limit=10&offset=0&filter= HTTP/1.1" 200
INFO     2021-07-27 19:58:56.264 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:54429 - "GET /employe/loker HTTP/1.1" 200
INFO     2021-07-27 19:59:58.303 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:54436 - "OPTIONS /employe/ HTTP/1.1" 200
INFO     2021-07-27 19:59:58.311 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:54436 - "POST /employe/ HTTP/1.1" 307
INFO     2021-07-27 19:59:58.319 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:54436 - "OPTIONS /employe HTTP/1.1" 200
INFO     2021-07-27 19:59:58.333 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:54436 - "POST /employe HTTP/1.1" 200
INFO     2021-07-27 19:59:59.400 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:54436 - "GET /employe/page?limit=10&offset=0&filter= HTTP/1.1" 200
INFO     2021-07-27 20:00:02.226 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:54436 - "GET /employe/page?limit=10&offset=0&filter=test HTTP/1.1" 200
INFO     2021-07-27 20:00:05.171 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:54436 - "GET /employe/loker HTTP/1.1" 200
INFO     2021-07-27 20:00:05.181 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:54441 - "GET /employe/123424092131 HTTP/1.1" 200
INFO     2021-07-27 20:00:12.427 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:54447 - "OPTIONS /employe/123424092131 HTTP/1.1" 200
INFO     2021-07-27 20:00:12.445 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:54447 - "PUT /employe/123424092131 HTTP/1.1" 200
INFO     2021-07-27 20:00:13.524 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:54447 - "GET /employe/page?limit=10&offset=0&filter= HTTP/1.1" 200
INFO     2021-07-27 20:00:17.446 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:54447 - "GET /employe/page?limit=10&offset=0&filter=test HTTP/1.1" 200
INFO     2021-07-27 20:00:22.874 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:54452 - "DELETE /employe/123424092131 HTTP/1.1" 200
INFO     2021-07-27 20:00:25.905 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:54452 - "GET /employe/page?limit=10&offset=0&filter=test HTTP/1.1" 200
INFO     2021-07-27 20:00:30.061 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:54452 - "GET /report/category HTTP/1.1" 200
INFO     2021-07-27 20:00:30.081 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:54457 - "GET /report/page_catgeory?limit=10&offset=0 HTTP/1.1" 200
INFO     2021-07-27 20:00:52.670 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:54462 - "GET /report/product HTTP/1.1" 200
INFO     2021-07-27 20:00:52.673 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:54463 - "GET /report/page_chart_product?limit=10&offset=0 HTTP/1.1" 200
INFO     2021-07-27 20:01:03.948 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:54468 - "GET /report/answered HTTP/1.1" 200
INFO     2021-07-27 20:01:03.950 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:54469 - "GET /report/page_answered?limit=10&offset=0 HTTP/1.1" 200
INFO     2021-07-27 20:01:40.344 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:54471 - "GET /report/searching?search=per&category=PIC HTTP/1.1" 200
INFO     2021-07-27 20:01:42.961 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:54471 - "GET /report/searching?search=perfor&category=PIC HTTP/1.1" 200
INFO     2021-07-27 20:01:43.539 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:54471 - "GET /report/searching?search=performa&category=PIC HTTP/1.1" 200
INFO     2021-07-27 20:01:51.634 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:54475 - "OPTIONS /report/update_logs/606030774824bc8cf07860b4 HTTP/1.1" 200
INFO     2021-07-27 20:01:51.636 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:54476 - "OPTIONS /report/update_pic HTTP/1.1" 200
INFO     2021-07-27 20:01:51.653 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:54475 - "POST /report/update_logs/606030774824bc8cf07860b4 HTTP/1.1" 200
INFO     2021-07-27 20:01:51.669 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:54476 - "POST /report/update_pic HTTP/1.1" 200
INFO     2021-07-27 20:01:51.707 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:54476 - "GET /report/page_answered?limit=10&offset=0 HTTP/1.1" 200
INFO     2021-07-27 20:01:51.733 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:54475 - "GET /report/page_answered?limit=10&offset=0 HTTP/1.1" 200
INFO     2021-07-27 20:03:15.227 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:54479 - "GET /product/page?limit=10&offset=0&filter= HTTP/1.1" 200
INFO     2021-07-27 20:03:18.896 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:54479 - "GET /product/page?limit=10&offset=0&filter=test HTTP/1.1" 200
INFO     2021-07-27 20:03:20.740 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:54479 - "GET /product/610002789d4ff36dbbafa66d HTTP/1.1" 200
INFO     2021-07-27 20:05:37.317 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:54516 - "PUT /product/610002789d4ff36dbbafa66d HTTP/1.1" 422
INFO     2021-07-27 20:05:49.507 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:54557 - "PUT /product/610002789d4ff36dbbafa66d HTTP/1.1" 422
INFO     2021-07-27 20:08:38.969 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:55279 - "GET /product/610002789d4ff36dbbafa66d HTTP/1.1" 200
INFO     2021-07-27 20:08:54.699 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:55342 - "PUT /product/610002789d4ff36dbbafa66d HTTP/1.1" 422
INFO     2021-07-27 20:14:39.520 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:56741 - "GET /product/610002789d4ff36dbbafa66d HTTP/1.1" 200
INFO     2021-07-27 20:14:42.792 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:56741 - "OPTIONS /product/610002789d4ff36dbbafa66d HTTP/1.1" 200
INFO     2021-07-27 20:14:42.800 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:56741 - "PUT /product/610002789d4ff36dbbafa66d HTTP/1.1" 422
INFO     2021-07-27 21:26:33.188 request id: app - uvicorn.protocols.http.h11_impl:send - 66.249.83.9:0 - "POST /webhook HTTP/1.1" 500
ERROR    2021-07-27 21:26:33.196 request id: app - uvicorn.protocols.http.h11_impl:run_asgi - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 5
               │     └ 8
               └ <function _main at 0x10db700d0>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 5
           │    └ <function BaseProcess._bootstrap at 0x10d943b80>
           └ <SpawnProcess name='SpawnProcess-1' parent=7596 started>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x10d9431f0>
    └ <SpawnProcess name='SpawnProcess-1' parent=7596 started>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x10dbd7100>, 'target': <bound method Server.run of <uvicorn.server.Server object...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-1' parent=7596 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-1' parent=7596 started>
    │    └ <function subprocess_started at 0x10e1af670>
    └ <SpawnProcess name='SpawnProcess-1' parent=7596 started>
  File "/Library/Python/3.8/site-packages/uvicorn/subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=4, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 5000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x10dbd71f0>>
  File "/Library/Python/3.8/site-packages/uvicorn/server.py", line 50, in run
    loop.run_until_complete(self.serve(sockets=sockets))
    │    │                  │    │             └ [<socket.socket fd=4, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 5000)>]
    │    │                  │    └ <function Server.serve at 0x10e1acc10>
    │    │                  └ <uvicorn.server.Server object at 0x10dbd71f0>
    │    └ <function BaseEventLoop.run_until_complete at 0x10de69790>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/asyncio/base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x10de69700>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/asyncio/base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x10de6b280>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/asyncio/base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x10dd9e160>
    └ <Handle <TaskWakeupMethWrapper object at 0x10efedcd0>(<Future finished result=None>)>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/asyncio/events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x10efedcd0>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x10efedcd0>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x10efedcd0>(<Future finished result=None>)>
> File "/Library/Python/3.8/site-packages/uvicorn/protocols/http/h11_impl.py", line 369, in run_asgi
    result = await app(self.scope, self.receive, self.send)
                   │   │    │      │    │        │    └ <function RequestResponseCycle.send at 0x10e3cb4c0>
                   │   │    │      │    │        └ <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10efed8e0>
                   │   │    │      │    └ <function RequestResponseCycle.receive at 0x10e3cb550>
                   │   │    │      └ <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10efed8e0>
                   │   │    └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
                   │   └ <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10efed8e0>
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x10e2bbe50>
  File "/Library/Python/3.8/site-packages/uvicorn/middleware/proxy_headers.py", line 59, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10efed8e0>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10efed8e0>>
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x10e3e7670>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x10e2bbe50>
  File "/Library/Python/3.8/site-packages/fastapi/applications.py", line 199, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10efed8e0>>
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10efed8e0>>
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
  File "/Library/Python/3.8/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10efed8e0>>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10efed8e0>>
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x10f0f6580>
          └ <fastapi.applications.FastAPI object at 0x10e3e7670>
  File "/Library/Python/3.8/site-packages/starlette/middleware/errors.py", line 181, in __call__
    raise exc from None
  File "/Library/Python/3.8/site-packages/starlette/middleware/errors.py", line 159, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x10f0f39d0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10efed8e0>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x10f0f6520>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x10f0f6580>
  File "/Library/Python/3.8/site-packages/starlette/middleware/base.py", line 25, in __call__
    response = await self.dispatch_func(request, self.call_next)
                     │    │             │        │    └ <function BaseHTTPMiddleware.call_next at 0x10e7fbb80>
                     │    │             │        └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x10f0f6520>
                     │    │             └ <starlette.requests.Request object at 0x10efed1c0>
                     │    └ <function add_process_time_header at 0x10f0f34c0>
                     └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x10f0f6520>

  File "./app/__init__.py", line 65, in add_process_time_header
    response = await call_next(request)
                     │         └ <starlette.requests.Request object at 0x10efed1c0>
                     └ <bound method BaseHTTPMiddleware.call_next of <starlette.middleware.base.BaseHTTPMiddleware object at 0x10f0f6520>>

  File "/Library/Python/3.8/site-packages/starlette/middleware/base.py", line 45, in call_next
    task.result()
    │    └ <method 'result' of '_asyncio.Task' objects>
    └ <Task finished name='Task-606' coro=<BaseHTTPMiddleware.call_next.<locals>.coro() done, defined at /Library/Python/3.8/site-p...
  File "/Library/Python/3.8/site-packages/starlette/middleware/base.py", line 38, in coro
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method Queue.put of <Queue at 0x10efed4c0 maxsize=0 tasks=1>>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10efed8e0>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x10f0f64f0>
          └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x10f0f6520>
  File "/Library/Python/3.8/site-packages/starlette/middleware/cors.py", line 78, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method Queue.put of <Queue at 0x10efed4c0 maxsize=0 tasks=1>>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10efed8e0>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x10f0f6490>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x10f0f64f0>
  File "/Library/Python/3.8/site-packages/starlette/exceptions.py", line 82, in __call__
    raise exc from None
  File "/Library/Python/3.8/site-packages/starlette/exceptions.py", line 71, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x10efda940>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10efed8e0>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x10f293ac0>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x10f0f6490>
  File "/Library/Python/3.8/site-packages/starlette/routing.py", line 580, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x10efda940>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10efed8e0>>
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │     └ <function Route.handle at 0x10e395ee0>
          └ <fastapi.routing.APIRoute object at 0x10f0e42e0>
  File "/Library/Python/3.8/site-packages/starlette/routing.py", line 241, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x10efda940>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10efed8e0>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <function request_response.<locals>.app at 0x10f0e61f0>
          └ <fastapi.routing.APIRoute object at 0x10f0e42e0>
  File "/Library/Python/3.8/site-packages/starlette/routing.py", line 52, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x10efed310>
                     └ <function get_request_handler.<locals>.app at 0x10f0e6160>
  File "/Library/Python/3.8/site-packages/fastapi/routing.py", line 214, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x10e395a60>
  File "/Library/Python/3.8/site-packages/fastapi/routing.py", line 149, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'request': <starlette.requests.Request object at 0x10efed310>}
                 │         └ <function action at 0x10f357f70>
                 └ <fastapi.dependencies.models.Dependant object at 0x10f0e43d0>

  File "./app/routers/conversation.py", line 10, in action
    return await controller.index(request)
                 │          │     └ <starlette.requests.Request object at 0x10efed310>
                 │          └ <staticmethod object at 0x10ead98e0>
                 └ <class 'app.controllers.Conversation.Conversation'>

  File "./app/controllers/Conversation.py", line 198, in index
    resfull = agent.handle_request(handler)
              │     │              └ <function handler at 0x10f357dc0>
              │     └ <function WebhookClient.handle_request at 0x10f357280>
              └ <dialogflow_fulfillment.webhook_client.WebhookClient object at 0x10effa550>

  File "/Library/Python/3.8/site-packages/dialogflow_fulfillment/webhook_client.py", line 271, in handle_request
    return handler_function(self)
           │                └ <dialogflow_fulfillment.webhook_client.WebhookClient object at 0x10effa550>
           └ <function handler at 0x10f357dc0>

  File "./app/controllers/Conversation.py", line 139, in handler
    page = Pagination(agent)
           │          └ <dialogflow_fulfillment.webhook_client.WebhookClient object at 0x10effa550>
           └ <class 'app.libraries.Pagination.Pagination'>

  File "./app/libraries/Pagination.py", line 42, in __init__
    self.pages(dict(contextact)['parameters']['category'])
    │    │          └ None
    │    └ <function Pagination.pages at 0x10f3574c0>
    └ <app.libraries.Pagination.Pagination object at 0x10effa970>

TypeError: 'NoneType' object is not iterable
ERROR    2021-07-27 21:26:33.259 request id: app - uvicorn.protocols.http.h11_impl:run_asgi - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 5
               │     └ 8
               └ <function _main at 0x10db700d0>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 5
           │    └ <function BaseProcess._bootstrap at 0x10d943b80>
           └ <SpawnProcess name='SpawnProcess-1' parent=7596 started>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x10d9431f0>
    └ <SpawnProcess name='SpawnProcess-1' parent=7596 started>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x10dbd7100>, 'target': <bound method Server.run of <uvicorn.server.Server object...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-1' parent=7596 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-1' parent=7596 started>
    │    └ <function subprocess_started at 0x10e1af670>
    └ <SpawnProcess name='SpawnProcess-1' parent=7596 started>
  File "/Library/Python/3.8/site-packages/uvicorn/subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=4, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 5000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x10dbd71f0>>
  File "/Library/Python/3.8/site-packages/uvicorn/server.py", line 50, in run
    loop.run_until_complete(self.serve(sockets=sockets))
    │    │                  │    │             └ [<socket.socket fd=4, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 5000)>]
    │    │                  │    └ <function Server.serve at 0x10e1acc10>
    │    │                  └ <uvicorn.server.Server object at 0x10dbd71f0>
    │    └ <function BaseEventLoop.run_until_complete at 0x10de69790>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/asyncio/base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x10de69700>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/asyncio/base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x10de6b280>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/asyncio/base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x10dd9e160>
    └ <Handle <TaskWakeupMethWrapper object at 0x10efedcd0>(<Future finished result=None>)>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/asyncio/events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x10efedcd0>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x10efedcd0>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x10efedcd0>(<Future finished result=None>)>
> File "/Library/Python/3.8/site-packages/uvicorn/protocols/http/h11_impl.py", line 369, in run_asgi
    result = await app(self.scope, self.receive, self.send)
                   │   │    │      │    │        │    └ <function RequestResponseCycle.send at 0x10e3cb4c0>
                   │   │    │      │    │        └ <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10efed8e0>
                   │   │    │      │    └ <function RequestResponseCycle.receive at 0x10e3cb550>
                   │   │    │      └ <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10efed8e0>
                   │   │    └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
                   │   └ <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10efed8e0>
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x10e2bbe50>
  File "/Library/Python/3.8/site-packages/uvicorn/middleware/proxy_headers.py", line 59, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10efed8e0>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10efed8e0>>
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x10e3e7670>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x10e2bbe50>
  File "/Library/Python/3.8/site-packages/fastapi/applications.py", line 199, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10efed8e0>>
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10efed8e0>>
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
  File "/Library/Python/3.8/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10efed8e0>>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10efed8e0>>
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x10f0f6580>
          └ <fastapi.applications.FastAPI object at 0x10e3e7670>
  File "/Library/Python/3.8/site-packages/starlette/middleware/errors.py", line 181, in __call__
    raise exc from None
  File "/Library/Python/3.8/site-packages/starlette/middleware/errors.py", line 159, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x10f0f39d0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10efed8e0>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x10f0f6520>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x10f0f6580>
  File "/Library/Python/3.8/site-packages/starlette/middleware/base.py", line 25, in __call__
    response = await self.dispatch_func(request, self.call_next)
                     │    │             │        │    └ <function BaseHTTPMiddleware.call_next at 0x10e7fbb80>
                     │    │             │        └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x10f0f6520>
                     │    │             └ <starlette.requests.Request object at 0x10efed1c0>
                     │    └ <function add_process_time_header at 0x10f0f34c0>
                     └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x10f0f6520>

  File "./app/__init__.py", line 65, in add_process_time_header
    response = await call_next(request)
                     │         └ <starlette.requests.Request object at 0x10efed1c0>
                     └ <bound method BaseHTTPMiddleware.call_next of <starlette.middleware.base.BaseHTTPMiddleware object at 0x10f0f6520>>

  File "/Library/Python/3.8/site-packages/starlette/middleware/base.py", line 45, in call_next
    task.result()
    │    └ <method 'result' of '_asyncio.Task' objects>
    └ <Task finished name='Task-606' coro=<BaseHTTPMiddleware.call_next.<locals>.coro() done, defined at /Library/Python/3.8/site-p...
  File "/Library/Python/3.8/site-packages/starlette/middleware/base.py", line 38, in coro
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method Queue.put of <Queue at 0x10efed4c0 maxsize=0 tasks=1>>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10efed8e0>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x10f0f64f0>
          └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x10f0f6520>
  File "/Library/Python/3.8/site-packages/starlette/middleware/cors.py", line 78, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method Queue.put of <Queue at 0x10efed4c0 maxsize=0 tasks=1>>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10efed8e0>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x10f0f6490>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x10f0f64f0>
  File "/Library/Python/3.8/site-packages/starlette/exceptions.py", line 82, in __call__
    raise exc from None
  File "/Library/Python/3.8/site-packages/starlette/exceptions.py", line 71, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x10efda940>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10efed8e0>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x10f293ac0>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x10f0f6490>
  File "/Library/Python/3.8/site-packages/starlette/routing.py", line 580, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x10efda940>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10efed8e0>>
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │     └ <function Route.handle at 0x10e395ee0>
          └ <fastapi.routing.APIRoute object at 0x10f0e42e0>
  File "/Library/Python/3.8/site-packages/starlette/routing.py", line 241, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x10efda940>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10efed8e0>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <function request_response.<locals>.app at 0x10f0e61f0>
          └ <fastapi.routing.APIRoute object at 0x10f0e42e0>
  File "/Library/Python/3.8/site-packages/starlette/routing.py", line 52, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x10efed310>
                     └ <function get_request_handler.<locals>.app at 0x10f0e6160>
  File "/Library/Python/3.8/site-packages/fastapi/routing.py", line 214, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x10e395a60>
  File "/Library/Python/3.8/site-packages/fastapi/routing.py", line 149, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'request': <starlette.requests.Request object at 0x10efed310>}
                 │         └ <function action at 0x10f357f70>
                 └ <fastapi.dependencies.models.Dependant object at 0x10f0e43d0>

  File "./app/routers/conversation.py", line 10, in action
    return await controller.index(request)
                 │          │     └ <starlette.requests.Request object at 0x10efed310>
                 │          └ <staticmethod object at 0x10ead98e0>
                 └ <class 'app.controllers.Conversation.Conversation'>

  File "./app/controllers/Conversation.py", line 198, in index
    resfull = agent.handle_request(handler)
              │     │              └ <function handler at 0x10f357dc0>
              │     └ <function WebhookClient.handle_request at 0x10f357280>
              └ <dialogflow_fulfillment.webhook_client.WebhookClient object at 0x10effa550>

  File "/Library/Python/3.8/site-packages/dialogflow_fulfillment/webhook_client.py", line 271, in handle_request
    return handler_function(self)
           │                └ <dialogflow_fulfillment.webhook_client.WebhookClient object at 0x10effa550>
           └ <function handler at 0x10f357dc0>

  File "./app/controllers/Conversation.py", line 139, in handler
    page = Pagination(agent)
           │          └ <dialogflow_fulfillment.webhook_client.WebhookClient object at 0x10effa550>
           └ <class 'app.libraries.Pagination.Pagination'>

  File "./app/libraries/Pagination.py", line 42, in __init__
    self.pages(dict(contextact)['parameters']['category'])
    │    │          └ None
    │    └ <function Pagination.pages at 0x10f3574c0>
    └ <app.libraries.Pagination.Pagination object at 0x10effa970>

TypeError: 'NoneType' object is not iterable
ERROR    2021-07-27 21:26:33.271 request id: app - uvicorn.protocols.http.h11_impl:run_asgi - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 5
               │     └ 8
               └ <function _main at 0x10db700d0>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 5
           │    └ <function BaseProcess._bootstrap at 0x10d943b80>
           └ <SpawnProcess name='SpawnProcess-1' parent=7596 started>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x10d9431f0>
    └ <SpawnProcess name='SpawnProcess-1' parent=7596 started>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x10dbd7100>, 'target': <bound method Server.run of <uvicorn.server.Server object...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-1' parent=7596 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-1' parent=7596 started>
    │    └ <function subprocess_started at 0x10e1af670>
    └ <SpawnProcess name='SpawnProcess-1' parent=7596 started>
  File "/Library/Python/3.8/site-packages/uvicorn/subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=4, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 5000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x10dbd71f0>>
  File "/Library/Python/3.8/site-packages/uvicorn/server.py", line 50, in run
    loop.run_until_complete(self.serve(sockets=sockets))
    │    │                  │    │             └ [<socket.socket fd=4, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 5000)>]
    │    │                  │    └ <function Server.serve at 0x10e1acc10>
    │    │                  └ <uvicorn.server.Server object at 0x10dbd71f0>
    │    └ <function BaseEventLoop.run_until_complete at 0x10de69790>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/asyncio/base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x10de69700>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/asyncio/base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x10de6b280>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/asyncio/base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x10dd9e160>
    └ <Handle <TaskWakeupMethWrapper object at 0x10efedcd0>(<Future finished result=None>)>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/asyncio/events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x10efedcd0>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x10efedcd0>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x10efedcd0>(<Future finished result=None>)>
> File "/Library/Python/3.8/site-packages/uvicorn/protocols/http/h11_impl.py", line 369, in run_asgi
    result = await app(self.scope, self.receive, self.send)
                   │   │    │      │    │        │    └ <function RequestResponseCycle.send at 0x10e3cb4c0>
                   │   │    │      │    │        └ <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10efed8e0>
                   │   │    │      │    └ <function RequestResponseCycle.receive at 0x10e3cb550>
                   │   │    │      └ <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10efed8e0>
                   │   │    └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
                   │   └ <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10efed8e0>
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x10e2bbe50>
  File "/Library/Python/3.8/site-packages/uvicorn/middleware/proxy_headers.py", line 59, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10efed8e0>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10efed8e0>>
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x10e3e7670>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x10e2bbe50>
  File "/Library/Python/3.8/site-packages/fastapi/applications.py", line 199, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10efed8e0>>
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10efed8e0>>
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
  File "/Library/Python/3.8/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10efed8e0>>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10efed8e0>>
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x10f0f6580>
          └ <fastapi.applications.FastAPI object at 0x10e3e7670>
  File "/Library/Python/3.8/site-packages/starlette/middleware/errors.py", line 181, in __call__
    raise exc from None
  File "/Library/Python/3.8/site-packages/starlette/middleware/errors.py", line 159, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x10f0f39d0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10efed8e0>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x10f0f6520>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x10f0f6580>
  File "/Library/Python/3.8/site-packages/starlette/middleware/base.py", line 25, in __call__
    response = await self.dispatch_func(request, self.call_next)
                     │    │             │        │    └ <function BaseHTTPMiddleware.call_next at 0x10e7fbb80>
                     │    │             │        └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x10f0f6520>
                     │    │             └ <starlette.requests.Request object at 0x10efed1c0>
                     │    └ <function add_process_time_header at 0x10f0f34c0>
                     └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x10f0f6520>

  File "./app/__init__.py", line 65, in add_process_time_header
    response = await call_next(request)
                     │         └ <starlette.requests.Request object at 0x10efed1c0>
                     └ <bound method BaseHTTPMiddleware.call_next of <starlette.middleware.base.BaseHTTPMiddleware object at 0x10f0f6520>>

  File "/Library/Python/3.8/site-packages/starlette/middleware/base.py", line 45, in call_next
    task.result()
    │    └ <method 'result' of '_asyncio.Task' objects>
    └ <Task finished name='Task-606' coro=<BaseHTTPMiddleware.call_next.<locals>.coro() done, defined at /Library/Python/3.8/site-p...
  File "/Library/Python/3.8/site-packages/starlette/middleware/base.py", line 38, in coro
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method Queue.put of <Queue at 0x10efed4c0 maxsize=0 tasks=1>>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10efed8e0>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x10f0f64f0>
          └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x10f0f6520>
  File "/Library/Python/3.8/site-packages/starlette/middleware/cors.py", line 78, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method Queue.put of <Queue at 0x10efed4c0 maxsize=0 tasks=1>>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10efed8e0>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x10f0f6490>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x10f0f64f0>
  File "/Library/Python/3.8/site-packages/starlette/exceptions.py", line 82, in __call__
    raise exc from None
  File "/Library/Python/3.8/site-packages/starlette/exceptions.py", line 71, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x10efda940>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10efed8e0>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x10f293ac0>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x10f0f6490>
  File "/Library/Python/3.8/site-packages/starlette/routing.py", line 580, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x10efda940>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10efed8e0>>
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │     └ <function Route.handle at 0x10e395ee0>
          └ <fastapi.routing.APIRoute object at 0x10f0e42e0>
  File "/Library/Python/3.8/site-packages/starlette/routing.py", line 241, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x10efda940>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10efed8e0>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <function request_response.<locals>.app at 0x10f0e61f0>
          └ <fastapi.routing.APIRoute object at 0x10f0e42e0>
  File "/Library/Python/3.8/site-packages/starlette/routing.py", line 52, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x10efed310>
                     └ <function get_request_handler.<locals>.app at 0x10f0e6160>
  File "/Library/Python/3.8/site-packages/fastapi/routing.py", line 214, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x10e395a60>
  File "/Library/Python/3.8/site-packages/fastapi/routing.py", line 149, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'request': <starlette.requests.Request object at 0x10efed310>}
                 │         └ <function action at 0x10f357f70>
                 └ <fastapi.dependencies.models.Dependant object at 0x10f0e43d0>

  File "./app/routers/conversation.py", line 10, in action
    return await controller.index(request)
                 │          │     └ <starlette.requests.Request object at 0x10efed310>
                 │          └ <staticmethod object at 0x10ead98e0>
                 └ <class 'app.controllers.Conversation.Conversation'>

  File "./app/controllers/Conversation.py", line 198, in index
    resfull = agent.handle_request(handler)
              │     │              └ <function handler at 0x10f357dc0>
              │     └ <function WebhookClient.handle_request at 0x10f357280>
              └ <dialogflow_fulfillment.webhook_client.WebhookClient object at 0x10effa550>

  File "/Library/Python/3.8/site-packages/dialogflow_fulfillment/webhook_client.py", line 271, in handle_request
    return handler_function(self)
           │                └ <dialogflow_fulfillment.webhook_client.WebhookClient object at 0x10effa550>
           └ <function handler at 0x10f357dc0>

  File "./app/controllers/Conversation.py", line 139, in handler
    page = Pagination(agent)
           │          └ <dialogflow_fulfillment.webhook_client.WebhookClient object at 0x10effa550>
           └ <class 'app.libraries.Pagination.Pagination'>

  File "./app/libraries/Pagination.py", line 42, in __init__
    self.pages(dict(contextact)['parameters']['category'])
    │    │          └ None
    │    └ <function Pagination.pages at 0x10f3574c0>
    └ <app.libraries.Pagination.Pagination object at 0x10effa970>

TypeError: 'NoneType' object is not iterable
INFO     2021-07-27 21:26:40.346 request id: app - uvicorn.protocols.http.h11_impl:send - 66.249.83.3:0 - "POST /webhook HTTP/1.1" 200
INFO     2021-07-27 21:26:47.989 request id: app - uvicorn.protocols.http.h11_impl:send - 66.249.83.22:0 - "POST /webhook HTTP/1.1" 200
INFO     2021-07-27 21:29:12.094 request id: app - uvicorn.protocols.http.h11_impl:send - 66.249.83.89:0 - "POST /webhook HTTP/1.1" 500
ERROR    2021-07-27 21:29:12.097 request id: app - uvicorn.protocols.http.h11_impl:run_asgi - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 5
               │     └ 8
               └ <function _main at 0x10db700d0>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 5
           │    └ <function BaseProcess._bootstrap at 0x10d943b80>
           └ <SpawnProcess name='SpawnProcess-1' parent=7596 started>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x10d9431f0>
    └ <SpawnProcess name='SpawnProcess-1' parent=7596 started>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x10dbd7100>, 'target': <bound method Server.run of <uvicorn.server.Server object...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-1' parent=7596 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-1' parent=7596 started>
    │    └ <function subprocess_started at 0x10e1af670>
    └ <SpawnProcess name='SpawnProcess-1' parent=7596 started>
  File "/Library/Python/3.8/site-packages/uvicorn/subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=4, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 5000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x10dbd71f0>>
  File "/Library/Python/3.8/site-packages/uvicorn/server.py", line 50, in run
    loop.run_until_complete(self.serve(sockets=sockets))
    │    │                  │    │             └ [<socket.socket fd=4, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 5000)>]
    │    │                  │    └ <function Server.serve at 0x10e1acc10>
    │    │                  └ <uvicorn.server.Server object at 0x10dbd71f0>
    │    └ <function BaseEventLoop.run_until_complete at 0x10de69790>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/asyncio/base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x10de69700>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/asyncio/base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x10de6b280>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/asyncio/base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x10dd9e160>
    └ <Handle <TaskWakeupMethWrapper object at 0x10effef10>(<Future finished result=None>)>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/asyncio/events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x10effef10>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x10effef10>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x10effef10>(<Future finished result=None>)>
> File "/Library/Python/3.8/site-packages/uvicorn/protocols/http/h11_impl.py", line 369, in run_asgi
    result = await app(self.scope, self.receive, self.send)
                   │   │    │      │    │        │    └ <function RequestResponseCycle.send at 0x10e3cb4c0>
                   │   │    │      │    │        └ <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10efe93a0>
                   │   │    │      │    └ <function RequestResponseCycle.receive at 0x10e3cb550>
                   │   │    │      └ <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10efe93a0>
                   │   │    └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
                   │   └ <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10efe93a0>
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x10e2bbe50>
  File "/Library/Python/3.8/site-packages/uvicorn/middleware/proxy_headers.py", line 59, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10efe93a0>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10efe93a0>>
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x10e3e7670>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x10e2bbe50>
  File "/Library/Python/3.8/site-packages/fastapi/applications.py", line 199, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10efe93a0>>
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10efe93a0>>
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
  File "/Library/Python/3.8/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10efe93a0>>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10efe93a0>>
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x10f0f6580>
          └ <fastapi.applications.FastAPI object at 0x10e3e7670>
  File "/Library/Python/3.8/site-packages/starlette/middleware/errors.py", line 181, in __call__
    raise exc from None
  File "/Library/Python/3.8/site-packages/starlette/middleware/errors.py", line 159, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x10f248f70>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10efe93a0>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x10f0f6520>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x10f0f6580>
  File "/Library/Python/3.8/site-packages/starlette/middleware/base.py", line 25, in __call__
    response = await self.dispatch_func(request, self.call_next)
                     │    │             │        │    └ <function BaseHTTPMiddleware.call_next at 0x10e7fbb80>
                     │    │             │        └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x10f0f6520>
                     │    │             └ <starlette.requests.Request object at 0x10effe130>
                     │    └ <function add_process_time_header at 0x10f0f34c0>
                     └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x10f0f6520>

  File "./app/__init__.py", line 65, in add_process_time_header
    response = await call_next(request)
                     │         └ <starlette.requests.Request object at 0x10effe130>
                     └ <bound method BaseHTTPMiddleware.call_next of <starlette.middleware.base.BaseHTTPMiddleware object at 0x10f0f6520>>

  File "/Library/Python/3.8/site-packages/starlette/middleware/base.py", line 45, in call_next
    task.result()
    │    └ <method 'result' of '_asyncio.Task' objects>
    └ <Task finished name='Task-622' coro=<BaseHTTPMiddleware.call_next.<locals>.coro() done, defined at /Library/Python/3.8/site-p...
  File "/Library/Python/3.8/site-packages/starlette/middleware/base.py", line 38, in coro
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method Queue.put of <Queue at 0x10effefd0 maxsize=0 tasks=1>>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10efe93a0>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x10f0f64f0>
          └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x10f0f6520>
  File "/Library/Python/3.8/site-packages/starlette/middleware/cors.py", line 78, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method Queue.put of <Queue at 0x10effefd0 maxsize=0 tasks=1>>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10efe93a0>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x10f0f6490>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x10f0f64f0>
  File "/Library/Python/3.8/site-packages/starlette/exceptions.py", line 82, in __call__
    raise exc from None
  File "/Library/Python/3.8/site-packages/starlette/exceptions.py", line 71, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x10f248ee0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10efe93a0>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x10f293ac0>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x10f0f6490>
  File "/Library/Python/3.8/site-packages/starlette/routing.py", line 580, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x10f248ee0>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10efe93a0>>
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │     └ <function Route.handle at 0x10e395ee0>
          └ <fastapi.routing.APIRoute object at 0x10f0e42e0>
  File "/Library/Python/3.8/site-packages/starlette/routing.py", line 241, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x10f248ee0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10efe93a0>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <function request_response.<locals>.app at 0x10f0e61f0>
          └ <fastapi.routing.APIRoute object at 0x10f0e42e0>
  File "/Library/Python/3.8/site-packages/starlette/routing.py", line 52, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x10efe93d0>
                     └ <function get_request_handler.<locals>.app at 0x10f0e6160>
  File "/Library/Python/3.8/site-packages/fastapi/routing.py", line 214, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x10e395a60>
  File "/Library/Python/3.8/site-packages/fastapi/routing.py", line 149, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'request': <starlette.requests.Request object at 0x10efe93d0>}
                 │         └ <function action at 0x10f357f70>
                 └ <fastapi.dependencies.models.Dependant object at 0x10f0e43d0>

  File "./app/routers/conversation.py", line 10, in action
    return await controller.index(request)
                 │          │     └ <starlette.requests.Request object at 0x10efe93d0>
                 │          └ <staticmethod object at 0x10ead98e0>
                 └ <class 'app.controllers.Conversation.Conversation'>

  File "./app/controllers/Conversation.py", line 198, in index
    resfull = agent.handle_request(handler)
              │     │              └ <function handler at 0x10f357dc0>
              │     └ <function WebhookClient.handle_request at 0x10f357280>
              └ <dialogflow_fulfillment.webhook_client.WebhookClient object at 0x10efe9df0>

  File "/Library/Python/3.8/site-packages/dialogflow_fulfillment/webhook_client.py", line 271, in handle_request
    return handler_function(self)
           │                └ <dialogflow_fulfillment.webhook_client.WebhookClient object at 0x10efe9df0>
           └ <function handler at 0x10f357dc0>

  File "./app/controllers/Conversation.py", line 139, in handler
    page = Pagination(agent)
           │          └ <dialogflow_fulfillment.webhook_client.WebhookClient object at 0x10efe9df0>
           └ <class 'app.libraries.Pagination.Pagination'>

  File "./app/libraries/Pagination.py", line 42, in __init__
    self.pages(dict(contextact)['parameters']['category'])
    │    │          └ None
    │    └ <function Pagination.pages at 0x10f3574c0>
    └ <app.libraries.Pagination.Pagination object at 0x10efe9640>

TypeError: 'NoneType' object is not iterable
ERROR    2021-07-27 21:29:12.142 request id: app - uvicorn.protocols.http.h11_impl:run_asgi - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 5
               │     └ 8
               └ <function _main at 0x10db700d0>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 5
           │    └ <function BaseProcess._bootstrap at 0x10d943b80>
           └ <SpawnProcess name='SpawnProcess-1' parent=7596 started>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x10d9431f0>
    └ <SpawnProcess name='SpawnProcess-1' parent=7596 started>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x10dbd7100>, 'target': <bound method Server.run of <uvicorn.server.Server object...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-1' parent=7596 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-1' parent=7596 started>
    │    └ <function subprocess_started at 0x10e1af670>
    └ <SpawnProcess name='SpawnProcess-1' parent=7596 started>
  File "/Library/Python/3.8/site-packages/uvicorn/subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=4, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 5000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x10dbd71f0>>
  File "/Library/Python/3.8/site-packages/uvicorn/server.py", line 50, in run
    loop.run_until_complete(self.serve(sockets=sockets))
    │    │                  │    │             └ [<socket.socket fd=4, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 5000)>]
    │    │                  │    └ <function Server.serve at 0x10e1acc10>
    │    │                  └ <uvicorn.server.Server object at 0x10dbd71f0>
    │    └ <function BaseEventLoop.run_until_complete at 0x10de69790>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/asyncio/base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x10de69700>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/asyncio/base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x10de6b280>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/asyncio/base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x10dd9e160>
    └ <Handle <TaskWakeupMethWrapper object at 0x10effef10>(<Future finished result=None>)>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/asyncio/events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x10effef10>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x10effef10>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x10effef10>(<Future finished result=None>)>
> File "/Library/Python/3.8/site-packages/uvicorn/protocols/http/h11_impl.py", line 369, in run_asgi
    result = await app(self.scope, self.receive, self.send)
                   │   │    │      │    │        │    └ <function RequestResponseCycle.send at 0x10e3cb4c0>
                   │   │    │      │    │        └ <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10efe93a0>
                   │   │    │      │    └ <function RequestResponseCycle.receive at 0x10e3cb550>
                   │   │    │      └ <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10efe93a0>
                   │   │    └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
                   │   └ <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10efe93a0>
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x10e2bbe50>
  File "/Library/Python/3.8/site-packages/uvicorn/middleware/proxy_headers.py", line 59, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10efe93a0>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10efe93a0>>
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x10e3e7670>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x10e2bbe50>
  File "/Library/Python/3.8/site-packages/fastapi/applications.py", line 199, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10efe93a0>>
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10efe93a0>>
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
  File "/Library/Python/3.8/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10efe93a0>>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10efe93a0>>
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x10f0f6580>
          └ <fastapi.applications.FastAPI object at 0x10e3e7670>
  File "/Library/Python/3.8/site-packages/starlette/middleware/errors.py", line 181, in __call__
    raise exc from None
  File "/Library/Python/3.8/site-packages/starlette/middleware/errors.py", line 159, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x10f248f70>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10efe93a0>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x10f0f6520>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x10f0f6580>
  File "/Library/Python/3.8/site-packages/starlette/middleware/base.py", line 25, in __call__
    response = await self.dispatch_func(request, self.call_next)
                     │    │             │        │    └ <function BaseHTTPMiddleware.call_next at 0x10e7fbb80>
                     │    │             │        └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x10f0f6520>
                     │    │             └ <starlette.requests.Request object at 0x10effe130>
                     │    └ <function add_process_time_header at 0x10f0f34c0>
                     └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x10f0f6520>

  File "./app/__init__.py", line 65, in add_process_time_header
    response = await call_next(request)
                     │         └ <starlette.requests.Request object at 0x10effe130>
                     └ <bound method BaseHTTPMiddleware.call_next of <starlette.middleware.base.BaseHTTPMiddleware object at 0x10f0f6520>>

  File "/Library/Python/3.8/site-packages/starlette/middleware/base.py", line 45, in call_next
    task.result()
    │    └ <method 'result' of '_asyncio.Task' objects>
    └ <Task finished name='Task-622' coro=<BaseHTTPMiddleware.call_next.<locals>.coro() done, defined at /Library/Python/3.8/site-p...
  File "/Library/Python/3.8/site-packages/starlette/middleware/base.py", line 38, in coro
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method Queue.put of <Queue at 0x10effefd0 maxsize=0 tasks=1>>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10efe93a0>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x10f0f64f0>
          └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x10f0f6520>
  File "/Library/Python/3.8/site-packages/starlette/middleware/cors.py", line 78, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method Queue.put of <Queue at 0x10effefd0 maxsize=0 tasks=1>>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10efe93a0>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x10f0f6490>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x10f0f64f0>
  File "/Library/Python/3.8/site-packages/starlette/exceptions.py", line 82, in __call__
    raise exc from None
  File "/Library/Python/3.8/site-packages/starlette/exceptions.py", line 71, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x10f248ee0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10efe93a0>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x10f293ac0>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x10f0f6490>
  File "/Library/Python/3.8/site-packages/starlette/routing.py", line 580, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x10f248ee0>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10efe93a0>>
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │     └ <function Route.handle at 0x10e395ee0>
          └ <fastapi.routing.APIRoute object at 0x10f0e42e0>
  File "/Library/Python/3.8/site-packages/starlette/routing.py", line 241, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x10f248ee0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10efe93a0>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <function request_response.<locals>.app at 0x10f0e61f0>
          └ <fastapi.routing.APIRoute object at 0x10f0e42e0>
  File "/Library/Python/3.8/site-packages/starlette/routing.py", line 52, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x10efe93d0>
                     └ <function get_request_handler.<locals>.app at 0x10f0e6160>
  File "/Library/Python/3.8/site-packages/fastapi/routing.py", line 214, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x10e395a60>
  File "/Library/Python/3.8/site-packages/fastapi/routing.py", line 149, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'request': <starlette.requests.Request object at 0x10efe93d0>}
                 │         └ <function action at 0x10f357f70>
                 └ <fastapi.dependencies.models.Dependant object at 0x10f0e43d0>

  File "./app/routers/conversation.py", line 10, in action
    return await controller.index(request)
                 │          │     └ <starlette.requests.Request object at 0x10efe93d0>
                 │          └ <staticmethod object at 0x10ead98e0>
                 └ <class 'app.controllers.Conversation.Conversation'>

  File "./app/controllers/Conversation.py", line 198, in index
    resfull = agent.handle_request(handler)
              │     │              └ <function handler at 0x10f357dc0>
              │     └ <function WebhookClient.handle_request at 0x10f357280>
              └ <dialogflow_fulfillment.webhook_client.WebhookClient object at 0x10efe9df0>

  File "/Library/Python/3.8/site-packages/dialogflow_fulfillment/webhook_client.py", line 271, in handle_request
    return handler_function(self)
           │                └ <dialogflow_fulfillment.webhook_client.WebhookClient object at 0x10efe9df0>
           └ <function handler at 0x10f357dc0>

  File "./app/controllers/Conversation.py", line 139, in handler
    page = Pagination(agent)
           │          └ <dialogflow_fulfillment.webhook_client.WebhookClient object at 0x10efe9df0>
           └ <class 'app.libraries.Pagination.Pagination'>

  File "./app/libraries/Pagination.py", line 42, in __init__
    self.pages(dict(contextact)['parameters']['category'])
    │    │          └ None
    │    └ <function Pagination.pages at 0x10f3574c0>
    └ <app.libraries.Pagination.Pagination object at 0x10efe9640>

TypeError: 'NoneType' object is not iterable
ERROR    2021-07-27 21:29:12.171 request id: app - uvicorn.protocols.http.h11_impl:run_asgi - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 5
               │     └ 8
               └ <function _main at 0x10db700d0>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 5
           │    └ <function BaseProcess._bootstrap at 0x10d943b80>
           └ <SpawnProcess name='SpawnProcess-1' parent=7596 started>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x10d9431f0>
    └ <SpawnProcess name='SpawnProcess-1' parent=7596 started>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x10dbd7100>, 'target': <bound method Server.run of <uvicorn.server.Server object...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-1' parent=7596 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-1' parent=7596 started>
    │    └ <function subprocess_started at 0x10e1af670>
    └ <SpawnProcess name='SpawnProcess-1' parent=7596 started>
  File "/Library/Python/3.8/site-packages/uvicorn/subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=4, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 5000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x10dbd71f0>>
  File "/Library/Python/3.8/site-packages/uvicorn/server.py", line 50, in run
    loop.run_until_complete(self.serve(sockets=sockets))
    │    │                  │    │             └ [<socket.socket fd=4, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 5000)>]
    │    │                  │    └ <function Server.serve at 0x10e1acc10>
    │    │                  └ <uvicorn.server.Server object at 0x10dbd71f0>
    │    └ <function BaseEventLoop.run_until_complete at 0x10de69790>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/asyncio/base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x10de69700>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/asyncio/base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x10de6b280>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/asyncio/base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x10dd9e160>
    └ <Handle <TaskWakeupMethWrapper object at 0x10effef10>(<Future finished result=None>)>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/asyncio/events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x10effef10>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x10effef10>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x10effef10>(<Future finished result=None>)>
> File "/Library/Python/3.8/site-packages/uvicorn/protocols/http/h11_impl.py", line 369, in run_asgi
    result = await app(self.scope, self.receive, self.send)
                   │   │    │      │    │        │    └ <function RequestResponseCycle.send at 0x10e3cb4c0>
                   │   │    │      │    │        └ <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10efe93a0>
                   │   │    │      │    └ <function RequestResponseCycle.receive at 0x10e3cb550>
                   │   │    │      └ <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10efe93a0>
                   │   │    └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
                   │   └ <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10efe93a0>
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x10e2bbe50>
  File "/Library/Python/3.8/site-packages/uvicorn/middleware/proxy_headers.py", line 59, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10efe93a0>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10efe93a0>>
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x10e3e7670>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x10e2bbe50>
  File "/Library/Python/3.8/site-packages/fastapi/applications.py", line 199, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10efe93a0>>
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10efe93a0>>
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
  File "/Library/Python/3.8/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10efe93a0>>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10efe93a0>>
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x10f0f6580>
          └ <fastapi.applications.FastAPI object at 0x10e3e7670>
  File "/Library/Python/3.8/site-packages/starlette/middleware/errors.py", line 181, in __call__
    raise exc from None
  File "/Library/Python/3.8/site-packages/starlette/middleware/errors.py", line 159, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x10f248f70>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10efe93a0>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x10f0f6520>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x10f0f6580>
  File "/Library/Python/3.8/site-packages/starlette/middleware/base.py", line 25, in __call__
    response = await self.dispatch_func(request, self.call_next)
                     │    │             │        │    └ <function BaseHTTPMiddleware.call_next at 0x10e7fbb80>
                     │    │             │        └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x10f0f6520>
                     │    │             └ <starlette.requests.Request object at 0x10effe130>
                     │    └ <function add_process_time_header at 0x10f0f34c0>
                     └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x10f0f6520>

  File "./app/__init__.py", line 65, in add_process_time_header
    response = await call_next(request)
                     │         └ <starlette.requests.Request object at 0x10effe130>
                     └ <bound method BaseHTTPMiddleware.call_next of <starlette.middleware.base.BaseHTTPMiddleware object at 0x10f0f6520>>

  File "/Library/Python/3.8/site-packages/starlette/middleware/base.py", line 45, in call_next
    task.result()
    │    └ <method 'result' of '_asyncio.Task' objects>
    └ <Task finished name='Task-622' coro=<BaseHTTPMiddleware.call_next.<locals>.coro() done, defined at /Library/Python/3.8/site-p...
  File "/Library/Python/3.8/site-packages/starlette/middleware/base.py", line 38, in coro
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method Queue.put of <Queue at 0x10effefd0 maxsize=0 tasks=1>>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10efe93a0>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x10f0f64f0>
          └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x10f0f6520>
  File "/Library/Python/3.8/site-packages/starlette/middleware/cors.py", line 78, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method Queue.put of <Queue at 0x10effefd0 maxsize=0 tasks=1>>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10efe93a0>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x10f0f6490>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x10f0f64f0>
  File "/Library/Python/3.8/site-packages/starlette/exceptions.py", line 82, in __call__
    raise exc from None
  File "/Library/Python/3.8/site-packages/starlette/exceptions.py", line 71, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x10f248ee0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10efe93a0>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x10f293ac0>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x10f0f6490>
  File "/Library/Python/3.8/site-packages/starlette/routing.py", line 580, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x10f248ee0>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10efe93a0>>
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │     └ <function Route.handle at 0x10e395ee0>
          └ <fastapi.routing.APIRoute object at 0x10f0e42e0>
  File "/Library/Python/3.8/site-packages/starlette/routing.py", line 241, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x10f248ee0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10efe93a0>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <function request_response.<locals>.app at 0x10f0e61f0>
          └ <fastapi.routing.APIRoute object at 0x10f0e42e0>
  File "/Library/Python/3.8/site-packages/starlette/routing.py", line 52, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x10efe93d0>
                     └ <function get_request_handler.<locals>.app at 0x10f0e6160>
  File "/Library/Python/3.8/site-packages/fastapi/routing.py", line 214, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x10e395a60>
  File "/Library/Python/3.8/site-packages/fastapi/routing.py", line 149, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'request': <starlette.requests.Request object at 0x10efe93d0>}
                 │         └ <function action at 0x10f357f70>
                 └ <fastapi.dependencies.models.Dependant object at 0x10f0e43d0>

  File "./app/routers/conversation.py", line 10, in action
    return await controller.index(request)
                 │          │     └ <starlette.requests.Request object at 0x10efe93d0>
                 │          └ <staticmethod object at 0x10ead98e0>
                 └ <class 'app.controllers.Conversation.Conversation'>

  File "./app/controllers/Conversation.py", line 198, in index
    resfull = agent.handle_request(handler)
              │     │              └ <function handler at 0x10f357dc0>
              │     └ <function WebhookClient.handle_request at 0x10f357280>
              └ <dialogflow_fulfillment.webhook_client.WebhookClient object at 0x10efe9df0>

  File "/Library/Python/3.8/site-packages/dialogflow_fulfillment/webhook_client.py", line 271, in handle_request
    return handler_function(self)
           │                └ <dialogflow_fulfillment.webhook_client.WebhookClient object at 0x10efe9df0>
           └ <function handler at 0x10f357dc0>

  File "./app/controllers/Conversation.py", line 139, in handler
    page = Pagination(agent)
           │          └ <dialogflow_fulfillment.webhook_client.WebhookClient object at 0x10efe9df0>
           └ <class 'app.libraries.Pagination.Pagination'>

  File "./app/libraries/Pagination.py", line 42, in __init__
    self.pages(dict(contextact)['parameters']['category'])
    │    │          └ None
    │    └ <function Pagination.pages at 0x10f3574c0>
    └ <app.libraries.Pagination.Pagination object at 0x10efe9640>

TypeError: 'NoneType' object is not iterable
INFO     2021-07-27 21:29:21.794 request id: app - uvicorn.protocols.http.h11_impl:send - 66.249.83.90:0 - "POST /webhook HTTP/1.1" 200
INFO     2021-07-27 21:30:00.446 request id: app - uvicorn.protocols.http.h11_impl:send - 66.249.83.70:0 - "POST /webhook HTTP/1.1" 200
INFO     2021-07-27 21:30:14.316 request id: app - uvicorn.protocols.http.h11_impl:send - 66.249.83.83:0 - "POST /webhook HTTP/1.1" 500
ERROR    2021-07-27 21:30:14.320 request id: app - uvicorn.protocols.http.h11_impl:run_asgi - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 5
               │     └ 8
               └ <function _main at 0x10db700d0>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 5
           │    └ <function BaseProcess._bootstrap at 0x10d943b80>
           └ <SpawnProcess name='SpawnProcess-1' parent=7596 started>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x10d9431f0>
    └ <SpawnProcess name='SpawnProcess-1' parent=7596 started>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x10dbd7100>, 'target': <bound method Server.run of <uvicorn.server.Server object...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-1' parent=7596 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-1' parent=7596 started>
    │    └ <function subprocess_started at 0x10e1af670>
    └ <SpawnProcess name='SpawnProcess-1' parent=7596 started>
  File "/Library/Python/3.8/site-packages/uvicorn/subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=4, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 5000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x10dbd71f0>>
  File "/Library/Python/3.8/site-packages/uvicorn/server.py", line 50, in run
    loop.run_until_complete(self.serve(sockets=sockets))
    │    │                  │    │             └ [<socket.socket fd=4, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 5000)>]
    │    │                  │    └ <function Server.serve at 0x10e1acc10>
    │    │                  └ <uvicorn.server.Server object at 0x10dbd71f0>
    │    └ <function BaseEventLoop.run_until_complete at 0x10de69790>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/asyncio/base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x10de69700>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/asyncio/base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x10de6b280>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/asyncio/base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x10dd9e160>
    └ <Handle <TaskWakeupMethWrapper object at 0x10f0633a0>(<Future finished result=None>)>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/asyncio/events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x10f0633a0>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x10f0633a0>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x10f0633a0>(<Future finished result=None>)>
> File "/Library/Python/3.8/site-packages/uvicorn/protocols/http/h11_impl.py", line 369, in run_asgi
    result = await app(self.scope, self.receive, self.send)
                   │   │    │      │    │        │    └ <function RequestResponseCycle.send at 0x10e3cb4c0>
                   │   │    │      │    │        └ <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10f063d30>
                   │   │    │      │    └ <function RequestResponseCycle.receive at 0x10e3cb550>
                   │   │    │      └ <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10f063d30>
                   │   │    └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
                   │   └ <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10f063d30>
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x10e2bbe50>
  File "/Library/Python/3.8/site-packages/uvicorn/middleware/proxy_headers.py", line 59, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10f063d30>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10f063d30>>
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x10e3e7670>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x10e2bbe50>
  File "/Library/Python/3.8/site-packages/fastapi/applications.py", line 199, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10f063d30>>
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10f063d30>>
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
  File "/Library/Python/3.8/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10f063d30>>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10f063d30>>
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x10f0f6580>
          └ <fastapi.applications.FastAPI object at 0x10e3e7670>
  File "/Library/Python/3.8/site-packages/starlette/middleware/errors.py", line 181, in __call__
    raise exc from None
  File "/Library/Python/3.8/site-packages/starlette/middleware/errors.py", line 159, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x10f268310>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10f063d30>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x10f0f6520>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x10f0f6580>
  File "/Library/Python/3.8/site-packages/starlette/middleware/base.py", line 25, in __call__
    response = await self.dispatch_func(request, self.call_next)
                     │    │             │        │    └ <function BaseHTTPMiddleware.call_next at 0x10e7fbb80>
                     │    │             │        └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x10f0f6520>
                     │    │             └ <starlette.requests.Request object at 0x10f063a90>
                     │    └ <function add_process_time_header at 0x10f0f34c0>
                     └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x10f0f6520>

  File "./app/__init__.py", line 65, in add_process_time_header
    response = await call_next(request)
                     │         └ <starlette.requests.Request object at 0x10f063a90>
                     └ <bound method BaseHTTPMiddleware.call_next of <starlette.middleware.base.BaseHTTPMiddleware object at 0x10f0f6520>>

  File "/Library/Python/3.8/site-packages/starlette/middleware/base.py", line 45, in call_next
    task.result()
    │    └ <method 'result' of '_asyncio.Task' objects>
    └ <Task finished name='Task-638' coro=<BaseHTTPMiddleware.call_next.<locals>.coro() done, defined at /Library/Python/3.8/site-p...
  File "/Library/Python/3.8/site-packages/starlette/middleware/base.py", line 38, in coro
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method Queue.put of <Queue at 0x10f0637c0 maxsize=0 tasks=1>>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10f063d30>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x10f0f64f0>
          └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x10f0f6520>
  File "/Library/Python/3.8/site-packages/starlette/middleware/cors.py", line 78, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method Queue.put of <Queue at 0x10f0637c0 maxsize=0 tasks=1>>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10f063d30>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x10f0f6490>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x10f0f64f0>
  File "/Library/Python/3.8/site-packages/starlette/exceptions.py", line 82, in __call__
    raise exc from None
  File "/Library/Python/3.8/site-packages/starlette/exceptions.py", line 71, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x10f2680d0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10f063d30>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x10f293ac0>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x10f0f6490>
  File "/Library/Python/3.8/site-packages/starlette/routing.py", line 580, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x10f2680d0>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10f063d30>>
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │     └ <function Route.handle at 0x10e395ee0>
          └ <fastapi.routing.APIRoute object at 0x10f0e42e0>
  File "/Library/Python/3.8/site-packages/starlette/routing.py", line 241, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x10f2680d0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10f063d30>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <function request_response.<locals>.app at 0x10f0e61f0>
          └ <fastapi.routing.APIRoute object at 0x10f0e42e0>
  File "/Library/Python/3.8/site-packages/starlette/routing.py", line 52, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x10f063a00>
                     └ <function get_request_handler.<locals>.app at 0x10f0e6160>
  File "/Library/Python/3.8/site-packages/fastapi/routing.py", line 214, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x10e395a60>
  File "/Library/Python/3.8/site-packages/fastapi/routing.py", line 149, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'request': <starlette.requests.Request object at 0x10f063a00>}
                 │         └ <function action at 0x10f357f70>
                 └ <fastapi.dependencies.models.Dependant object at 0x10f0e43d0>

  File "./app/routers/conversation.py", line 10, in action
    return await controller.index(request)
                 │          │     └ <starlette.requests.Request object at 0x10f063a00>
                 │          └ <staticmethod object at 0x10ead98e0>
                 └ <class 'app.controllers.Conversation.Conversation'>

  File "./app/controllers/Conversation.py", line 198, in index
    resfull = agent.handle_request(handler)
              │     │              └ <function handler at 0x10f357dc0>
              │     └ <function WebhookClient.handle_request at 0x10f357280>
              └ <dialogflow_fulfillment.webhook_client.WebhookClient object at 0x10effadc0>

  File "/Library/Python/3.8/site-packages/dialogflow_fulfillment/webhook_client.py", line 271, in handle_request
    return handler_function(self)
           │                └ <dialogflow_fulfillment.webhook_client.WebhookClient object at 0x10effadc0>
           └ <function handler at 0x10f357dc0>

  File "./app/controllers/Conversation.py", line 139, in handler
    page = Pagination(agent)
           │          └ <dialogflow_fulfillment.webhook_client.WebhookClient object at 0x10effadc0>
           └ <class 'app.libraries.Pagination.Pagination'>

  File "./app/libraries/Pagination.py", line 42, in __init__
    self.pages(dict(contextact)['parameters']['category'])
    │    │          └ None
    │    └ <function Pagination.pages at 0x10f3574c0>
    └ <app.libraries.Pagination.Pagination object at 0x10effad90>

TypeError: 'NoneType' object is not iterable
ERROR    2021-07-27 21:30:14.360 request id: app - uvicorn.protocols.http.h11_impl:run_asgi - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 5
               │     └ 8
               └ <function _main at 0x10db700d0>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 5
           │    └ <function BaseProcess._bootstrap at 0x10d943b80>
           └ <SpawnProcess name='SpawnProcess-1' parent=7596 started>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x10d9431f0>
    └ <SpawnProcess name='SpawnProcess-1' parent=7596 started>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x10dbd7100>, 'target': <bound method Server.run of <uvicorn.server.Server object...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-1' parent=7596 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-1' parent=7596 started>
    │    └ <function subprocess_started at 0x10e1af670>
    └ <SpawnProcess name='SpawnProcess-1' parent=7596 started>
  File "/Library/Python/3.8/site-packages/uvicorn/subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=4, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 5000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x10dbd71f0>>
  File "/Library/Python/3.8/site-packages/uvicorn/server.py", line 50, in run
    loop.run_until_complete(self.serve(sockets=sockets))
    │    │                  │    │             └ [<socket.socket fd=4, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 5000)>]
    │    │                  │    └ <function Server.serve at 0x10e1acc10>
    │    │                  └ <uvicorn.server.Server object at 0x10dbd71f0>
    │    └ <function BaseEventLoop.run_until_complete at 0x10de69790>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/asyncio/base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x10de69700>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/asyncio/base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x10de6b280>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/asyncio/base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x10dd9e160>
    └ <Handle <TaskWakeupMethWrapper object at 0x10f0633a0>(<Future finished result=None>)>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/asyncio/events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x10f0633a0>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x10f0633a0>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x10f0633a0>(<Future finished result=None>)>
> File "/Library/Python/3.8/site-packages/uvicorn/protocols/http/h11_impl.py", line 369, in run_asgi
    result = await app(self.scope, self.receive, self.send)
                   │   │    │      │    │        │    └ <function RequestResponseCycle.send at 0x10e3cb4c0>
                   │   │    │      │    │        └ <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10f063d30>
                   │   │    │      │    └ <function RequestResponseCycle.receive at 0x10e3cb550>
                   │   │    │      └ <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10f063d30>
                   │   │    └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
                   │   └ <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10f063d30>
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x10e2bbe50>
  File "/Library/Python/3.8/site-packages/uvicorn/middleware/proxy_headers.py", line 59, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10f063d30>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10f063d30>>
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x10e3e7670>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x10e2bbe50>
  File "/Library/Python/3.8/site-packages/fastapi/applications.py", line 199, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10f063d30>>
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10f063d30>>
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
  File "/Library/Python/3.8/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10f063d30>>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10f063d30>>
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x10f0f6580>
          └ <fastapi.applications.FastAPI object at 0x10e3e7670>
  File "/Library/Python/3.8/site-packages/starlette/middleware/errors.py", line 181, in __call__
    raise exc from None
  File "/Library/Python/3.8/site-packages/starlette/middleware/errors.py", line 159, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x10f268310>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10f063d30>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x10f0f6520>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x10f0f6580>
  File "/Library/Python/3.8/site-packages/starlette/middleware/base.py", line 25, in __call__
    response = await self.dispatch_func(request, self.call_next)
                     │    │             │        │    └ <function BaseHTTPMiddleware.call_next at 0x10e7fbb80>
                     │    │             │        └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x10f0f6520>
                     │    │             └ <starlette.requests.Request object at 0x10f063a90>
                     │    └ <function add_process_time_header at 0x10f0f34c0>
                     └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x10f0f6520>

  File "./app/__init__.py", line 65, in add_process_time_header
    response = await call_next(request)
                     │         └ <starlette.requests.Request object at 0x10f063a90>
                     └ <bound method BaseHTTPMiddleware.call_next of <starlette.middleware.base.BaseHTTPMiddleware object at 0x10f0f6520>>

  File "/Library/Python/3.8/site-packages/starlette/middleware/base.py", line 45, in call_next
    task.result()
    │    └ <method 'result' of '_asyncio.Task' objects>
    └ <Task finished name='Task-638' coro=<BaseHTTPMiddleware.call_next.<locals>.coro() done, defined at /Library/Python/3.8/site-p...
  File "/Library/Python/3.8/site-packages/starlette/middleware/base.py", line 38, in coro
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method Queue.put of <Queue at 0x10f0637c0 maxsize=0 tasks=1>>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10f063d30>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x10f0f64f0>
          └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x10f0f6520>
  File "/Library/Python/3.8/site-packages/starlette/middleware/cors.py", line 78, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method Queue.put of <Queue at 0x10f0637c0 maxsize=0 tasks=1>>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10f063d30>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x10f0f6490>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x10f0f64f0>
  File "/Library/Python/3.8/site-packages/starlette/exceptions.py", line 82, in __call__
    raise exc from None
  File "/Library/Python/3.8/site-packages/starlette/exceptions.py", line 71, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x10f2680d0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10f063d30>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x10f293ac0>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x10f0f6490>
  File "/Library/Python/3.8/site-packages/starlette/routing.py", line 580, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x10f2680d0>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10f063d30>>
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │     └ <function Route.handle at 0x10e395ee0>
          └ <fastapi.routing.APIRoute object at 0x10f0e42e0>
  File "/Library/Python/3.8/site-packages/starlette/routing.py", line 241, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x10f2680d0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10f063d30>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <function request_response.<locals>.app at 0x10f0e61f0>
          └ <fastapi.routing.APIRoute object at 0x10f0e42e0>
  File "/Library/Python/3.8/site-packages/starlette/routing.py", line 52, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x10f063a00>
                     └ <function get_request_handler.<locals>.app at 0x10f0e6160>
  File "/Library/Python/3.8/site-packages/fastapi/routing.py", line 214, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x10e395a60>
  File "/Library/Python/3.8/site-packages/fastapi/routing.py", line 149, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'request': <starlette.requests.Request object at 0x10f063a00>}
                 │         └ <function action at 0x10f357f70>
                 └ <fastapi.dependencies.models.Dependant object at 0x10f0e43d0>

  File "./app/routers/conversation.py", line 10, in action
    return await controller.index(request)
                 │          │     └ <starlette.requests.Request object at 0x10f063a00>
                 │          └ <staticmethod object at 0x10ead98e0>
                 └ <class 'app.controllers.Conversation.Conversation'>

  File "./app/controllers/Conversation.py", line 198, in index
    resfull = agent.handle_request(handler)
              │     │              └ <function handler at 0x10f357dc0>
              │     └ <function WebhookClient.handle_request at 0x10f357280>
              └ <dialogflow_fulfillment.webhook_client.WebhookClient object at 0x10effadc0>

  File "/Library/Python/3.8/site-packages/dialogflow_fulfillment/webhook_client.py", line 271, in handle_request
    return handler_function(self)
           │                └ <dialogflow_fulfillment.webhook_client.WebhookClient object at 0x10effadc0>
           └ <function handler at 0x10f357dc0>

  File "./app/controllers/Conversation.py", line 139, in handler
    page = Pagination(agent)
           │          └ <dialogflow_fulfillment.webhook_client.WebhookClient object at 0x10effadc0>
           └ <class 'app.libraries.Pagination.Pagination'>

  File "./app/libraries/Pagination.py", line 42, in __init__
    self.pages(dict(contextact)['parameters']['category'])
    │    │          └ None
    │    └ <function Pagination.pages at 0x10f3574c0>
    └ <app.libraries.Pagination.Pagination object at 0x10effad90>

TypeError: 'NoneType' object is not iterable
ERROR    2021-07-27 21:30:14.382 request id: app - uvicorn.protocols.http.h11_impl:run_asgi - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 5
               │     └ 8
               └ <function _main at 0x10db700d0>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 5
           │    └ <function BaseProcess._bootstrap at 0x10d943b80>
           └ <SpawnProcess name='SpawnProcess-1' parent=7596 started>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x10d9431f0>
    └ <SpawnProcess name='SpawnProcess-1' parent=7596 started>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x10dbd7100>, 'target': <bound method Server.run of <uvicorn.server.Server object...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-1' parent=7596 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-1' parent=7596 started>
    │    └ <function subprocess_started at 0x10e1af670>
    └ <SpawnProcess name='SpawnProcess-1' parent=7596 started>
  File "/Library/Python/3.8/site-packages/uvicorn/subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=4, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 5000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x10dbd71f0>>
  File "/Library/Python/3.8/site-packages/uvicorn/server.py", line 50, in run
    loop.run_until_complete(self.serve(sockets=sockets))
    │    │                  │    │             └ [<socket.socket fd=4, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 5000)>]
    │    │                  │    └ <function Server.serve at 0x10e1acc10>
    │    │                  └ <uvicorn.server.Server object at 0x10dbd71f0>
    │    └ <function BaseEventLoop.run_until_complete at 0x10de69790>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/asyncio/base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x10de69700>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/asyncio/base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x10de6b280>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/asyncio/base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x10dd9e160>
    └ <Handle <TaskWakeupMethWrapper object at 0x10f0633a0>(<Future finished result=None>)>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/asyncio/events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x10f0633a0>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x10f0633a0>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x10f0633a0>(<Future finished result=None>)>
> File "/Library/Python/3.8/site-packages/uvicorn/protocols/http/h11_impl.py", line 369, in run_asgi
    result = await app(self.scope, self.receive, self.send)
                   │   │    │      │    │        │    └ <function RequestResponseCycle.send at 0x10e3cb4c0>
                   │   │    │      │    │        └ <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10f063d30>
                   │   │    │      │    └ <function RequestResponseCycle.receive at 0x10e3cb550>
                   │   │    │      └ <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10f063d30>
                   │   │    └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
                   │   └ <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10f063d30>
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x10e2bbe50>
  File "/Library/Python/3.8/site-packages/uvicorn/middleware/proxy_headers.py", line 59, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10f063d30>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10f063d30>>
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x10e3e7670>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x10e2bbe50>
  File "/Library/Python/3.8/site-packages/fastapi/applications.py", line 199, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10f063d30>>
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10f063d30>>
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
  File "/Library/Python/3.8/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10f063d30>>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10f063d30>>
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x10f0f6580>
          └ <fastapi.applications.FastAPI object at 0x10e3e7670>
  File "/Library/Python/3.8/site-packages/starlette/middleware/errors.py", line 181, in __call__
    raise exc from None
  File "/Library/Python/3.8/site-packages/starlette/middleware/errors.py", line 159, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x10f268310>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10f063d30>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x10f0f6520>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x10f0f6580>
  File "/Library/Python/3.8/site-packages/starlette/middleware/base.py", line 25, in __call__
    response = await self.dispatch_func(request, self.call_next)
                     │    │             │        │    └ <function BaseHTTPMiddleware.call_next at 0x10e7fbb80>
                     │    │             │        └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x10f0f6520>
                     │    │             └ <starlette.requests.Request object at 0x10f063a90>
                     │    └ <function add_process_time_header at 0x10f0f34c0>
                     └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x10f0f6520>

  File "./app/__init__.py", line 65, in add_process_time_header
    response = await call_next(request)
                     │         └ <starlette.requests.Request object at 0x10f063a90>
                     └ <bound method BaseHTTPMiddleware.call_next of <starlette.middleware.base.BaseHTTPMiddleware object at 0x10f0f6520>>

  File "/Library/Python/3.8/site-packages/starlette/middleware/base.py", line 45, in call_next
    task.result()
    │    └ <method 'result' of '_asyncio.Task' objects>
    └ <Task finished name='Task-638' coro=<BaseHTTPMiddleware.call_next.<locals>.coro() done, defined at /Library/Python/3.8/site-p...
  File "/Library/Python/3.8/site-packages/starlette/middleware/base.py", line 38, in coro
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method Queue.put of <Queue at 0x10f0637c0 maxsize=0 tasks=1>>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10f063d30>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x10f0f64f0>
          └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x10f0f6520>
  File "/Library/Python/3.8/site-packages/starlette/middleware/cors.py", line 78, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method Queue.put of <Queue at 0x10f0637c0 maxsize=0 tasks=1>>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10f063d30>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x10f0f6490>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x10f0f64f0>
  File "/Library/Python/3.8/site-packages/starlette/exceptions.py", line 82, in __call__
    raise exc from None
  File "/Library/Python/3.8/site-packages/starlette/exceptions.py", line 71, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x10f2680d0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10f063d30>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x10f293ac0>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x10f0f6490>
  File "/Library/Python/3.8/site-packages/starlette/routing.py", line 580, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x10f2680d0>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10f063d30>>
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │     └ <function Route.handle at 0x10e395ee0>
          └ <fastapi.routing.APIRoute object at 0x10f0e42e0>
  File "/Library/Python/3.8/site-packages/starlette/routing.py", line 241, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x10f2680d0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10f063d30>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <function request_response.<locals>.app at 0x10f0e61f0>
          └ <fastapi.routing.APIRoute object at 0x10f0e42e0>
  File "/Library/Python/3.8/site-packages/starlette/routing.py", line 52, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x10f063a00>
                     └ <function get_request_handler.<locals>.app at 0x10f0e6160>
  File "/Library/Python/3.8/site-packages/fastapi/routing.py", line 214, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x10e395a60>
  File "/Library/Python/3.8/site-packages/fastapi/routing.py", line 149, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'request': <starlette.requests.Request object at 0x10f063a00>}
                 │         └ <function action at 0x10f357f70>
                 └ <fastapi.dependencies.models.Dependant object at 0x10f0e43d0>

  File "./app/routers/conversation.py", line 10, in action
    return await controller.index(request)
                 │          │     └ <starlette.requests.Request object at 0x10f063a00>
                 │          └ <staticmethod object at 0x10ead98e0>
                 └ <class 'app.controllers.Conversation.Conversation'>

  File "./app/controllers/Conversation.py", line 198, in index
    resfull = agent.handle_request(handler)
              │     │              └ <function handler at 0x10f357dc0>
              │     └ <function WebhookClient.handle_request at 0x10f357280>
              └ <dialogflow_fulfillment.webhook_client.WebhookClient object at 0x10effadc0>

  File "/Library/Python/3.8/site-packages/dialogflow_fulfillment/webhook_client.py", line 271, in handle_request
    return handler_function(self)
           │                └ <dialogflow_fulfillment.webhook_client.WebhookClient object at 0x10effadc0>
           └ <function handler at 0x10f357dc0>

  File "./app/controllers/Conversation.py", line 139, in handler
    page = Pagination(agent)
           │          └ <dialogflow_fulfillment.webhook_client.WebhookClient object at 0x10effadc0>
           └ <class 'app.libraries.Pagination.Pagination'>

  File "./app/libraries/Pagination.py", line 42, in __init__
    self.pages(dict(contextact)['parameters']['category'])
    │    │          └ None
    │    └ <function Pagination.pages at 0x10f3574c0>
    └ <app.libraries.Pagination.Pagination object at 0x10effad90>

TypeError: 'NoneType' object is not iterable
INFO     2021-07-27 21:31:18.512 request id: app - uvicorn.protocols.http.h11_impl:send - 74.125.212.134:0 - "POST /webhook HTTP/1.1" 200
INFO     2021-07-27 21:39:39.487 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:63595 - "GET /report/answered HTTP/1.1" 200
INFO     2021-07-27 21:39:39.492 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:63596 - "GET /report/page_answered?limit=10&offset=0 HTTP/1.1" 200
INFO     2021-07-27 21:41:30.044 request id: app - uvicorn.protocols.http.h11_impl:send - 66.249.83.72:0 - "POST /webhook HTTP/1.1" 200
INFO     2021-07-27 21:41:50.379 request id: app - uvicorn.protocols.http.h11_impl:send - 66.249.83.82:0 - "POST /webhook HTTP/1.1" 200
INFO     2021-07-27 21:41:55.598 request id: app - uvicorn.protocols.http.h11_impl:send - 114.5.209.12:0 - "GET / HTTP/1.1" 404
INFO     2021-07-27 21:41:57.122 request id: app - uvicorn.protocols.http.h11_impl:send - 114.5.209.12:0 - "GET /favicon.ico HTTP/1.1" 404
INFO     2021-07-27 21:41:58.571 request id: app - uvicorn.protocols.http.h11_impl:send - 114.5.209.12:0 - "GET / HTTP/1.1" 404
INFO     2021-07-27 21:42:50.784 request id: app - uvicorn.protocols.http.h11_impl:send - 66.249.83.83:0 - "POST /webhook HTTP/1.1" 500
ERROR    2021-07-27 21:42:50.787 request id: app - uvicorn.protocols.http.h11_impl:run_asgi - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 5
               │     └ 8
               └ <function _main at 0x10db700d0>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 5
           │    └ <function BaseProcess._bootstrap at 0x10d943b80>
           └ <SpawnProcess name='SpawnProcess-1' parent=7596 started>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x10d9431f0>
    └ <SpawnProcess name='SpawnProcess-1' parent=7596 started>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x10dbd7100>, 'target': <bound method Server.run of <uvicorn.server.Server object...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-1' parent=7596 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-1' parent=7596 started>
    │    └ <function subprocess_started at 0x10e1af670>
    └ <SpawnProcess name='SpawnProcess-1' parent=7596 started>
  File "/Library/Python/3.8/site-packages/uvicorn/subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=4, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 5000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x10dbd71f0>>
  File "/Library/Python/3.8/site-packages/uvicorn/server.py", line 50, in run
    loop.run_until_complete(self.serve(sockets=sockets))
    │    │                  │    │             └ [<socket.socket fd=4, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 5000)>]
    │    │                  │    └ <function Server.serve at 0x10e1acc10>
    │    │                  └ <uvicorn.server.Server object at 0x10dbd71f0>
    │    └ <function BaseEventLoop.run_until_complete at 0x10de69790>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/asyncio/base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x10de69700>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/asyncio/base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x10de6b280>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/asyncio/base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x10dd9e160>
    └ <Handle <TaskWakeupMethWrapper object at 0x10f26acd0>(<Future finished result=None>)>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/asyncio/events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x10f26acd0>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x10f26acd0>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x10f26acd0>(<Future finished result=None>)>
> File "/Library/Python/3.8/site-packages/uvicorn/protocols/http/h11_impl.py", line 369, in run_asgi
    result = await app(self.scope, self.receive, self.send)
                   │   │    │      │    │        │    └ <function RequestResponseCycle.send at 0x10e3cb4c0>
                   │   │    │      │    │        └ <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10f26a520>
                   │   │    │      │    └ <function RequestResponseCycle.receive at 0x10e3cb550>
                   │   │    │      └ <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10f26a520>
                   │   │    └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
                   │   └ <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10f26a520>
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x10e2bbe50>
  File "/Library/Python/3.8/site-packages/uvicorn/middleware/proxy_headers.py", line 59, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10f26a520>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10f26a520>>
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x10e3e7670>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x10e2bbe50>
  File "/Library/Python/3.8/site-packages/fastapi/applications.py", line 199, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10f26a520>>
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10f26a520>>
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
  File "/Library/Python/3.8/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10f26a520>>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10f26a520>>
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x10f0f6580>
          └ <fastapi.applications.FastAPI object at 0x10e3e7670>
  File "/Library/Python/3.8/site-packages/starlette/middleware/errors.py", line 181, in __call__
    raise exc from None
  File "/Library/Python/3.8/site-packages/starlette/middleware/errors.py", line 159, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x10f0f3f70>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10f26a520>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x10f0f6520>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x10f0f6580>
  File "/Library/Python/3.8/site-packages/starlette/middleware/base.py", line 25, in __call__
    response = await self.dispatch_func(request, self.call_next)
                     │    │             │        │    └ <function BaseHTTPMiddleware.call_next at 0x10e7fbb80>
                     │    │             │        └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x10f0f6520>
                     │    │             └ <starlette.requests.Request object at 0x10f26a2e0>
                     │    └ <function add_process_time_header at 0x10f0f34c0>
                     └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x10f0f6520>

  File "./app/__init__.py", line 65, in add_process_time_header
    response = await call_next(request)
                     │         └ <starlette.requests.Request object at 0x10f26a2e0>
                     └ <bound method BaseHTTPMiddleware.call_next of <starlette.middleware.base.BaseHTTPMiddleware object at 0x10f0f6520>>

  File "/Library/Python/3.8/site-packages/starlette/middleware/base.py", line 45, in call_next
    task.result()
    │    └ <method 'result' of '_asyncio.Task' objects>
    └ <Task finished name='Task-686' coro=<BaseHTTPMiddleware.call_next.<locals>.coro() done, defined at /Library/Python/3.8/site-p...
  File "/Library/Python/3.8/site-packages/starlette/middleware/base.py", line 38, in coro
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method Queue.put of <Queue at 0x10f26a130 maxsize=0 tasks=1>>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10f26a520>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x10f0f64f0>
          └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x10f0f6520>
  File "/Library/Python/3.8/site-packages/starlette/middleware/cors.py", line 78, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method Queue.put of <Queue at 0x10f26a130 maxsize=0 tasks=1>>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10f26a520>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x10f0f6490>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x10f0f64f0>
  File "/Library/Python/3.8/site-packages/starlette/exceptions.py", line 82, in __call__
    raise exc from None
  File "/Library/Python/3.8/site-packages/starlette/exceptions.py", line 71, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x10f268430>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10f26a520>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x10f293ac0>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x10f0f6490>
  File "/Library/Python/3.8/site-packages/starlette/routing.py", line 580, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x10f268430>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10f26a520>>
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │     └ <function Route.handle at 0x10e395ee0>
          └ <fastapi.routing.APIRoute object at 0x10f0e42e0>
  File "/Library/Python/3.8/site-packages/starlette/routing.py", line 241, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x10f268430>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10f26a520>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <function request_response.<locals>.app at 0x10f0e61f0>
          └ <fastapi.routing.APIRoute object at 0x10f0e42e0>
  File "/Library/Python/3.8/site-packages/starlette/routing.py", line 52, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x10f26a1c0>
                     └ <function get_request_handler.<locals>.app at 0x10f0e6160>
  File "/Library/Python/3.8/site-packages/fastapi/routing.py", line 214, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x10e395a60>
  File "/Library/Python/3.8/site-packages/fastapi/routing.py", line 149, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'request': <starlette.requests.Request object at 0x10f26a1c0>}
                 │         └ <function action at 0x10f357f70>
                 └ <fastapi.dependencies.models.Dependant object at 0x10f0e43d0>

  File "./app/routers/conversation.py", line 10, in action
    return await controller.index(request)
                 │          │     └ <starlette.requests.Request object at 0x10f26a1c0>
                 │          └ <staticmethod object at 0x10ead98e0>
                 └ <class 'app.controllers.Conversation.Conversation'>

  File "./app/controllers/Conversation.py", line 198, in index
    resfull = agent.handle_request(handler)
              │     │              └ <function handler at 0x10f357dc0>
              │     └ <function WebhookClient.handle_request at 0x10f357280>
              └ <dialogflow_fulfillment.webhook_client.WebhookClient object at 0x10f26a550>

  File "/Library/Python/3.8/site-packages/dialogflow_fulfillment/webhook_client.py", line 271, in handle_request
    return handler_function(self)
           │                └ <dialogflow_fulfillment.webhook_client.WebhookClient object at 0x10f26a550>
           └ <function handler at 0x10f357dc0>

  File "./app/controllers/Conversation.py", line 139, in handler
    page = Pagination(agent)
           │          └ <dialogflow_fulfillment.webhook_client.WebhookClient object at 0x10f26a550>
           └ <class 'app.libraries.Pagination.Pagination'>

  File "./app/libraries/Pagination.py", line 42, in __init__
    self.pages(dict(contextact)['parameters']['category'])
    │    │          └ None
    │    └ <function Pagination.pages at 0x10f3574c0>
    └ <app.libraries.Pagination.Pagination object at 0x10f26a910>

TypeError: 'NoneType' object is not iterable
ERROR    2021-07-27 21:42:50.834 request id: app - uvicorn.protocols.http.h11_impl:run_asgi - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 5
               │     └ 8
               └ <function _main at 0x10db700d0>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 5
           │    └ <function BaseProcess._bootstrap at 0x10d943b80>
           └ <SpawnProcess name='SpawnProcess-1' parent=7596 started>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x10d9431f0>
    └ <SpawnProcess name='SpawnProcess-1' parent=7596 started>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x10dbd7100>, 'target': <bound method Server.run of <uvicorn.server.Server object...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-1' parent=7596 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-1' parent=7596 started>
    │    └ <function subprocess_started at 0x10e1af670>
    └ <SpawnProcess name='SpawnProcess-1' parent=7596 started>
  File "/Library/Python/3.8/site-packages/uvicorn/subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=4, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 5000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x10dbd71f0>>
  File "/Library/Python/3.8/site-packages/uvicorn/server.py", line 50, in run
    loop.run_until_complete(self.serve(sockets=sockets))
    │    │                  │    │             └ [<socket.socket fd=4, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 5000)>]
    │    │                  │    └ <function Server.serve at 0x10e1acc10>
    │    │                  └ <uvicorn.server.Server object at 0x10dbd71f0>
    │    └ <function BaseEventLoop.run_until_complete at 0x10de69790>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/asyncio/base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x10de69700>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/asyncio/base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x10de6b280>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/asyncio/base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x10dd9e160>
    └ <Handle <TaskWakeupMethWrapper object at 0x10f26acd0>(<Future finished result=None>)>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/asyncio/events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x10f26acd0>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x10f26acd0>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x10f26acd0>(<Future finished result=None>)>
> File "/Library/Python/3.8/site-packages/uvicorn/protocols/http/h11_impl.py", line 369, in run_asgi
    result = await app(self.scope, self.receive, self.send)
                   │   │    │      │    │        │    └ <function RequestResponseCycle.send at 0x10e3cb4c0>
                   │   │    │      │    │        └ <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10f26a520>
                   │   │    │      │    └ <function RequestResponseCycle.receive at 0x10e3cb550>
                   │   │    │      └ <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10f26a520>
                   │   │    └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
                   │   └ <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10f26a520>
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x10e2bbe50>
  File "/Library/Python/3.8/site-packages/uvicorn/middleware/proxy_headers.py", line 59, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10f26a520>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10f26a520>>
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x10e3e7670>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x10e2bbe50>
  File "/Library/Python/3.8/site-packages/fastapi/applications.py", line 199, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10f26a520>>
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10f26a520>>
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
  File "/Library/Python/3.8/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10f26a520>>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10f26a520>>
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x10f0f6580>
          └ <fastapi.applications.FastAPI object at 0x10e3e7670>
  File "/Library/Python/3.8/site-packages/starlette/middleware/errors.py", line 181, in __call__
    raise exc from None
  File "/Library/Python/3.8/site-packages/starlette/middleware/errors.py", line 159, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x10f0f3f70>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10f26a520>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x10f0f6520>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x10f0f6580>
  File "/Library/Python/3.8/site-packages/starlette/middleware/base.py", line 25, in __call__
    response = await self.dispatch_func(request, self.call_next)
                     │    │             │        │    └ <function BaseHTTPMiddleware.call_next at 0x10e7fbb80>
                     │    │             │        └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x10f0f6520>
                     │    │             └ <starlette.requests.Request object at 0x10f26a2e0>
                     │    └ <function add_process_time_header at 0x10f0f34c0>
                     └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x10f0f6520>

  File "./app/__init__.py", line 65, in add_process_time_header
    response = await call_next(request)
                     │         └ <starlette.requests.Request object at 0x10f26a2e0>
                     └ <bound method BaseHTTPMiddleware.call_next of <starlette.middleware.base.BaseHTTPMiddleware object at 0x10f0f6520>>

  File "/Library/Python/3.8/site-packages/starlette/middleware/base.py", line 45, in call_next
    task.result()
    │    └ <method 'result' of '_asyncio.Task' objects>
    └ <Task finished name='Task-686' coro=<BaseHTTPMiddleware.call_next.<locals>.coro() done, defined at /Library/Python/3.8/site-p...
  File "/Library/Python/3.8/site-packages/starlette/middleware/base.py", line 38, in coro
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method Queue.put of <Queue at 0x10f26a130 maxsize=0 tasks=1>>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10f26a520>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x10f0f64f0>
          └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x10f0f6520>
  File "/Library/Python/3.8/site-packages/starlette/middleware/cors.py", line 78, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method Queue.put of <Queue at 0x10f26a130 maxsize=0 tasks=1>>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10f26a520>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x10f0f6490>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x10f0f64f0>
  File "/Library/Python/3.8/site-packages/starlette/exceptions.py", line 82, in __call__
    raise exc from None
  File "/Library/Python/3.8/site-packages/starlette/exceptions.py", line 71, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x10f268430>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10f26a520>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x10f293ac0>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x10f0f6490>
  File "/Library/Python/3.8/site-packages/starlette/routing.py", line 580, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x10f268430>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10f26a520>>
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │     └ <function Route.handle at 0x10e395ee0>
          └ <fastapi.routing.APIRoute object at 0x10f0e42e0>
  File "/Library/Python/3.8/site-packages/starlette/routing.py", line 241, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x10f268430>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10f26a520>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <function request_response.<locals>.app at 0x10f0e61f0>
          └ <fastapi.routing.APIRoute object at 0x10f0e42e0>
  File "/Library/Python/3.8/site-packages/starlette/routing.py", line 52, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x10f26a1c0>
                     └ <function get_request_handler.<locals>.app at 0x10f0e6160>
  File "/Library/Python/3.8/site-packages/fastapi/routing.py", line 214, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x10e395a60>
  File "/Library/Python/3.8/site-packages/fastapi/routing.py", line 149, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'request': <starlette.requests.Request object at 0x10f26a1c0>}
                 │         └ <function action at 0x10f357f70>
                 └ <fastapi.dependencies.models.Dependant object at 0x10f0e43d0>

  File "./app/routers/conversation.py", line 10, in action
    return await controller.index(request)
                 │          │     └ <starlette.requests.Request object at 0x10f26a1c0>
                 │          └ <staticmethod object at 0x10ead98e0>
                 └ <class 'app.controllers.Conversation.Conversation'>

  File "./app/controllers/Conversation.py", line 198, in index
    resfull = agent.handle_request(handler)
              │     │              └ <function handler at 0x10f357dc0>
              │     └ <function WebhookClient.handle_request at 0x10f357280>
              └ <dialogflow_fulfillment.webhook_client.WebhookClient object at 0x10f26a550>

  File "/Library/Python/3.8/site-packages/dialogflow_fulfillment/webhook_client.py", line 271, in handle_request
    return handler_function(self)
           │                └ <dialogflow_fulfillment.webhook_client.WebhookClient object at 0x10f26a550>
           └ <function handler at 0x10f357dc0>

  File "./app/controllers/Conversation.py", line 139, in handler
    page = Pagination(agent)
           │          └ <dialogflow_fulfillment.webhook_client.WebhookClient object at 0x10f26a550>
           └ <class 'app.libraries.Pagination.Pagination'>

  File "./app/libraries/Pagination.py", line 42, in __init__
    self.pages(dict(contextact)['parameters']['category'])
    │    │          └ None
    │    └ <function Pagination.pages at 0x10f3574c0>
    └ <app.libraries.Pagination.Pagination object at 0x10f26a910>

TypeError: 'NoneType' object is not iterable
ERROR    2021-07-27 21:42:50.853 request id: app - uvicorn.protocols.http.h11_impl:run_asgi - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 5
               │     └ 8
               └ <function _main at 0x10db700d0>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 5
           │    └ <function BaseProcess._bootstrap at 0x10d943b80>
           └ <SpawnProcess name='SpawnProcess-1' parent=7596 started>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x10d9431f0>
    └ <SpawnProcess name='SpawnProcess-1' parent=7596 started>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x10dbd7100>, 'target': <bound method Server.run of <uvicorn.server.Server object...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-1' parent=7596 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-1' parent=7596 started>
    │    └ <function subprocess_started at 0x10e1af670>
    └ <SpawnProcess name='SpawnProcess-1' parent=7596 started>
  File "/Library/Python/3.8/site-packages/uvicorn/subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=4, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 5000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x10dbd71f0>>
  File "/Library/Python/3.8/site-packages/uvicorn/server.py", line 50, in run
    loop.run_until_complete(self.serve(sockets=sockets))
    │    │                  │    │             └ [<socket.socket fd=4, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 5000)>]
    │    │                  │    └ <function Server.serve at 0x10e1acc10>
    │    │                  └ <uvicorn.server.Server object at 0x10dbd71f0>
    │    └ <function BaseEventLoop.run_until_complete at 0x10de69790>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/asyncio/base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x10de69700>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/asyncio/base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x10de6b280>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/asyncio/base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x10dd9e160>
    └ <Handle <TaskWakeupMethWrapper object at 0x10f26acd0>(<Future finished result=None>)>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/asyncio/events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x10f26acd0>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x10f26acd0>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x10f26acd0>(<Future finished result=None>)>
> File "/Library/Python/3.8/site-packages/uvicorn/protocols/http/h11_impl.py", line 369, in run_asgi
    result = await app(self.scope, self.receive, self.send)
                   │   │    │      │    │        │    └ <function RequestResponseCycle.send at 0x10e3cb4c0>
                   │   │    │      │    │        └ <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10f26a520>
                   │   │    │      │    └ <function RequestResponseCycle.receive at 0x10e3cb550>
                   │   │    │      └ <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10f26a520>
                   │   │    └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
                   │   └ <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10f26a520>
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x10e2bbe50>
  File "/Library/Python/3.8/site-packages/uvicorn/middleware/proxy_headers.py", line 59, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10f26a520>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10f26a520>>
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x10e3e7670>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x10e2bbe50>
  File "/Library/Python/3.8/site-packages/fastapi/applications.py", line 199, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10f26a520>>
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10f26a520>>
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
  File "/Library/Python/3.8/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10f26a520>>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10f26a520>>
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x10f0f6580>
          └ <fastapi.applications.FastAPI object at 0x10e3e7670>
  File "/Library/Python/3.8/site-packages/starlette/middleware/errors.py", line 181, in __call__
    raise exc from None
  File "/Library/Python/3.8/site-packages/starlette/middleware/errors.py", line 159, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x10f0f3f70>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10f26a520>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x10f0f6520>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x10f0f6580>
  File "/Library/Python/3.8/site-packages/starlette/middleware/base.py", line 25, in __call__
    response = await self.dispatch_func(request, self.call_next)
                     │    │             │        │    └ <function BaseHTTPMiddleware.call_next at 0x10e7fbb80>
                     │    │             │        └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x10f0f6520>
                     │    │             └ <starlette.requests.Request object at 0x10f26a2e0>
                     │    └ <function add_process_time_header at 0x10f0f34c0>
                     └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x10f0f6520>

  File "./app/__init__.py", line 65, in add_process_time_header
    response = await call_next(request)
                     │         └ <starlette.requests.Request object at 0x10f26a2e0>
                     └ <bound method BaseHTTPMiddleware.call_next of <starlette.middleware.base.BaseHTTPMiddleware object at 0x10f0f6520>>

  File "/Library/Python/3.8/site-packages/starlette/middleware/base.py", line 45, in call_next
    task.result()
    │    └ <method 'result' of '_asyncio.Task' objects>
    └ <Task finished name='Task-686' coro=<BaseHTTPMiddleware.call_next.<locals>.coro() done, defined at /Library/Python/3.8/site-p...
  File "/Library/Python/3.8/site-packages/starlette/middleware/base.py", line 38, in coro
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method Queue.put of <Queue at 0x10f26a130 maxsize=0 tasks=1>>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10f26a520>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x10f0f64f0>
          └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x10f0f6520>
  File "/Library/Python/3.8/site-packages/starlette/middleware/cors.py", line 78, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method Queue.put of <Queue at 0x10f26a130 maxsize=0 tasks=1>>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10f26a520>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x10f0f6490>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x10f0f64f0>
  File "/Library/Python/3.8/site-packages/starlette/exceptions.py", line 82, in __call__
    raise exc from None
  File "/Library/Python/3.8/site-packages/starlette/exceptions.py", line 71, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x10f268430>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10f26a520>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x10f293ac0>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x10f0f6490>
  File "/Library/Python/3.8/site-packages/starlette/routing.py", line 580, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x10f268430>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10f26a520>>
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │     └ <function Route.handle at 0x10e395ee0>
          └ <fastapi.routing.APIRoute object at 0x10f0e42e0>
  File "/Library/Python/3.8/site-packages/starlette/routing.py", line 241, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x10f268430>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10f26a520>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <function request_response.<locals>.app at 0x10f0e61f0>
          └ <fastapi.routing.APIRoute object at 0x10f0e42e0>
  File "/Library/Python/3.8/site-packages/starlette/routing.py", line 52, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x10f26a1c0>
                     └ <function get_request_handler.<locals>.app at 0x10f0e6160>
  File "/Library/Python/3.8/site-packages/fastapi/routing.py", line 214, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x10e395a60>
  File "/Library/Python/3.8/site-packages/fastapi/routing.py", line 149, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'request': <starlette.requests.Request object at 0x10f26a1c0>}
                 │         └ <function action at 0x10f357f70>
                 └ <fastapi.dependencies.models.Dependant object at 0x10f0e43d0>

  File "./app/routers/conversation.py", line 10, in action
    return await controller.index(request)
                 │          │     └ <starlette.requests.Request object at 0x10f26a1c0>
                 │          └ <staticmethod object at 0x10ead98e0>
                 └ <class 'app.controllers.Conversation.Conversation'>

  File "./app/controllers/Conversation.py", line 198, in index
    resfull = agent.handle_request(handler)
              │     │              └ <function handler at 0x10f357dc0>
              │     └ <function WebhookClient.handle_request at 0x10f357280>
              └ <dialogflow_fulfillment.webhook_client.WebhookClient object at 0x10f26a550>

  File "/Library/Python/3.8/site-packages/dialogflow_fulfillment/webhook_client.py", line 271, in handle_request
    return handler_function(self)
           │                └ <dialogflow_fulfillment.webhook_client.WebhookClient object at 0x10f26a550>
           └ <function handler at 0x10f357dc0>

  File "./app/controllers/Conversation.py", line 139, in handler
    page = Pagination(agent)
           │          └ <dialogflow_fulfillment.webhook_client.WebhookClient object at 0x10f26a550>
           └ <class 'app.libraries.Pagination.Pagination'>

  File "./app/libraries/Pagination.py", line 42, in __init__
    self.pages(dict(contextact)['parameters']['category'])
    │    │          └ None
    │    └ <function Pagination.pages at 0x10f3574c0>
    └ <app.libraries.Pagination.Pagination object at 0x10f26a910>

TypeError: 'NoneType' object is not iterable
INFO     2021-07-27 21:43:01.272 request id: app - uvicorn.protocols.http.h11_impl:send - 66.249.83.83:0 - "POST /webhook HTTP/1.1" 200
INFO     2021-07-27 21:43:07.629 request id: app - uvicorn.protocols.http.h11_impl:send - 66.249.83.84:0 - "POST /webhook HTTP/1.1" 200
INFO     2021-07-27 21:43:21.482 request id: app - uvicorn.protocols.http.h11_impl:send - 66.249.83.89:0 - "POST /webhook HTTP/1.1" 200
INFO     2021-07-27 21:43:25.331 request id: app - uvicorn.protocols.http.h11_impl:send - 66.249.83.90:0 - "POST /webhook HTTP/1.1" 200
INFO     2021-07-27 21:43:40.705 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:64698 - "GET /report/product HTTP/1.1" 200
INFO     2021-07-27 21:43:40.721 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:64700 - "GET /report/page_chart_product?limit=10&offset=0 HTTP/1.1" 200
INFO     2021-07-27 21:43:41.517 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:64700 - "GET /report/answered HTTP/1.1" 200
INFO     2021-07-27 21:43:41.519 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:64698 - "GET /report/page_answered?limit=10&offset=0 HTTP/1.1" 200
INFO     2021-07-27 21:44:18.601 request id: app - uvicorn.protocols.http.h11_impl:send - 66.249.83.84:0 - "POST /webhook HTTP/1.1" 200
INFO     2021-07-27 21:44:22.888 request id: app - uvicorn.protocols.http.h11_impl:send - 66.249.83.84:0 - "POST /webhook HTTP/1.1" 200
INFO     2021-07-27 21:44:32.564 request id: app - uvicorn.protocols.http.h11_impl:send - 66.249.83.82:0 - "POST /webhook HTTP/1.1" 200
INFO     2021-07-27 21:44:39.778 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:64954 - "GET /report/product HTTP/1.1" 200
INFO     2021-07-27 21:44:39.780 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:64955 - "GET /report/page_chart_product?limit=10&offset=0 HTTP/1.1" 200
INFO     2021-07-27 21:44:40.827 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:64955 - "GET /report/answered HTTP/1.1" 200
INFO     2021-07-27 21:44:40.832 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:64954 - "GET /report/page_answered?limit=10&offset=0 HTTP/1.1" 200
INFO     2021-07-27 21:44:55.395 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:65023 - "GET /report/page_answered?limit=10&offset=20 HTTP/1.1" 200
INFO     2021-07-27 21:46:14.251 request id: app - uvicorn.protocols.http.h11_impl:send - 66.249.83.82:0 - "POST /webhook HTTP/1.1" 200
INFO     2021-07-27 21:47:50.657 request id: app - uvicorn.protocols.http.h11_impl:send - 66.249.83.90:0 - "POST /webhook HTTP/1.1" 200
INFO     2021-07-27 21:48:06.368 request id: app - uvicorn.protocols.http.h11_impl:send - 66.249.83.90:0 - "POST /webhook HTTP/1.1" 200
INFO     2021-07-27 21:48:12.938 request id: app - uvicorn.protocols.http.h11_impl:send - 66.249.83.90:0 - "POST /webhook HTTP/1.1" 200
INFO     2021-07-27 21:50:11.610 request id: app - uvicorn.protocols.http.h11_impl:send - 66.249.83.84:0 - "POST /webhook HTTP/1.1" 200
INFO     2021-07-27 21:51:08.050 request id: app - uvicorn.protocols.http.h11_impl:send - 66.249.83.70:0 - "POST /webhook HTTP/1.1" 200
INFO     2021-07-27 21:51:38.283 request id: app - uvicorn.protocols.http.h11_impl:send - 66.249.83.82:0 - "POST /webhook HTTP/1.1" 200
INFO     2021-07-27 21:51:50.654 request id: app - uvicorn.protocols.http.h11_impl:send - 66.249.83.90:0 - "POST /webhook HTTP/1.1" 200
INFO     2021-07-27 21:52:01.271 request id: app - uvicorn.protocols.http.h11_impl:send - 66.249.83.83:0 - "POST /webhook HTTP/1.1" 200
INFO     2021-07-27 21:52:25.131 request id: app - uvicorn.protocols.http.h11_impl:send - 66.249.83.90:0 - "POST /webhook HTTP/1.1" 200
INFO     2021-07-27 21:54:07.715 request id: app - uvicorn.protocols.http.h11_impl:send - 66.249.83.68:0 - "POST /webhook HTTP/1.1" 200
INFO     2021-07-27 21:54:57.808 request id: app - uvicorn.protocols.http.h11_impl:send - 66.249.83.91:0 - "POST /webhook HTTP/1.1" 200
INFO     2021-07-27 21:57:22.249 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2021-07-27 21:57:22.250 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2021-07-27 21:57:22.250 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2021-07-27 21:57:22.356 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2021-07-27 21:57:22.357 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2021-07-27 21:57:22.357 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2021-07-27 21:57:22.358 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2021-07-27 21:57:22.358 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2021-07-27 21:57:22.358 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2021-07-27 21:57:22.359 request id: app - uvicorn.server:serve - Finished server process [7599]
INFO     2021-07-27 21:57:22.360 request id: app - uvicorn.server:serve - Finished server process [7599]
INFO     2021-07-27 21:57:22.360 request id: app - uvicorn.server:serve - Finished server process [7599]
INFO     2021-07-27 21:57:23.323 request id: app - uvicorn.server:serve - Started server process [9668]
INFO     2021-07-27 21:57:23.324 request id: app - uvicorn.server:serve - Started server process [9668]
INFO     2021-07-27 21:57:23.324 request id: app - uvicorn.server:serve - Started server process [9668]
INFO     2021-07-27 21:57:23.324 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2021-07-27 21:57:23.324 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2021-07-27 21:57:23.324 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2021-07-27 21:57:23.325 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2021-07-27 21:57:23.325 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2021-07-27 21:57:23.325 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2021-07-27 21:57:30.074 request id: app - uvicorn.protocols.http.h11_impl:send - 66.249.83.83:0 - "POST /webhook HTTP/1.1" 500
ERROR    2021-07-27 21:57:30.077 request id: app - uvicorn.protocols.http.h11_impl:run_asgi - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 5
               │     └ 8
               └ <function _main at 0x10d6d00d0>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 5
           │    └ <function BaseProcess._bootstrap at 0x10d4a3b80>
           └ <SpawnProcess name='SpawnProcess-2' parent=7596 started>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x10d4a31f0>
    └ <SpawnProcess name='SpawnProcess-2' parent=7596 started>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x10d737100>, 'target': <bound method Server.run of <uvicorn.server.Server object...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-2' parent=7596 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-2' parent=7596 started>
    │    └ <function subprocess_started at 0x10dd0f670>
    └ <SpawnProcess name='SpawnProcess-2' parent=7596 started>
  File "/Library/Python/3.8/site-packages/uvicorn/subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=4, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 5000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x10d7371f0>>
  File "/Library/Python/3.8/site-packages/uvicorn/server.py", line 50, in run
    loop.run_until_complete(self.serve(sockets=sockets))
    │    │                  │    │             └ [<socket.socket fd=4, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 5000)>]
    │    │                  │    └ <function Server.serve at 0x10dd0cc10>
    │    │                  └ <uvicorn.server.Server object at 0x10d7371f0>
    │    └ <function BaseEventLoop.run_until_complete at 0x10d9c9790>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/asyncio/base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x10d9c9700>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/asyncio/base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x10d9cb280>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/asyncio/base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x10d8fe160>
    └ <Handle <TaskWakeupMethWrapper object at 0x10edf7bb0>(<Future finished result=None>)>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/asyncio/events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x10edf7bb0>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x10edf7bb0>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x10edf7bb0>(<Future finished result=None>)>
> File "/Library/Python/3.8/site-packages/uvicorn/protocols/http/h11_impl.py", line 369, in run_asgi
    result = await app(self.scope, self.receive, self.send)
                   │   │    │      │    │        │    └ <function RequestResponseCycle.send at 0x10de77310>
                   │   │    │      │    │        └ <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10edf7e50>
                   │   │    │      │    └ <function RequestResponseCycle.receive at 0x10de773a0>
                   │   │    │      └ <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10edf7e50>
                   │   │    └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
                   │   └ <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10edf7e50>
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x10de2f370>
  File "/Library/Python/3.8/site-packages/uvicorn/middleware/proxy_headers.py", line 59, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10edf7e50>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10edf7e50>>
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x10de80040>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x10de2f370>
  File "/Library/Python/3.8/site-packages/fastapi/applications.py", line 199, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10edf7e50>>
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10edf7e50>>
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
  File "/Library/Python/3.8/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10edf7e50>>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10edf7e50>>
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x10ede0be0>
          └ <fastapi.applications.FastAPI object at 0x10de80040>
  File "/Library/Python/3.8/site-packages/starlette/middleware/errors.py", line 181, in __call__
    raise exc from None
  File "/Library/Python/3.8/site-packages/starlette/middleware/errors.py", line 159, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x10eddaf70>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10edf7e50>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x10ede0b80>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x10ede0be0>
  File "/Library/Python/3.8/site-packages/starlette/middleware/base.py", line 25, in __call__
    response = await self.dispatch_func(request, self.call_next)
                     │    │             │        │    └ <function BaseHTTPMiddleware.call_next at 0x10e33e940>
                     │    │             │        └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x10ede0b80>
                     │    │             └ <starlette.requests.Request object at 0x10edf7eb0>
                     │    └ <function add_process_time_header at 0x10eddad30>
                     └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x10ede0b80>

  File "./app/__init__.py", line 65, in add_process_time_header
    response = await call_next(request)
                     │         └ <starlette.requests.Request object at 0x10edf7eb0>
                     └ <bound method BaseHTTPMiddleware.call_next of <starlette.middleware.base.BaseHTTPMiddleware object at 0x10ede0b80>>

  File "/Library/Python/3.8/site-packages/starlette/middleware/base.py", line 45, in call_next
    task.result()
    │    └ <method 'result' of '_asyncio.Task' objects>
    └ <Task finished name='Task-6' coro=<BaseHTTPMiddleware.call_next.<locals>.coro() done, defined at /Library/Python/3.8/site-pac...
  File "/Library/Python/3.8/site-packages/starlette/middleware/base.py", line 38, in coro
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method Queue.put of <Queue at 0x10edf7b50 maxsize=0 tasks=1>>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10edf7e50>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x10ede0b50>
          └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x10ede0b80>
  File "/Library/Python/3.8/site-packages/starlette/middleware/cors.py", line 78, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method Queue.put of <Queue at 0x10edf7b50 maxsize=0 tasks=1>>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10edf7e50>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x10ede0af0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x10ede0b50>
  File "/Library/Python/3.8/site-packages/starlette/exceptions.py", line 82, in __call__
    raise exc from None
  File "/Library/Python/3.8/site-packages/starlette/exceptions.py", line 71, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x10ee0a0d0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10edf7e50>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x10eb72cd0>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x10ede0af0>
  File "/Library/Python/3.8/site-packages/starlette/routing.py", line 580, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x10ee0a0d0>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10edf7e50>>
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │     └ <function Route.handle at 0x10e30baf0>
          └ <fastapi.routing.APIRoute object at 0x10edcf8b0>
  File "/Library/Python/3.8/site-packages/starlette/routing.py", line 241, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x10ee0a0d0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10edf7e50>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <function request_response.<locals>.app at 0x10edcaca0>
          └ <fastapi.routing.APIRoute object at 0x10edcf8b0>
  File "/Library/Python/3.8/site-packages/starlette/routing.py", line 52, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x10edf79d0>
                     └ <function get_request_handler.<locals>.app at 0x10edcac10>
  File "/Library/Python/3.8/site-packages/fastapi/routing.py", line 214, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x10e2f6b80>
  File "/Library/Python/3.8/site-packages/fastapi/routing.py", line 149, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'request': <starlette.requests.Request object at 0x10edf79d0>}
                 │         └ <function action at 0x10ec99670>
                 └ <fastapi.dependencies.models.Dependant object at 0x10edcf9a0>

  File "./app/routers/conversation.py", line 10, in action
    return await controller.index(request)
                 │          │     └ <starlette.requests.Request object at 0x10edf79d0>
                 │          └ <staticmethod object at 0x10ec2cb80>
                 └ <class 'app.controllers.Conversation.Conversation'>

  File "./app/controllers/Conversation.py", line 200, in index
    resfull = login.prosesLoging(agent)
              │     │            └ <dialogflow_fulfillment.webhook_client.WebhookClient object at 0x10ee11040>
              │     └ <function Login.prosesLoging at 0x10ec99280>
              └ <app.libraries.Login.Login object at 0x10ee110d0>

  File "./app/libraries/Login.py", line 50, in prosesLoging
    origintTelegram = agent.original_request['payload']['data']['from']
                      │     └ {'source': 'DIALOGFLOW_CONSOLE', 'payload': {}}
                      └ <dialogflow_fulfillment.webhook_client.WebhookClient object at 0x10ee11040>

KeyError: 'data'
ERROR    2021-07-27 21:57:30.149 request id: app - uvicorn.protocols.http.h11_impl:run_asgi - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 5
               │     └ 8
               └ <function _main at 0x10d6d00d0>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 5
           │    └ <function BaseProcess._bootstrap at 0x10d4a3b80>
           └ <SpawnProcess name='SpawnProcess-2' parent=7596 started>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x10d4a31f0>
    └ <SpawnProcess name='SpawnProcess-2' parent=7596 started>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x10d737100>, 'target': <bound method Server.run of <uvicorn.server.Server object...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-2' parent=7596 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-2' parent=7596 started>
    │    └ <function subprocess_started at 0x10dd0f670>
    └ <SpawnProcess name='SpawnProcess-2' parent=7596 started>
  File "/Library/Python/3.8/site-packages/uvicorn/subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=4, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 5000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x10d7371f0>>
  File "/Library/Python/3.8/site-packages/uvicorn/server.py", line 50, in run
    loop.run_until_complete(self.serve(sockets=sockets))
    │    │                  │    │             └ [<socket.socket fd=4, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 5000)>]
    │    │                  │    └ <function Server.serve at 0x10dd0cc10>
    │    │                  └ <uvicorn.server.Server object at 0x10d7371f0>
    │    └ <function BaseEventLoop.run_until_complete at 0x10d9c9790>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/asyncio/base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x10d9c9700>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/asyncio/base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x10d9cb280>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/asyncio/base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x10d8fe160>
    └ <Handle <TaskWakeupMethWrapper object at 0x10edf7bb0>(<Future finished result=None>)>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/asyncio/events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x10edf7bb0>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x10edf7bb0>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x10edf7bb0>(<Future finished result=None>)>
> File "/Library/Python/3.8/site-packages/uvicorn/protocols/http/h11_impl.py", line 369, in run_asgi
    result = await app(self.scope, self.receive, self.send)
                   │   │    │      │    │        │    └ <function RequestResponseCycle.send at 0x10de77310>
                   │   │    │      │    │        └ <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10edf7e50>
                   │   │    │      │    └ <function RequestResponseCycle.receive at 0x10de773a0>
                   │   │    │      └ <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10edf7e50>
                   │   │    └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
                   │   └ <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10edf7e50>
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x10de2f370>
  File "/Library/Python/3.8/site-packages/uvicorn/middleware/proxy_headers.py", line 59, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10edf7e50>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10edf7e50>>
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x10de80040>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x10de2f370>
  File "/Library/Python/3.8/site-packages/fastapi/applications.py", line 199, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10edf7e50>>
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10edf7e50>>
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
  File "/Library/Python/3.8/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10edf7e50>>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10edf7e50>>
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x10ede0be0>
          └ <fastapi.applications.FastAPI object at 0x10de80040>
  File "/Library/Python/3.8/site-packages/starlette/middleware/errors.py", line 181, in __call__
    raise exc from None
  File "/Library/Python/3.8/site-packages/starlette/middleware/errors.py", line 159, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x10eddaf70>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10edf7e50>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x10ede0b80>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x10ede0be0>
  File "/Library/Python/3.8/site-packages/starlette/middleware/base.py", line 25, in __call__
    response = await self.dispatch_func(request, self.call_next)
                     │    │             │        │    └ <function BaseHTTPMiddleware.call_next at 0x10e33e940>
                     │    │             │        └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x10ede0b80>
                     │    │             └ <starlette.requests.Request object at 0x10edf7eb0>
                     │    └ <function add_process_time_header at 0x10eddad30>
                     └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x10ede0b80>

  File "./app/__init__.py", line 65, in add_process_time_header
    response = await call_next(request)
                     │         └ <starlette.requests.Request object at 0x10edf7eb0>
                     └ <bound method BaseHTTPMiddleware.call_next of <starlette.middleware.base.BaseHTTPMiddleware object at 0x10ede0b80>>

  File "/Library/Python/3.8/site-packages/starlette/middleware/base.py", line 45, in call_next
    task.result()
    │    └ <method 'result' of '_asyncio.Task' objects>
    └ <Task finished name='Task-6' coro=<BaseHTTPMiddleware.call_next.<locals>.coro() done, defined at /Library/Python/3.8/site-pac...
  File "/Library/Python/3.8/site-packages/starlette/middleware/base.py", line 38, in coro
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method Queue.put of <Queue at 0x10edf7b50 maxsize=0 tasks=1>>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10edf7e50>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x10ede0b50>
          └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x10ede0b80>
  File "/Library/Python/3.8/site-packages/starlette/middleware/cors.py", line 78, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method Queue.put of <Queue at 0x10edf7b50 maxsize=0 tasks=1>>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10edf7e50>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x10ede0af0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x10ede0b50>
  File "/Library/Python/3.8/site-packages/starlette/exceptions.py", line 82, in __call__
    raise exc from None
  File "/Library/Python/3.8/site-packages/starlette/exceptions.py", line 71, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x10ee0a0d0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10edf7e50>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x10eb72cd0>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x10ede0af0>
  File "/Library/Python/3.8/site-packages/starlette/routing.py", line 580, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x10ee0a0d0>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10edf7e50>>
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │     └ <function Route.handle at 0x10e30baf0>
          └ <fastapi.routing.APIRoute object at 0x10edcf8b0>
  File "/Library/Python/3.8/site-packages/starlette/routing.py", line 241, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x10ee0a0d0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10edf7e50>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <function request_response.<locals>.app at 0x10edcaca0>
          └ <fastapi.routing.APIRoute object at 0x10edcf8b0>
  File "/Library/Python/3.8/site-packages/starlette/routing.py", line 52, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x10edf79d0>
                     └ <function get_request_handler.<locals>.app at 0x10edcac10>
  File "/Library/Python/3.8/site-packages/fastapi/routing.py", line 214, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x10e2f6b80>
  File "/Library/Python/3.8/site-packages/fastapi/routing.py", line 149, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'request': <starlette.requests.Request object at 0x10edf79d0>}
                 │         └ <function action at 0x10ec99670>
                 └ <fastapi.dependencies.models.Dependant object at 0x10edcf9a0>

  File "./app/routers/conversation.py", line 10, in action
    return await controller.index(request)
                 │          │     └ <starlette.requests.Request object at 0x10edf79d0>
                 │          └ <staticmethod object at 0x10ec2cb80>
                 └ <class 'app.controllers.Conversation.Conversation'>

  File "./app/controllers/Conversation.py", line 200, in index
    resfull = login.prosesLoging(agent)
              │     │            └ <dialogflow_fulfillment.webhook_client.WebhookClient object at 0x10ee11040>
              │     └ <function Login.prosesLoging at 0x10ec99280>
              └ <app.libraries.Login.Login object at 0x10ee110d0>

  File "./app/libraries/Login.py", line 50, in prosesLoging
    origintTelegram = agent.original_request['payload']['data']['from']
                      │     └ {'source': 'DIALOGFLOW_CONSOLE', 'payload': {}}
                      └ <dialogflow_fulfillment.webhook_client.WebhookClient object at 0x10ee11040>

KeyError: 'data'
ERROR    2021-07-27 21:57:30.163 request id: app - uvicorn.protocols.http.h11_impl:run_asgi - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 5
               │     └ 8
               └ <function _main at 0x10d6d00d0>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 5
           │    └ <function BaseProcess._bootstrap at 0x10d4a3b80>
           └ <SpawnProcess name='SpawnProcess-2' parent=7596 started>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x10d4a31f0>
    └ <SpawnProcess name='SpawnProcess-2' parent=7596 started>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x10d737100>, 'target': <bound method Server.run of <uvicorn.server.Server object...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-2' parent=7596 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-2' parent=7596 started>
    │    └ <function subprocess_started at 0x10dd0f670>
    └ <SpawnProcess name='SpawnProcess-2' parent=7596 started>
  File "/Library/Python/3.8/site-packages/uvicorn/subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=4, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 5000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x10d7371f0>>
  File "/Library/Python/3.8/site-packages/uvicorn/server.py", line 50, in run
    loop.run_until_complete(self.serve(sockets=sockets))
    │    │                  │    │             └ [<socket.socket fd=4, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 5000)>]
    │    │                  │    └ <function Server.serve at 0x10dd0cc10>
    │    │                  └ <uvicorn.server.Server object at 0x10d7371f0>
    │    └ <function BaseEventLoop.run_until_complete at 0x10d9c9790>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/asyncio/base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x10d9c9700>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/asyncio/base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x10d9cb280>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/asyncio/base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x10d8fe160>
    └ <Handle <TaskWakeupMethWrapper object at 0x10edf7bb0>(<Future finished result=None>)>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/asyncio/events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x10edf7bb0>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x10edf7bb0>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x10edf7bb0>(<Future finished result=None>)>
> File "/Library/Python/3.8/site-packages/uvicorn/protocols/http/h11_impl.py", line 369, in run_asgi
    result = await app(self.scope, self.receive, self.send)
                   │   │    │      │    │        │    └ <function RequestResponseCycle.send at 0x10de77310>
                   │   │    │      │    │        └ <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10edf7e50>
                   │   │    │      │    └ <function RequestResponseCycle.receive at 0x10de773a0>
                   │   │    │      └ <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10edf7e50>
                   │   │    └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
                   │   └ <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10edf7e50>
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x10de2f370>
  File "/Library/Python/3.8/site-packages/uvicorn/middleware/proxy_headers.py", line 59, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10edf7e50>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10edf7e50>>
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x10de80040>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x10de2f370>
  File "/Library/Python/3.8/site-packages/fastapi/applications.py", line 199, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10edf7e50>>
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10edf7e50>>
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
  File "/Library/Python/3.8/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10edf7e50>>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10edf7e50>>
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x10ede0be0>
          └ <fastapi.applications.FastAPI object at 0x10de80040>
  File "/Library/Python/3.8/site-packages/starlette/middleware/errors.py", line 181, in __call__
    raise exc from None
  File "/Library/Python/3.8/site-packages/starlette/middleware/errors.py", line 159, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x10eddaf70>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10edf7e50>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x10ede0b80>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x10ede0be0>
  File "/Library/Python/3.8/site-packages/starlette/middleware/base.py", line 25, in __call__
    response = await self.dispatch_func(request, self.call_next)
                     │    │             │        │    └ <function BaseHTTPMiddleware.call_next at 0x10e33e940>
                     │    │             │        └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x10ede0b80>
                     │    │             └ <starlette.requests.Request object at 0x10edf7eb0>
                     │    └ <function add_process_time_header at 0x10eddad30>
                     └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x10ede0b80>

  File "./app/__init__.py", line 65, in add_process_time_header
    response = await call_next(request)
                     │         └ <starlette.requests.Request object at 0x10edf7eb0>
                     └ <bound method BaseHTTPMiddleware.call_next of <starlette.middleware.base.BaseHTTPMiddleware object at 0x10ede0b80>>

  File "/Library/Python/3.8/site-packages/starlette/middleware/base.py", line 45, in call_next
    task.result()
    │    └ <method 'result' of '_asyncio.Task' objects>
    └ <Task finished name='Task-6' coro=<BaseHTTPMiddleware.call_next.<locals>.coro() done, defined at /Library/Python/3.8/site-pac...
  File "/Library/Python/3.8/site-packages/starlette/middleware/base.py", line 38, in coro
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method Queue.put of <Queue at 0x10edf7b50 maxsize=0 tasks=1>>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10edf7e50>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x10ede0b50>
          └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x10ede0b80>
  File "/Library/Python/3.8/site-packages/starlette/middleware/cors.py", line 78, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method Queue.put of <Queue at 0x10edf7b50 maxsize=0 tasks=1>>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10edf7e50>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x10ede0af0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x10ede0b50>
  File "/Library/Python/3.8/site-packages/starlette/exceptions.py", line 82, in __call__
    raise exc from None
  File "/Library/Python/3.8/site-packages/starlette/exceptions.py", line 71, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x10ee0a0d0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10edf7e50>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x10eb72cd0>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x10ede0af0>
  File "/Library/Python/3.8/site-packages/starlette/routing.py", line 580, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x10ee0a0d0>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10edf7e50>>
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │     └ <function Route.handle at 0x10e30baf0>
          └ <fastapi.routing.APIRoute object at 0x10edcf8b0>
  File "/Library/Python/3.8/site-packages/starlette/routing.py", line 241, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x10ee0a0d0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10edf7e50>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <function request_response.<locals>.app at 0x10edcaca0>
          └ <fastapi.routing.APIRoute object at 0x10edcf8b0>
  File "/Library/Python/3.8/site-packages/starlette/routing.py", line 52, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x10edf79d0>
                     └ <function get_request_handler.<locals>.app at 0x10edcac10>
  File "/Library/Python/3.8/site-packages/fastapi/routing.py", line 214, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x10e2f6b80>
  File "/Library/Python/3.8/site-packages/fastapi/routing.py", line 149, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'request': <starlette.requests.Request object at 0x10edf79d0>}
                 │         └ <function action at 0x10ec99670>
                 └ <fastapi.dependencies.models.Dependant object at 0x10edcf9a0>

  File "./app/routers/conversation.py", line 10, in action
    return await controller.index(request)
                 │          │     └ <starlette.requests.Request object at 0x10edf79d0>
                 │          └ <staticmethod object at 0x10ec2cb80>
                 └ <class 'app.controllers.Conversation.Conversation'>

  File "./app/controllers/Conversation.py", line 200, in index
    resfull = login.prosesLoging(agent)
              │     │            └ <dialogflow_fulfillment.webhook_client.WebhookClient object at 0x10ee11040>
              │     └ <function Login.prosesLoging at 0x10ec99280>
              └ <app.libraries.Login.Login object at 0x10ee110d0>

  File "./app/libraries/Login.py", line 50, in prosesLoging
    origintTelegram = agent.original_request['payload']['data']['from']
                      │     └ {'source': 'DIALOGFLOW_CONSOLE', 'payload': {}}
                      └ <dialogflow_fulfillment.webhook_client.WebhookClient object at 0x10ee11040>

KeyError: 'data'
INFO     2021-07-27 21:57:46.033 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2021-07-27 21:57:46.034 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2021-07-27 21:57:46.035 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2021-07-27 21:57:46.140 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2021-07-27 21:57:46.141 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2021-07-27 21:57:46.141 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2021-07-27 21:57:46.142 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2021-07-27 21:57:46.142 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2021-07-27 21:57:46.142 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2021-07-27 21:57:46.143 request id: app - uvicorn.server:serve - Finished server process [9668]
INFO     2021-07-27 21:57:46.143 request id: app - uvicorn.server:serve - Finished server process [9668]
INFO     2021-07-27 21:57:46.143 request id: app - uvicorn.server:serve - Finished server process [9668]
INFO     2021-07-27 21:57:46.946 request id: app - uvicorn.server:serve - Started server process [9673]
INFO     2021-07-27 21:57:46.947 request id: app - uvicorn.server:serve - Started server process [9673]
INFO     2021-07-27 21:57:46.947 request id: app - uvicorn.server:serve - Started server process [9673]
INFO     2021-07-27 21:57:46.947 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2021-07-27 21:57:46.947 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2021-07-27 21:57:46.947 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2021-07-27 21:57:46.948 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2021-07-27 21:57:46.948 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2021-07-27 21:57:46.948 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2021-07-27 22:00:00.067 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2021-07-27 22:00:00.067 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2021-07-27 22:00:00.068 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2021-07-27 22:00:00.170 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2021-07-27 22:00:00.171 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2021-07-27 22:00:00.171 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2021-07-27 22:00:00.172 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2021-07-27 22:00:00.172 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2021-07-27 22:00:00.172 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2021-07-27 22:00:00.172 request id: app - uvicorn.server:serve - Finished server process [9673]
INFO     2021-07-27 22:00:00.173 request id: app - uvicorn.server:serve - Finished server process [9673]
INFO     2021-07-27 22:00:00.173 request id: app - uvicorn.server:serve - Finished server process [9673]
INFO     2021-07-27 22:00:01.192 request id: app - uvicorn.server:serve - Started server process [9684]
INFO     2021-07-27 22:00:01.192 request id: app - uvicorn.server:serve - Started server process [9684]
INFO     2021-07-27 22:00:01.193 request id: app - uvicorn.server:serve - Started server process [9684]
INFO     2021-07-27 22:00:01.193 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2021-07-27 22:00:01.193 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2021-07-27 22:00:01.193 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2021-07-27 22:00:01.194 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2021-07-27 22:00:01.195 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2021-07-27 22:00:01.195 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2021-07-27 22:00:10.902 request id: app - uvicorn.protocols.http.h11_impl:send - 66.249.83.84:0 - "POST /webhook HTTP/1.1" 200
INFO     2021-07-27 22:00:41.073 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2021-07-27 22:00:41.073 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2021-07-27 22:00:41.074 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2021-07-27 22:00:41.180 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2021-07-27 22:00:41.180 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2021-07-27 22:00:41.180 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2021-07-27 22:00:41.181 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2021-07-27 22:00:41.182 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2021-07-27 22:00:41.182 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2021-07-27 22:00:41.182 request id: app - uvicorn.server:serve - Finished server process [9684]
INFO     2021-07-27 22:00:41.183 request id: app - uvicorn.server:serve - Finished server process [9684]
INFO     2021-07-27 22:00:41.183 request id: app - uvicorn.server:serve - Finished server process [9684]
INFO     2021-07-27 22:00:42.015 request id: app - uvicorn.server:serve - Started server process [9692]
INFO     2021-07-27 22:00:42.016 request id: app - uvicorn.server:serve - Started server process [9692]
INFO     2021-07-27 22:00:42.016 request id: app - uvicorn.server:serve - Started server process [9692]
INFO     2021-07-27 22:00:42.016 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2021-07-27 22:00:42.016 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2021-07-27 22:00:42.017 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2021-07-27 22:00:42.018 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2021-07-27 22:00:42.018 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2021-07-27 22:00:42.019 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2021-07-27 22:00:47.821 request id: app - uvicorn.protocols.http.h11_impl:send - 66.249.83.88:0 - "POST /webhook HTTP/1.1" 500
ERROR    2021-07-27 22:00:47.823 request id: app - uvicorn.protocols.http.h11_impl:run_asgi - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 5
               │     └ 8
               └ <function _main at 0x10b2bc0d0>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 5
           │    └ <function BaseProcess._bootstrap at 0x10b08fb80>
           └ <SpawnProcess name='SpawnProcess-5' parent=7596 started>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x10b08f1f0>
    └ <SpawnProcess name='SpawnProcess-5' parent=7596 started>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x10b323100>, 'target': <bound method Server.run of <uvicorn.server.Server object...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-5' parent=7596 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-5' parent=7596 started>
    │    └ <function subprocess_started at 0x10b8fb670>
    └ <SpawnProcess name='SpawnProcess-5' parent=7596 started>
  File "/Library/Python/3.8/site-packages/uvicorn/subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=4, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 5000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x10b3231f0>>
  File "/Library/Python/3.8/site-packages/uvicorn/server.py", line 50, in run
    loop.run_until_complete(self.serve(sockets=sockets))
    │    │                  │    │             └ [<socket.socket fd=4, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 5000)>]
    │    │                  │    └ <function Server.serve at 0x10b8f8c10>
    │    │                  └ <uvicorn.server.Server object at 0x10b3231f0>
    │    └ <function BaseEventLoop.run_until_complete at 0x10b5b5790>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/asyncio/base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x10b5b5700>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/asyncio/base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x10b5b7280>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/asyncio/base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x10b4ea160>
    └ <Handle <TaskWakeupMethWrapper object at 0x10c9d8bb0>(<Future finished result=None>)>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/asyncio/events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x10c9d8bb0>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x10c9d8bb0>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x10c9d8bb0>(<Future finished result=None>)>
> File "/Library/Python/3.8/site-packages/uvicorn/protocols/http/h11_impl.py", line 369, in run_asgi
    result = await app(self.scope, self.receive, self.send)
                   │   │    │      │    │        │    └ <function RequestResponseCycle.send at 0x10ba6f310>
                   │   │    │      │    │        └ <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10c9d8e50>
                   │   │    │      │    └ <function RequestResponseCycle.receive at 0x10ba6f3a0>
                   │   │    │      └ <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10c9d8e50>
                   │   │    └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
                   │   └ <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10c9d8e50>
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x10ba1b370>
  File "/Library/Python/3.8/site-packages/uvicorn/middleware/proxy_headers.py", line 59, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10c9d8e50>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10c9d8e50>>
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x10ba6a040>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x10ba1b370>
  File "/Library/Python/3.8/site-packages/fastapi/applications.py", line 199, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10c9d8e50>>
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10c9d8e50>>
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
  File "/Library/Python/3.8/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10c9d8e50>>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10c9d8e50>>
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x10c9bda90>
          └ <fastapi.applications.FastAPI object at 0x10ba6a040>
  File "/Library/Python/3.8/site-packages/starlette/middleware/errors.py", line 181, in __call__
    raise exc from None
  File "/Library/Python/3.8/site-packages/starlette/middleware/errors.py", line 159, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x10c9b9f70>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10c9d8e50>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x10c9bda30>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x10c9bda90>
  File "/Library/Python/3.8/site-packages/starlette/middleware/base.py", line 25, in __call__
    response = await self.dispatch_func(request, self.call_next)
                     │    │             │        │    └ <function BaseHTTPMiddleware.call_next at 0x10bf2a940>
                     │    │             │        └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x10c9bda30>
                     │    │             └ <starlette.requests.Request object at 0x10c9d8ee0>
                     │    └ <function add_process_time_header at 0x10c9b9d30>
                     └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x10c9bda30>

  File "./app/__init__.py", line 65, in add_process_time_header
    response = await call_next(request)
                     │         └ <starlette.requests.Request object at 0x10c9d8ee0>
                     └ <bound method BaseHTTPMiddleware.call_next of <starlette.middleware.base.BaseHTTPMiddleware object at 0x10c9bda30>>

  File "/Library/Python/3.8/site-packages/starlette/middleware/base.py", line 45, in call_next
    task.result()
    │    └ <method 'result' of '_asyncio.Task' objects>
    └ <Task finished name='Task-6' coro=<BaseHTTPMiddleware.call_next.<locals>.coro() done, defined at /Library/Python/3.8/site-pac...
  File "/Library/Python/3.8/site-packages/starlette/middleware/base.py", line 38, in coro
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method Queue.put of <Queue at 0x10c9d8b50 maxsize=0 tasks=1>>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10c9d8e50>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x10c9bda00>
          └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x10c9bda30>
  File "/Library/Python/3.8/site-packages/starlette/middleware/cors.py", line 78, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method Queue.put of <Queue at 0x10c9d8b50 maxsize=0 tasks=1>>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10c9d8e50>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x10c9bd9a0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x10c9bda00>
  File "/Library/Python/3.8/site-packages/starlette/exceptions.py", line 82, in __call__
    raise exc from None
  File "/Library/Python/3.8/site-packages/starlette/exceptions.py", line 71, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x10c9ec0d0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10c9d8e50>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x10c75ecd0>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x10c9bd9a0>
  File "/Library/Python/3.8/site-packages/starlette/routing.py", line 580, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x10c9ec0d0>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10c9d8e50>>
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │     └ <function Route.handle at 0x10bef8af0>
          └ <fastapi.routing.APIRoute object at 0x10c9b1880>
  File "/Library/Python/3.8/site-packages/starlette/routing.py", line 241, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x10c9ec0d0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10c9d8e50>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <function request_response.<locals>.app at 0x10c9aaca0>
          └ <fastapi.routing.APIRoute object at 0x10c9b1880>
  File "/Library/Python/3.8/site-packages/starlette/routing.py", line 52, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x10c9d89d0>
                     └ <function get_request_handler.<locals>.app at 0x10c9aac10>
  File "/Library/Python/3.8/site-packages/fastapi/routing.py", line 214, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x10bee3b80>
  File "/Library/Python/3.8/site-packages/fastapi/routing.py", line 149, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'request': <starlette.requests.Request object at 0x10c9d89d0>}
                 │         └ <function action at 0x10c885670>
                 └ <fastapi.dependencies.models.Dependant object at 0x10c9b1970>

  File "./app/routers/conversation.py", line 10, in action
    return await controller.index(request)
                 │          │     └ <starlette.requests.Request object at 0x10c9d89d0>
                 │          └ <staticmethod object at 0x10c8227c0>
                 └ <class 'app.controllers.Conversation.Conversation'>

  File "./app/controllers/Conversation.py", line 195, in index
    login = Login(agent)
            │     └ <dialogflow_fulfillment.webhook_client.WebhookClient object at 0x10c9f1040>
            └ <class 'app.libraries.Login.Login'>

  File "./app/libraries/Login.py", line 20, in __init__
    self.prosesLoging(agent)
    │    │            └ <dialogflow_fulfillment.webhook_client.WebhookClient object at 0x10c9f1040>
    │    └ <function Login.prosesLoging at 0x10c885280>
    └ <app.libraries.Login.Login object at 0x10c9f10d0>

  File "./app/libraries/Login.py", line 47, in prosesLoging
    origintTelegram = agent.original_request['payload']['data']['from']
                      │     └ {'source': 'DIALOGFLOW_CONSOLE', 'payload': {}}
                      └ <dialogflow_fulfillment.webhook_client.WebhookClient object at 0x10c9f1040>

KeyError: 'data'
ERROR    2021-07-27 22:00:47.881 request id: app - uvicorn.protocols.http.h11_impl:run_asgi - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 5
               │     └ 8
               └ <function _main at 0x10b2bc0d0>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 5
           │    └ <function BaseProcess._bootstrap at 0x10b08fb80>
           └ <SpawnProcess name='SpawnProcess-5' parent=7596 started>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x10b08f1f0>
    └ <SpawnProcess name='SpawnProcess-5' parent=7596 started>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x10b323100>, 'target': <bound method Server.run of <uvicorn.server.Server object...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-5' parent=7596 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-5' parent=7596 started>
    │    └ <function subprocess_started at 0x10b8fb670>
    └ <SpawnProcess name='SpawnProcess-5' parent=7596 started>
  File "/Library/Python/3.8/site-packages/uvicorn/subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=4, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 5000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x10b3231f0>>
  File "/Library/Python/3.8/site-packages/uvicorn/server.py", line 50, in run
    loop.run_until_complete(self.serve(sockets=sockets))
    │    │                  │    │             └ [<socket.socket fd=4, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 5000)>]
    │    │                  │    └ <function Server.serve at 0x10b8f8c10>
    │    │                  └ <uvicorn.server.Server object at 0x10b3231f0>
    │    └ <function BaseEventLoop.run_until_complete at 0x10b5b5790>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/asyncio/base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x10b5b5700>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/asyncio/base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x10b5b7280>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/asyncio/base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x10b4ea160>
    └ <Handle <TaskWakeupMethWrapper object at 0x10c9d8bb0>(<Future finished result=None>)>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/asyncio/events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x10c9d8bb0>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x10c9d8bb0>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x10c9d8bb0>(<Future finished result=None>)>
> File "/Library/Python/3.8/site-packages/uvicorn/protocols/http/h11_impl.py", line 369, in run_asgi
    result = await app(self.scope, self.receive, self.send)
                   │   │    │      │    │        │    └ <function RequestResponseCycle.send at 0x10ba6f310>
                   │   │    │      │    │        └ <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10c9d8e50>
                   │   │    │      │    └ <function RequestResponseCycle.receive at 0x10ba6f3a0>
                   │   │    │      └ <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10c9d8e50>
                   │   │    └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
                   │   └ <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10c9d8e50>
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x10ba1b370>
  File "/Library/Python/3.8/site-packages/uvicorn/middleware/proxy_headers.py", line 59, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10c9d8e50>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10c9d8e50>>
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x10ba6a040>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x10ba1b370>
  File "/Library/Python/3.8/site-packages/fastapi/applications.py", line 199, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10c9d8e50>>
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10c9d8e50>>
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
  File "/Library/Python/3.8/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10c9d8e50>>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10c9d8e50>>
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x10c9bda90>
          └ <fastapi.applications.FastAPI object at 0x10ba6a040>
  File "/Library/Python/3.8/site-packages/starlette/middleware/errors.py", line 181, in __call__
    raise exc from None
  File "/Library/Python/3.8/site-packages/starlette/middleware/errors.py", line 159, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x10c9b9f70>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10c9d8e50>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x10c9bda30>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x10c9bda90>
  File "/Library/Python/3.8/site-packages/starlette/middleware/base.py", line 25, in __call__
    response = await self.dispatch_func(request, self.call_next)
                     │    │             │        │    └ <function BaseHTTPMiddleware.call_next at 0x10bf2a940>
                     │    │             │        └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x10c9bda30>
                     │    │             └ <starlette.requests.Request object at 0x10c9d8ee0>
                     │    └ <function add_process_time_header at 0x10c9b9d30>
                     └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x10c9bda30>

  File "./app/__init__.py", line 65, in add_process_time_header
    response = await call_next(request)
                     │         └ <starlette.requests.Request object at 0x10c9d8ee0>
                     └ <bound method BaseHTTPMiddleware.call_next of <starlette.middleware.base.BaseHTTPMiddleware object at 0x10c9bda30>>

  File "/Library/Python/3.8/site-packages/starlette/middleware/base.py", line 45, in call_next
    task.result()
    │    └ <method 'result' of '_asyncio.Task' objects>
    └ <Task finished name='Task-6' coro=<BaseHTTPMiddleware.call_next.<locals>.coro() done, defined at /Library/Python/3.8/site-pac...
  File "/Library/Python/3.8/site-packages/starlette/middleware/base.py", line 38, in coro
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method Queue.put of <Queue at 0x10c9d8b50 maxsize=0 tasks=1>>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10c9d8e50>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x10c9bda00>
          └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x10c9bda30>
  File "/Library/Python/3.8/site-packages/starlette/middleware/cors.py", line 78, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method Queue.put of <Queue at 0x10c9d8b50 maxsize=0 tasks=1>>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10c9d8e50>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x10c9bd9a0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x10c9bda00>
  File "/Library/Python/3.8/site-packages/starlette/exceptions.py", line 82, in __call__
    raise exc from None
  File "/Library/Python/3.8/site-packages/starlette/exceptions.py", line 71, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x10c9ec0d0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10c9d8e50>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x10c75ecd0>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x10c9bd9a0>
  File "/Library/Python/3.8/site-packages/starlette/routing.py", line 580, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x10c9ec0d0>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10c9d8e50>>
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │     └ <function Route.handle at 0x10bef8af0>
          └ <fastapi.routing.APIRoute object at 0x10c9b1880>
  File "/Library/Python/3.8/site-packages/starlette/routing.py", line 241, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x10c9ec0d0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10c9d8e50>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <function request_response.<locals>.app at 0x10c9aaca0>
          └ <fastapi.routing.APIRoute object at 0x10c9b1880>
  File "/Library/Python/3.8/site-packages/starlette/routing.py", line 52, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x10c9d89d0>
                     └ <function get_request_handler.<locals>.app at 0x10c9aac10>
  File "/Library/Python/3.8/site-packages/fastapi/routing.py", line 214, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x10bee3b80>
  File "/Library/Python/3.8/site-packages/fastapi/routing.py", line 149, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'request': <starlette.requests.Request object at 0x10c9d89d0>}
                 │         └ <function action at 0x10c885670>
                 └ <fastapi.dependencies.models.Dependant object at 0x10c9b1970>

  File "./app/routers/conversation.py", line 10, in action
    return await controller.index(request)
                 │          │     └ <starlette.requests.Request object at 0x10c9d89d0>
                 │          └ <staticmethod object at 0x10c8227c0>
                 └ <class 'app.controllers.Conversation.Conversation'>

  File "./app/controllers/Conversation.py", line 195, in index
    login = Login(agent)
            │     └ <dialogflow_fulfillment.webhook_client.WebhookClient object at 0x10c9f1040>
            └ <class 'app.libraries.Login.Login'>

  File "./app/libraries/Login.py", line 20, in __init__
    self.prosesLoging(agent)
    │    │            └ <dialogflow_fulfillment.webhook_client.WebhookClient object at 0x10c9f1040>
    │    └ <function Login.prosesLoging at 0x10c885280>
    └ <app.libraries.Login.Login object at 0x10c9f10d0>

  File "./app/libraries/Login.py", line 47, in prosesLoging
    origintTelegram = agent.original_request['payload']['data']['from']
                      │     └ {'source': 'DIALOGFLOW_CONSOLE', 'payload': {}}
                      └ <dialogflow_fulfillment.webhook_client.WebhookClient object at 0x10c9f1040>

KeyError: 'data'
ERROR    2021-07-27 22:00:47.896 request id: app - uvicorn.protocols.http.h11_impl:run_asgi - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 5
               │     └ 8
               └ <function _main at 0x10b2bc0d0>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 5
           │    └ <function BaseProcess._bootstrap at 0x10b08fb80>
           └ <SpawnProcess name='SpawnProcess-5' parent=7596 started>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x10b08f1f0>
    └ <SpawnProcess name='SpawnProcess-5' parent=7596 started>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x10b323100>, 'target': <bound method Server.run of <uvicorn.server.Server object...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-5' parent=7596 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-5' parent=7596 started>
    │    └ <function subprocess_started at 0x10b8fb670>
    └ <SpawnProcess name='SpawnProcess-5' parent=7596 started>
  File "/Library/Python/3.8/site-packages/uvicorn/subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=4, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 5000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x10b3231f0>>
  File "/Library/Python/3.8/site-packages/uvicorn/server.py", line 50, in run
    loop.run_until_complete(self.serve(sockets=sockets))
    │    │                  │    │             └ [<socket.socket fd=4, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 5000)>]
    │    │                  │    └ <function Server.serve at 0x10b8f8c10>
    │    │                  └ <uvicorn.server.Server object at 0x10b3231f0>
    │    └ <function BaseEventLoop.run_until_complete at 0x10b5b5790>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/asyncio/base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x10b5b5700>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/asyncio/base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x10b5b7280>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/asyncio/base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x10b4ea160>
    └ <Handle <TaskWakeupMethWrapper object at 0x10c9d8bb0>(<Future finished result=None>)>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/asyncio/events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x10c9d8bb0>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x10c9d8bb0>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x10c9d8bb0>(<Future finished result=None>)>
> File "/Library/Python/3.8/site-packages/uvicorn/protocols/http/h11_impl.py", line 369, in run_asgi
    result = await app(self.scope, self.receive, self.send)
                   │   │    │      │    │        │    └ <function RequestResponseCycle.send at 0x10ba6f310>
                   │   │    │      │    │        └ <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10c9d8e50>
                   │   │    │      │    └ <function RequestResponseCycle.receive at 0x10ba6f3a0>
                   │   │    │      └ <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10c9d8e50>
                   │   │    └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
                   │   └ <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10c9d8e50>
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x10ba1b370>
  File "/Library/Python/3.8/site-packages/uvicorn/middleware/proxy_headers.py", line 59, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10c9d8e50>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10c9d8e50>>
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x10ba6a040>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x10ba1b370>
  File "/Library/Python/3.8/site-packages/fastapi/applications.py", line 199, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10c9d8e50>>
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10c9d8e50>>
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
  File "/Library/Python/3.8/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10c9d8e50>>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10c9d8e50>>
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x10c9bda90>
          └ <fastapi.applications.FastAPI object at 0x10ba6a040>
  File "/Library/Python/3.8/site-packages/starlette/middleware/errors.py", line 181, in __call__
    raise exc from None
  File "/Library/Python/3.8/site-packages/starlette/middleware/errors.py", line 159, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x10c9b9f70>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10c9d8e50>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x10c9bda30>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x10c9bda90>
  File "/Library/Python/3.8/site-packages/starlette/middleware/base.py", line 25, in __call__
    response = await self.dispatch_func(request, self.call_next)
                     │    │             │        │    └ <function BaseHTTPMiddleware.call_next at 0x10bf2a940>
                     │    │             │        └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x10c9bda30>
                     │    │             └ <starlette.requests.Request object at 0x10c9d8ee0>
                     │    └ <function add_process_time_header at 0x10c9b9d30>
                     └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x10c9bda30>

  File "./app/__init__.py", line 65, in add_process_time_header
    response = await call_next(request)
                     │         └ <starlette.requests.Request object at 0x10c9d8ee0>
                     └ <bound method BaseHTTPMiddleware.call_next of <starlette.middleware.base.BaseHTTPMiddleware object at 0x10c9bda30>>

  File "/Library/Python/3.8/site-packages/starlette/middleware/base.py", line 45, in call_next
    task.result()
    │    └ <method 'result' of '_asyncio.Task' objects>
    └ <Task finished name='Task-6' coro=<BaseHTTPMiddleware.call_next.<locals>.coro() done, defined at /Library/Python/3.8/site-pac...
  File "/Library/Python/3.8/site-packages/starlette/middleware/base.py", line 38, in coro
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method Queue.put of <Queue at 0x10c9d8b50 maxsize=0 tasks=1>>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10c9d8e50>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x10c9bda00>
          └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x10c9bda30>
  File "/Library/Python/3.8/site-packages/starlette/middleware/cors.py", line 78, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method Queue.put of <Queue at 0x10c9d8b50 maxsize=0 tasks=1>>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10c9d8e50>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x10c9bd9a0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x10c9bda00>
  File "/Library/Python/3.8/site-packages/starlette/exceptions.py", line 82, in __call__
    raise exc from None
  File "/Library/Python/3.8/site-packages/starlette/exceptions.py", line 71, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x10c9ec0d0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10c9d8e50>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x10c75ecd0>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x10c9bd9a0>
  File "/Library/Python/3.8/site-packages/starlette/routing.py", line 580, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x10c9ec0d0>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10c9d8e50>>
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │     └ <function Route.handle at 0x10bef8af0>
          └ <fastapi.routing.APIRoute object at 0x10c9b1880>
  File "/Library/Python/3.8/site-packages/starlette/routing.py", line 241, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x10c9ec0d0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10c9d8e50>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <function request_response.<locals>.app at 0x10c9aaca0>
          └ <fastapi.routing.APIRoute object at 0x10c9b1880>
  File "/Library/Python/3.8/site-packages/starlette/routing.py", line 52, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x10c9d89d0>
                     └ <function get_request_handler.<locals>.app at 0x10c9aac10>
  File "/Library/Python/3.8/site-packages/fastapi/routing.py", line 214, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x10bee3b80>
  File "/Library/Python/3.8/site-packages/fastapi/routing.py", line 149, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'request': <starlette.requests.Request object at 0x10c9d89d0>}
                 │         └ <function action at 0x10c885670>
                 └ <fastapi.dependencies.models.Dependant object at 0x10c9b1970>

  File "./app/routers/conversation.py", line 10, in action
    return await controller.index(request)
                 │          │     └ <starlette.requests.Request object at 0x10c9d89d0>
                 │          └ <staticmethod object at 0x10c8227c0>
                 └ <class 'app.controllers.Conversation.Conversation'>

  File "./app/controllers/Conversation.py", line 195, in index
    login = Login(agent)
            │     └ <dialogflow_fulfillment.webhook_client.WebhookClient object at 0x10c9f1040>
            └ <class 'app.libraries.Login.Login'>

  File "./app/libraries/Login.py", line 20, in __init__
    self.prosesLoging(agent)
    │    │            └ <dialogflow_fulfillment.webhook_client.WebhookClient object at 0x10c9f1040>
    │    └ <function Login.prosesLoging at 0x10c885280>
    └ <app.libraries.Login.Login object at 0x10c9f10d0>

  File "./app/libraries/Login.py", line 47, in prosesLoging
    origintTelegram = agent.original_request['payload']['data']['from']
                      │     └ {'source': 'DIALOGFLOW_CONSOLE', 'payload': {}}
                      └ <dialogflow_fulfillment.webhook_client.WebhookClient object at 0x10c9f1040>

KeyError: 'data'
INFO     2021-07-27 22:01:32.838 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2021-07-27 22:01:32.839 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2021-07-27 22:01:32.839 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2021-07-27 22:01:32.943 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2021-07-27 22:01:32.943 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2021-07-27 22:01:32.943 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2021-07-27 22:01:32.944 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2021-07-27 22:01:32.945 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2021-07-27 22:01:32.945 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2021-07-27 22:01:32.945 request id: app - uvicorn.server:serve - Finished server process [9692]
INFO     2021-07-27 22:01:32.945 request id: app - uvicorn.server:serve - Finished server process [9692]
INFO     2021-07-27 22:01:32.946 request id: app - uvicorn.server:serve - Finished server process [9692]
INFO     2021-07-27 22:01:33.891 request id: app - uvicorn.server:serve - Started server process [9702]
INFO     2021-07-27 22:01:33.894 request id: app - uvicorn.server:serve - Started server process [9702]
INFO     2021-07-27 22:01:33.894 request id: app - uvicorn.server:serve - Started server process [9702]
INFO     2021-07-27 22:01:33.894 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2021-07-27 22:01:33.894 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2021-07-27 22:01:33.894 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2021-07-27 22:01:33.896 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2021-07-27 22:01:33.896 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2021-07-27 22:01:33.896 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2021-07-27 22:01:47.718 request id: app - uvicorn.protocols.http.h11_impl:send - 66.249.83.84:0 - "POST /webhook HTTP/1.1" 500
ERROR    2021-07-27 22:01:47.720 request id: app - uvicorn.protocols.http.h11_impl:run_asgi - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 5
               │     └ 8
               └ <function _main at 0x10bdc00d0>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 5
           │    └ <function BaseProcess._bootstrap at 0x10bb93b80>
           └ <SpawnProcess name='SpawnProcess-6' parent=7596 started>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x10bb931f0>
    └ <SpawnProcess name='SpawnProcess-6' parent=7596 started>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x10be27100>, 'target': <bound method Server.run of <uvicorn.server.Server object...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-6' parent=7596 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-6' parent=7596 started>
    │    └ <function subprocess_started at 0x10c400670>
    └ <SpawnProcess name='SpawnProcess-6' parent=7596 started>
  File "/Library/Python/3.8/site-packages/uvicorn/subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=4, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 5000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x10be271f0>>
  File "/Library/Python/3.8/site-packages/uvicorn/server.py", line 50, in run
    loop.run_until_complete(self.serve(sockets=sockets))
    │    │                  │    │             └ [<socket.socket fd=4, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 5000)>]
    │    │                  │    └ <function Server.serve at 0x10c3fcc10>
    │    │                  └ <uvicorn.server.Server object at 0x10be271f0>
    │    └ <function BaseEventLoop.run_until_complete at 0x10c0b9790>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/asyncio/base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x10c0b9700>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/asyncio/base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x10c0bb280>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/asyncio/base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x10bfee160>
    └ <Handle <TaskWakeupMethWrapper object at 0x10d4d8b80>(<Future finished result=None>)>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/asyncio/events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x10d4d8b80>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x10d4d8b80>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x10d4d8b80>(<Future finished result=None>)>
> File "/Library/Python/3.8/site-packages/uvicorn/protocols/http/h11_impl.py", line 369, in run_asgi
    result = await app(self.scope, self.receive, self.send)
                   │   │    │      │    │        │    └ <function RequestResponseCycle.send at 0x10c567310>
                   │   │    │      │    │        └ <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10d4d8e20>
                   │   │    │      │    └ <function RequestResponseCycle.receive at 0x10c5673a0>
                   │   │    │      └ <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10d4d8e20>
                   │   │    └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
                   │   └ <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10d4d8e20>
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x10c51f370>
  File "/Library/Python/3.8/site-packages/uvicorn/middleware/proxy_headers.py", line 59, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10d4d8e20>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10d4d8e20>>
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x10c570040>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x10c51f370>
  File "/Library/Python/3.8/site-packages/fastapi/applications.py", line 199, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10d4d8e20>>
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10d4d8e20>>
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
  File "/Library/Python/3.8/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10d4d8e20>>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10d4d8e20>>
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x10d4c1a90>
          └ <fastapi.applications.FastAPI object at 0x10c570040>
  File "/Library/Python/3.8/site-packages/starlette/middleware/errors.py", line 181, in __call__
    raise exc from None
  File "/Library/Python/3.8/site-packages/starlette/middleware/errors.py", line 159, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x10d4bdf70>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10d4d8e20>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x10d4c1a30>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x10d4c1a90>
  File "/Library/Python/3.8/site-packages/starlette/middleware/base.py", line 25, in __call__
    response = await self.dispatch_func(request, self.call_next)
                     │    │             │        │    └ <function BaseHTTPMiddleware.call_next at 0x10ca2e940>
                     │    │             │        └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x10d4c1a30>
                     │    │             └ <starlette.requests.Request object at 0x10d4d8eb0>
                     │    └ <function add_process_time_header at 0x10d4bdd30>
                     └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x10d4c1a30>

  File "./app/__init__.py", line 65, in add_process_time_header
    response = await call_next(request)
                     │         └ <starlette.requests.Request object at 0x10d4d8eb0>
                     └ <bound method BaseHTTPMiddleware.call_next of <starlette.middleware.base.BaseHTTPMiddleware object at 0x10d4c1a30>>

  File "/Library/Python/3.8/site-packages/starlette/middleware/base.py", line 45, in call_next
    task.result()
    │    └ <method 'result' of '_asyncio.Task' objects>
    └ <Task finished name='Task-6' coro=<BaseHTTPMiddleware.call_next.<locals>.coro() done, defined at /Library/Python/3.8/site-pac...
  File "/Library/Python/3.8/site-packages/starlette/middleware/base.py", line 38, in coro
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method Queue.put of <Queue at 0x10d4d8b20 maxsize=0 tasks=1>>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10d4d8e20>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x10d4c1a00>
          └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x10d4c1a30>
  File "/Library/Python/3.8/site-packages/starlette/middleware/cors.py", line 78, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method Queue.put of <Queue at 0x10d4d8b20 maxsize=0 tasks=1>>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10d4d8e20>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x10d4c19a0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x10d4c1a00>
  File "/Library/Python/3.8/site-packages/starlette/exceptions.py", line 82, in __call__
    raise exc from None
  File "/Library/Python/3.8/site-packages/starlette/exceptions.py", line 71, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x10d4f00d0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10d4d8e20>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x10d262cd0>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x10d4c19a0>
  File "/Library/Python/3.8/site-packages/starlette/routing.py", line 580, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x10d4f00d0>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10d4d8e20>>
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │     └ <function Route.handle at 0x10c9fcaf0>
          └ <fastapi.routing.APIRoute object at 0x10d4b5880>
  File "/Library/Python/3.8/site-packages/starlette/routing.py", line 241, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x10d4f00d0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10d4d8e20>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <function request_response.<locals>.app at 0x10d4aeca0>
          └ <fastapi.routing.APIRoute object at 0x10d4b5880>
  File "/Library/Python/3.8/site-packages/starlette/routing.py", line 52, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x10d4d89a0>
                     └ <function get_request_handler.<locals>.app at 0x10d4aec10>
  File "/Library/Python/3.8/site-packages/fastapi/routing.py", line 214, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x10c9e7b80>
  File "/Library/Python/3.8/site-packages/fastapi/routing.py", line 149, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'request': <starlette.requests.Request object at 0x10d4d89a0>}
                 │         └ <function action at 0x10d34c670>
                 └ <fastapi.dependencies.models.Dependant object at 0x10d4b5970>

  File "./app/routers/conversation.py", line 10, in action
    return await controller.index(request)
                 │          │     └ <starlette.requests.Request object at 0x10d4d89a0>
                 │          └ <staticmethod object at 0x10d3257c0>
                 └ <class 'app.controllers.Conversation.Conversation'>

  File "./app/controllers/Conversation.py", line 195, in index
    login = Login(agent)
            │     └ <dialogflow_fulfillment.webhook_client.WebhookClient object at 0x10d4d8fd0>
            └ <class 'app.libraries.Login.Login'>

  File "./app/libraries/Login.py", line 20, in __init__
    self.prosesLoging(agent)
    │    │            └ <dialogflow_fulfillment.webhook_client.WebhookClient object at 0x10d4d8fd0>
    │    └ <function Login.prosesLoging at 0x10d34c280>
    └ <app.libraries.Login.Login object at 0x10d4f50a0>

  File "./app/libraries/Login.py", line 49, in prosesLoging
    origintTelegram = agent.original_request['payload']['data']['from']
                      │     └ {'source': 'DIALOGFLOW_CONSOLE', 'payload': {}}
                      └ <dialogflow_fulfillment.webhook_client.WebhookClient object at 0x10d4d8fd0>

KeyError: 'data'
ERROR    2021-07-27 22:01:47.789 request id: app - uvicorn.protocols.http.h11_impl:run_asgi - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 5
               │     └ 8
               └ <function _main at 0x10bdc00d0>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 5
           │    └ <function BaseProcess._bootstrap at 0x10bb93b80>
           └ <SpawnProcess name='SpawnProcess-6' parent=7596 started>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x10bb931f0>
    └ <SpawnProcess name='SpawnProcess-6' parent=7596 started>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x10be27100>, 'target': <bound method Server.run of <uvicorn.server.Server object...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-6' parent=7596 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-6' parent=7596 started>
    │    └ <function subprocess_started at 0x10c400670>
    └ <SpawnProcess name='SpawnProcess-6' parent=7596 started>
  File "/Library/Python/3.8/site-packages/uvicorn/subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=4, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 5000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x10be271f0>>
  File "/Library/Python/3.8/site-packages/uvicorn/server.py", line 50, in run
    loop.run_until_complete(self.serve(sockets=sockets))
    │    │                  │    │             └ [<socket.socket fd=4, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 5000)>]
    │    │                  │    └ <function Server.serve at 0x10c3fcc10>
    │    │                  └ <uvicorn.server.Server object at 0x10be271f0>
    │    └ <function BaseEventLoop.run_until_complete at 0x10c0b9790>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/asyncio/base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x10c0b9700>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/asyncio/base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x10c0bb280>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/asyncio/base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x10bfee160>
    └ <Handle <TaskWakeupMethWrapper object at 0x10d4d8b80>(<Future finished result=None>)>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/asyncio/events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x10d4d8b80>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x10d4d8b80>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x10d4d8b80>(<Future finished result=None>)>
> File "/Library/Python/3.8/site-packages/uvicorn/protocols/http/h11_impl.py", line 369, in run_asgi
    result = await app(self.scope, self.receive, self.send)
                   │   │    │      │    │        │    └ <function RequestResponseCycle.send at 0x10c567310>
                   │   │    │      │    │        └ <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10d4d8e20>
                   │   │    │      │    └ <function RequestResponseCycle.receive at 0x10c5673a0>
                   │   │    │      └ <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10d4d8e20>
                   │   │    └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
                   │   └ <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10d4d8e20>
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x10c51f370>
  File "/Library/Python/3.8/site-packages/uvicorn/middleware/proxy_headers.py", line 59, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10d4d8e20>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10d4d8e20>>
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x10c570040>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x10c51f370>
  File "/Library/Python/3.8/site-packages/fastapi/applications.py", line 199, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10d4d8e20>>
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10d4d8e20>>
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
  File "/Library/Python/3.8/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10d4d8e20>>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10d4d8e20>>
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x10d4c1a90>
          └ <fastapi.applications.FastAPI object at 0x10c570040>
  File "/Library/Python/3.8/site-packages/starlette/middleware/errors.py", line 181, in __call__
    raise exc from None
  File "/Library/Python/3.8/site-packages/starlette/middleware/errors.py", line 159, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x10d4bdf70>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10d4d8e20>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x10d4c1a30>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x10d4c1a90>
  File "/Library/Python/3.8/site-packages/starlette/middleware/base.py", line 25, in __call__
    response = await self.dispatch_func(request, self.call_next)
                     │    │             │        │    └ <function BaseHTTPMiddleware.call_next at 0x10ca2e940>
                     │    │             │        └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x10d4c1a30>
                     │    │             └ <starlette.requests.Request object at 0x10d4d8eb0>
                     │    └ <function add_process_time_header at 0x10d4bdd30>
                     └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x10d4c1a30>

  File "./app/__init__.py", line 65, in add_process_time_header
    response = await call_next(request)
                     │         └ <starlette.requests.Request object at 0x10d4d8eb0>
                     └ <bound method BaseHTTPMiddleware.call_next of <starlette.middleware.base.BaseHTTPMiddleware object at 0x10d4c1a30>>

  File "/Library/Python/3.8/site-packages/starlette/middleware/base.py", line 45, in call_next
    task.result()
    │    └ <method 'result' of '_asyncio.Task' objects>
    └ <Task finished name='Task-6' coro=<BaseHTTPMiddleware.call_next.<locals>.coro() done, defined at /Library/Python/3.8/site-pac...
  File "/Library/Python/3.8/site-packages/starlette/middleware/base.py", line 38, in coro
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method Queue.put of <Queue at 0x10d4d8b20 maxsize=0 tasks=1>>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10d4d8e20>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x10d4c1a00>
          └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x10d4c1a30>
  File "/Library/Python/3.8/site-packages/starlette/middleware/cors.py", line 78, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method Queue.put of <Queue at 0x10d4d8b20 maxsize=0 tasks=1>>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10d4d8e20>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x10d4c19a0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x10d4c1a00>
  File "/Library/Python/3.8/site-packages/starlette/exceptions.py", line 82, in __call__
    raise exc from None
  File "/Library/Python/3.8/site-packages/starlette/exceptions.py", line 71, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x10d4f00d0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10d4d8e20>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x10d262cd0>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x10d4c19a0>
  File "/Library/Python/3.8/site-packages/starlette/routing.py", line 580, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x10d4f00d0>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10d4d8e20>>
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │     └ <function Route.handle at 0x10c9fcaf0>
          └ <fastapi.routing.APIRoute object at 0x10d4b5880>
  File "/Library/Python/3.8/site-packages/starlette/routing.py", line 241, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x10d4f00d0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10d4d8e20>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <function request_response.<locals>.app at 0x10d4aeca0>
          └ <fastapi.routing.APIRoute object at 0x10d4b5880>
  File "/Library/Python/3.8/site-packages/starlette/routing.py", line 52, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x10d4d89a0>
                     └ <function get_request_handler.<locals>.app at 0x10d4aec10>
  File "/Library/Python/3.8/site-packages/fastapi/routing.py", line 214, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x10c9e7b80>
  File "/Library/Python/3.8/site-packages/fastapi/routing.py", line 149, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'request': <starlette.requests.Request object at 0x10d4d89a0>}
                 │         └ <function action at 0x10d34c670>
                 └ <fastapi.dependencies.models.Dependant object at 0x10d4b5970>

  File "./app/routers/conversation.py", line 10, in action
    return await controller.index(request)
                 │          │     └ <starlette.requests.Request object at 0x10d4d89a0>
                 │          └ <staticmethod object at 0x10d3257c0>
                 └ <class 'app.controllers.Conversation.Conversation'>

  File "./app/controllers/Conversation.py", line 195, in index
    login = Login(agent)
            │     └ <dialogflow_fulfillment.webhook_client.WebhookClient object at 0x10d4d8fd0>
            └ <class 'app.libraries.Login.Login'>

  File "./app/libraries/Login.py", line 20, in __init__
    self.prosesLoging(agent)
    │    │            └ <dialogflow_fulfillment.webhook_client.WebhookClient object at 0x10d4d8fd0>
    │    └ <function Login.prosesLoging at 0x10d34c280>
    └ <app.libraries.Login.Login object at 0x10d4f50a0>

  File "./app/libraries/Login.py", line 49, in prosesLoging
    origintTelegram = agent.original_request['payload']['data']['from']
                      │     └ {'source': 'DIALOGFLOW_CONSOLE', 'payload': {}}
                      └ <dialogflow_fulfillment.webhook_client.WebhookClient object at 0x10d4d8fd0>

KeyError: 'data'
ERROR    2021-07-27 22:01:47.803 request id: app - uvicorn.protocols.http.h11_impl:run_asgi - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 5
               │     └ 8
               └ <function _main at 0x10bdc00d0>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 5
           │    └ <function BaseProcess._bootstrap at 0x10bb93b80>
           └ <SpawnProcess name='SpawnProcess-6' parent=7596 started>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x10bb931f0>
    └ <SpawnProcess name='SpawnProcess-6' parent=7596 started>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x10be27100>, 'target': <bound method Server.run of <uvicorn.server.Server object...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-6' parent=7596 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-6' parent=7596 started>
    │    └ <function subprocess_started at 0x10c400670>
    └ <SpawnProcess name='SpawnProcess-6' parent=7596 started>
  File "/Library/Python/3.8/site-packages/uvicorn/subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=4, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 5000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x10be271f0>>
  File "/Library/Python/3.8/site-packages/uvicorn/server.py", line 50, in run
    loop.run_until_complete(self.serve(sockets=sockets))
    │    │                  │    │             └ [<socket.socket fd=4, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 5000)>]
    │    │                  │    └ <function Server.serve at 0x10c3fcc10>
    │    │                  └ <uvicorn.server.Server object at 0x10be271f0>
    │    └ <function BaseEventLoop.run_until_complete at 0x10c0b9790>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/asyncio/base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x10c0b9700>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/asyncio/base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x10c0bb280>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/asyncio/base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x10bfee160>
    └ <Handle <TaskWakeupMethWrapper object at 0x10d4d8b80>(<Future finished result=None>)>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/asyncio/events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x10d4d8b80>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x10d4d8b80>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x10d4d8b80>(<Future finished result=None>)>
> File "/Library/Python/3.8/site-packages/uvicorn/protocols/http/h11_impl.py", line 369, in run_asgi
    result = await app(self.scope, self.receive, self.send)
                   │   │    │      │    │        │    └ <function RequestResponseCycle.send at 0x10c567310>
                   │   │    │      │    │        └ <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10d4d8e20>
                   │   │    │      │    └ <function RequestResponseCycle.receive at 0x10c5673a0>
                   │   │    │      └ <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10d4d8e20>
                   │   │    └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
                   │   └ <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10d4d8e20>
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x10c51f370>
  File "/Library/Python/3.8/site-packages/uvicorn/middleware/proxy_headers.py", line 59, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10d4d8e20>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10d4d8e20>>
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x10c570040>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x10c51f370>
  File "/Library/Python/3.8/site-packages/fastapi/applications.py", line 199, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10d4d8e20>>
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10d4d8e20>>
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
  File "/Library/Python/3.8/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10d4d8e20>>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10d4d8e20>>
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x10d4c1a90>
          └ <fastapi.applications.FastAPI object at 0x10c570040>
  File "/Library/Python/3.8/site-packages/starlette/middleware/errors.py", line 181, in __call__
    raise exc from None
  File "/Library/Python/3.8/site-packages/starlette/middleware/errors.py", line 159, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x10d4bdf70>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10d4d8e20>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x10d4c1a30>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x10d4c1a90>
  File "/Library/Python/3.8/site-packages/starlette/middleware/base.py", line 25, in __call__
    response = await self.dispatch_func(request, self.call_next)
                     │    │             │        │    └ <function BaseHTTPMiddleware.call_next at 0x10ca2e940>
                     │    │             │        └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x10d4c1a30>
                     │    │             └ <starlette.requests.Request object at 0x10d4d8eb0>
                     │    └ <function add_process_time_header at 0x10d4bdd30>
                     └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x10d4c1a30>

  File "./app/__init__.py", line 65, in add_process_time_header
    response = await call_next(request)
                     │         └ <starlette.requests.Request object at 0x10d4d8eb0>
                     └ <bound method BaseHTTPMiddleware.call_next of <starlette.middleware.base.BaseHTTPMiddleware object at 0x10d4c1a30>>

  File "/Library/Python/3.8/site-packages/starlette/middleware/base.py", line 45, in call_next
    task.result()
    │    └ <method 'result' of '_asyncio.Task' objects>
    └ <Task finished name='Task-6' coro=<BaseHTTPMiddleware.call_next.<locals>.coro() done, defined at /Library/Python/3.8/site-pac...
  File "/Library/Python/3.8/site-packages/starlette/middleware/base.py", line 38, in coro
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method Queue.put of <Queue at 0x10d4d8b20 maxsize=0 tasks=1>>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10d4d8e20>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x10d4c1a00>
          └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x10d4c1a30>
  File "/Library/Python/3.8/site-packages/starlette/middleware/cors.py", line 78, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method Queue.put of <Queue at 0x10d4d8b20 maxsize=0 tasks=1>>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10d4d8e20>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x10d4c19a0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x10d4c1a00>
  File "/Library/Python/3.8/site-packages/starlette/exceptions.py", line 82, in __call__
    raise exc from None
  File "/Library/Python/3.8/site-packages/starlette/exceptions.py", line 71, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x10d4f00d0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10d4d8e20>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x10d262cd0>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x10d4c19a0>
  File "/Library/Python/3.8/site-packages/starlette/routing.py", line 580, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x10d4f00d0>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10d4d8e20>>
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │     └ <function Route.handle at 0x10c9fcaf0>
          └ <fastapi.routing.APIRoute object at 0x10d4b5880>
  File "/Library/Python/3.8/site-packages/starlette/routing.py", line 241, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x10d4f00d0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10d4d8e20>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <function request_response.<locals>.app at 0x10d4aeca0>
          └ <fastapi.routing.APIRoute object at 0x10d4b5880>
  File "/Library/Python/3.8/site-packages/starlette/routing.py", line 52, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x10d4d89a0>
                     └ <function get_request_handler.<locals>.app at 0x10d4aec10>
  File "/Library/Python/3.8/site-packages/fastapi/routing.py", line 214, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x10c9e7b80>
  File "/Library/Python/3.8/site-packages/fastapi/routing.py", line 149, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'request': <starlette.requests.Request object at 0x10d4d89a0>}
                 │         └ <function action at 0x10d34c670>
                 └ <fastapi.dependencies.models.Dependant object at 0x10d4b5970>

  File "./app/routers/conversation.py", line 10, in action
    return await controller.index(request)
                 │          │     └ <starlette.requests.Request object at 0x10d4d89a0>
                 │          └ <staticmethod object at 0x10d3257c0>
                 └ <class 'app.controllers.Conversation.Conversation'>

  File "./app/controllers/Conversation.py", line 195, in index
    login = Login(agent)
            │     └ <dialogflow_fulfillment.webhook_client.WebhookClient object at 0x10d4d8fd0>
            └ <class 'app.libraries.Login.Login'>

  File "./app/libraries/Login.py", line 20, in __init__
    self.prosesLoging(agent)
    │    │            └ <dialogflow_fulfillment.webhook_client.WebhookClient object at 0x10d4d8fd0>
    │    └ <function Login.prosesLoging at 0x10d34c280>
    └ <app.libraries.Login.Login object at 0x10d4f50a0>

  File "./app/libraries/Login.py", line 49, in prosesLoging
    origintTelegram = agent.original_request['payload']['data']['from']
                      │     └ {'source': 'DIALOGFLOW_CONSOLE', 'payload': {}}
                      └ <dialogflow_fulfillment.webhook_client.WebhookClient object at 0x10d4d8fd0>

KeyError: 'data'
INFO     2021-07-27 22:02:07.177 request id: app - uvicorn.protocols.http.h11_impl:send - 66.249.83.91:0 - "POST /webhook HTTP/1.1" 500
ERROR    2021-07-27 22:02:07.181 request id: app - uvicorn.protocols.http.h11_impl:run_asgi - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 5
               │     └ 8
               └ <function _main at 0x10bdc00d0>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 5
           │    └ <function BaseProcess._bootstrap at 0x10bb93b80>
           └ <SpawnProcess name='SpawnProcess-6' parent=7596 started>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x10bb931f0>
    └ <SpawnProcess name='SpawnProcess-6' parent=7596 started>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x10be27100>, 'target': <bound method Server.run of <uvicorn.server.Server object...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-6' parent=7596 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-6' parent=7596 started>
    │    └ <function subprocess_started at 0x10c400670>
    └ <SpawnProcess name='SpawnProcess-6' parent=7596 started>
  File "/Library/Python/3.8/site-packages/uvicorn/subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=4, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 5000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x10be271f0>>
  File "/Library/Python/3.8/site-packages/uvicorn/server.py", line 50, in run
    loop.run_until_complete(self.serve(sockets=sockets))
    │    │                  │    │             └ [<socket.socket fd=4, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 5000)>]
    │    │                  │    └ <function Server.serve at 0x10c3fcc10>
    │    │                  └ <uvicorn.server.Server object at 0x10be271f0>
    │    └ <function BaseEventLoop.run_until_complete at 0x10c0b9790>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/asyncio/base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x10c0b9700>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/asyncio/base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x10c0bb280>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/asyncio/base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x10bfee160>
    └ <Handle <TaskWakeupMethWrapper object at 0x10d4f5760>(<Future finished result=None>)>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/asyncio/events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x10d4f5760>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x10d4f5760>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x10d4f5760>(<Future finished result=None>)>
> File "/Library/Python/3.8/site-packages/uvicorn/protocols/http/h11_impl.py", line 369, in run_asgi
    result = await app(self.scope, self.receive, self.send)
                   │   │    │      │    │        │    └ <function RequestResponseCycle.send at 0x10c567310>
                   │   │    │      │    │        └ <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10d4f5c70>
                   │   │    │      │    └ <function RequestResponseCycle.receive at 0x10c5673a0>
                   │   │    │      └ <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10d4f5c70>
                   │   │    └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
                   │   └ <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10d4f5c70>
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x10c51f370>
  File "/Library/Python/3.8/site-packages/uvicorn/middleware/proxy_headers.py", line 59, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10d4f5c70>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10d4f5c70>>
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x10c570040>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x10c51f370>
  File "/Library/Python/3.8/site-packages/fastapi/applications.py", line 199, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10d4f5c70>>
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10d4f5c70>>
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
  File "/Library/Python/3.8/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10d4f5c70>>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10d4f5c70>>
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x10d4c1a90>
          └ <fastapi.applications.FastAPI object at 0x10c570040>
  File "/Library/Python/3.8/site-packages/starlette/middleware/errors.py", line 181, in __call__
    raise exc from None
  File "/Library/Python/3.8/site-packages/starlette/middleware/errors.py", line 159, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x10d4f0280>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10d4f5c70>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x10d4c1a30>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x10d4c1a90>
  File "/Library/Python/3.8/site-packages/starlette/middleware/base.py", line 25, in __call__
    response = await self.dispatch_func(request, self.call_next)
                     │    │             │        │    └ <function BaseHTTPMiddleware.call_next at 0x10ca2e940>
                     │    │             │        └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x10d4c1a30>
                     │    │             └ <starlette.requests.Request object at 0x10d4f5cd0>
                     │    └ <function add_process_time_header at 0x10d4bdd30>
                     └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x10d4c1a30>

  File "./app/__init__.py", line 65, in add_process_time_header
    response = await call_next(request)
                     │         └ <starlette.requests.Request object at 0x10d4f5cd0>
                     └ <bound method BaseHTTPMiddleware.call_next of <starlette.middleware.base.BaseHTTPMiddleware object at 0x10d4c1a30>>

  File "/Library/Python/3.8/site-packages/starlette/middleware/base.py", line 45, in call_next
    task.result()
    │    └ <method 'result' of '_asyncio.Task' objects>
    └ <Task finished name='Task-10' coro=<BaseHTTPMiddleware.call_next.<locals>.coro() done, defined at /Library/Python/3.8/site-pa...
  File "/Library/Python/3.8/site-packages/starlette/middleware/base.py", line 38, in coro
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method Queue.put of <Queue at 0x10d4f5250 maxsize=0 tasks=1>>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10d4f5c70>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x10d4c1a00>
          └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x10d4c1a30>
  File "/Library/Python/3.8/site-packages/starlette/middleware/cors.py", line 78, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method Queue.put of <Queue at 0x10d4f5250 maxsize=0 tasks=1>>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10d4f5c70>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x10d4c19a0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x10d4c1a00>
  File "/Library/Python/3.8/site-packages/starlette/exceptions.py", line 82, in __call__
    raise exc from None
  File "/Library/Python/3.8/site-packages/starlette/exceptions.py", line 71, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x10d588040>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10d4f5c70>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x10d262cd0>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x10d4c19a0>
  File "/Library/Python/3.8/site-packages/starlette/routing.py", line 580, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x10d588040>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10d4f5c70>>
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │     └ <function Route.handle at 0x10c9fcaf0>
          └ <fastapi.routing.APIRoute object at 0x10d4b5880>
  File "/Library/Python/3.8/site-packages/starlette/routing.py", line 241, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x10d588040>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10d4f5c70>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <function request_response.<locals>.app at 0x10d4aeca0>
          └ <fastapi.routing.APIRoute object at 0x10d4b5880>
  File "/Library/Python/3.8/site-packages/starlette/routing.py", line 52, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x10d4f5a30>
                     └ <function get_request_handler.<locals>.app at 0x10d4aec10>
  File "/Library/Python/3.8/site-packages/fastapi/routing.py", line 214, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x10c9e7b80>
  File "/Library/Python/3.8/site-packages/fastapi/routing.py", line 149, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'request': <starlette.requests.Request object at 0x10d4f5a30>}
                 │         └ <function action at 0x10d34c670>
                 └ <fastapi.dependencies.models.Dependant object at 0x10d4b5970>

  File "./app/routers/conversation.py", line 10, in action
    return await controller.index(request)
                 │          │     └ <starlette.requests.Request object at 0x10d4f5a30>
                 │          └ <staticmethod object at 0x10d3257c0>
                 └ <class 'app.controllers.Conversation.Conversation'>

  File "./app/controllers/Conversation.py", line 194, in index
    agent = WebhookClient(req)
            │             └ {'responseId': '27d3023f-e199-4ef9-a816-f81c3177f88a-046d94d0', 'queryResult': {'action': 'input.unknown', 'parameters': {}, ...
            └ <class 'dialogflow_fulfillment.webhook_client.WebhookClient'>

  File "/Library/Python/3.8/site-packages/dialogflow_fulfillment/webhook_client.py", line 52, in __init__
    self._process_request(request)
    │    │                └ {'responseId': '27d3023f-e199-4ef9-a816-f81c3177f88a-046d94d0', 'queryResult': {'action': 'input.unknown', 'parameters': {}, ...
    │    └ <function WebhookClient._process_request at 0x10d33c550>
    └ <dialogflow_fulfillment.webhook_client.WebhookClient object at 0x10d4f5df0>
  File "/Library/Python/3.8/site-packages/dialogflow_fulfillment/webhook_client.py", line 69, in _process_request
    self.query = query_result['queryText']
    │            └ {'action': 'input.unknown', 'parameters': {}, 'allRequiredParamsPresent': True, 'fulfillmentText': 'Evita tidak mengerti.', '...
    └ <dialogflow_fulfillment.webhook_client.WebhookClient object at 0x10d4f5df0>

KeyError: 'queryText'
ERROR    2021-07-27 22:02:07.211 request id: app - uvicorn.protocols.http.h11_impl:run_asgi - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 5
               │     └ 8
               └ <function _main at 0x10bdc00d0>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 5
           │    └ <function BaseProcess._bootstrap at 0x10bb93b80>
           └ <SpawnProcess name='SpawnProcess-6' parent=7596 started>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x10bb931f0>
    └ <SpawnProcess name='SpawnProcess-6' parent=7596 started>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x10be27100>, 'target': <bound method Server.run of <uvicorn.server.Server object...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-6' parent=7596 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-6' parent=7596 started>
    │    └ <function subprocess_started at 0x10c400670>
    └ <SpawnProcess name='SpawnProcess-6' parent=7596 started>
  File "/Library/Python/3.8/site-packages/uvicorn/subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=4, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 5000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x10be271f0>>
  File "/Library/Python/3.8/site-packages/uvicorn/server.py", line 50, in run
    loop.run_until_complete(self.serve(sockets=sockets))
    │    │                  │    │             └ [<socket.socket fd=4, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 5000)>]
    │    │                  │    └ <function Server.serve at 0x10c3fcc10>
    │    │                  └ <uvicorn.server.Server object at 0x10be271f0>
    │    └ <function BaseEventLoop.run_until_complete at 0x10c0b9790>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/asyncio/base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x10c0b9700>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/asyncio/base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x10c0bb280>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/asyncio/base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x10bfee160>
    └ <Handle <TaskWakeupMethWrapper object at 0x10d4f5760>(<Future finished result=None>)>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/asyncio/events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x10d4f5760>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x10d4f5760>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x10d4f5760>(<Future finished result=None>)>
> File "/Library/Python/3.8/site-packages/uvicorn/protocols/http/h11_impl.py", line 369, in run_asgi
    result = await app(self.scope, self.receive, self.send)
                   │   │    │      │    │        │    └ <function RequestResponseCycle.send at 0x10c567310>
                   │   │    │      │    │        └ <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10d4f5c70>
                   │   │    │      │    └ <function RequestResponseCycle.receive at 0x10c5673a0>
                   │   │    │      └ <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10d4f5c70>
                   │   │    └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
                   │   └ <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10d4f5c70>
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x10c51f370>
  File "/Library/Python/3.8/site-packages/uvicorn/middleware/proxy_headers.py", line 59, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10d4f5c70>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10d4f5c70>>
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x10c570040>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x10c51f370>
  File "/Library/Python/3.8/site-packages/fastapi/applications.py", line 199, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10d4f5c70>>
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10d4f5c70>>
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
  File "/Library/Python/3.8/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10d4f5c70>>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10d4f5c70>>
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x10d4c1a90>
          └ <fastapi.applications.FastAPI object at 0x10c570040>
  File "/Library/Python/3.8/site-packages/starlette/middleware/errors.py", line 181, in __call__
    raise exc from None
  File "/Library/Python/3.8/site-packages/starlette/middleware/errors.py", line 159, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x10d4f0280>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10d4f5c70>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x10d4c1a30>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x10d4c1a90>
  File "/Library/Python/3.8/site-packages/starlette/middleware/base.py", line 25, in __call__
    response = await self.dispatch_func(request, self.call_next)
                     │    │             │        │    └ <function BaseHTTPMiddleware.call_next at 0x10ca2e940>
                     │    │             │        └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x10d4c1a30>
                     │    │             └ <starlette.requests.Request object at 0x10d4f5cd0>
                     │    └ <function add_process_time_header at 0x10d4bdd30>
                     └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x10d4c1a30>

  File "./app/__init__.py", line 65, in add_process_time_header
    response = await call_next(request)
                     │         └ <starlette.requests.Request object at 0x10d4f5cd0>
                     └ <bound method BaseHTTPMiddleware.call_next of <starlette.middleware.base.BaseHTTPMiddleware object at 0x10d4c1a30>>

  File "/Library/Python/3.8/site-packages/starlette/middleware/base.py", line 45, in call_next
    task.result()
    │    └ <method 'result' of '_asyncio.Task' objects>
    └ <Task finished name='Task-10' coro=<BaseHTTPMiddleware.call_next.<locals>.coro() done, defined at /Library/Python/3.8/site-pa...
  File "/Library/Python/3.8/site-packages/starlette/middleware/base.py", line 38, in coro
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method Queue.put of <Queue at 0x10d4f5250 maxsize=0 tasks=1>>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10d4f5c70>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x10d4c1a00>
          └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x10d4c1a30>
  File "/Library/Python/3.8/site-packages/starlette/middleware/cors.py", line 78, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method Queue.put of <Queue at 0x10d4f5250 maxsize=0 tasks=1>>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10d4f5c70>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x10d4c19a0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x10d4c1a00>
  File "/Library/Python/3.8/site-packages/starlette/exceptions.py", line 82, in __call__
    raise exc from None
  File "/Library/Python/3.8/site-packages/starlette/exceptions.py", line 71, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x10d588040>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10d4f5c70>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x10d262cd0>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x10d4c19a0>
  File "/Library/Python/3.8/site-packages/starlette/routing.py", line 580, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x10d588040>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10d4f5c70>>
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │     └ <function Route.handle at 0x10c9fcaf0>
          └ <fastapi.routing.APIRoute object at 0x10d4b5880>
  File "/Library/Python/3.8/site-packages/starlette/routing.py", line 241, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x10d588040>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10d4f5c70>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <function request_response.<locals>.app at 0x10d4aeca0>
          └ <fastapi.routing.APIRoute object at 0x10d4b5880>
  File "/Library/Python/3.8/site-packages/starlette/routing.py", line 52, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x10d4f5a30>
                     └ <function get_request_handler.<locals>.app at 0x10d4aec10>
  File "/Library/Python/3.8/site-packages/fastapi/routing.py", line 214, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x10c9e7b80>
  File "/Library/Python/3.8/site-packages/fastapi/routing.py", line 149, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'request': <starlette.requests.Request object at 0x10d4f5a30>}
                 │         └ <function action at 0x10d34c670>
                 └ <fastapi.dependencies.models.Dependant object at 0x10d4b5970>

  File "./app/routers/conversation.py", line 10, in action
    return await controller.index(request)
                 │          │     └ <starlette.requests.Request object at 0x10d4f5a30>
                 │          └ <staticmethod object at 0x10d3257c0>
                 └ <class 'app.controllers.Conversation.Conversation'>

  File "./app/controllers/Conversation.py", line 194, in index
    agent = WebhookClient(req)
            │             └ {'responseId': '27d3023f-e199-4ef9-a816-f81c3177f88a-046d94d0', 'queryResult': {'action': 'input.unknown', 'parameters': {}, ...
            └ <class 'dialogflow_fulfillment.webhook_client.WebhookClient'>

  File "/Library/Python/3.8/site-packages/dialogflow_fulfillment/webhook_client.py", line 52, in __init__
    self._process_request(request)
    │    │                └ {'responseId': '27d3023f-e199-4ef9-a816-f81c3177f88a-046d94d0', 'queryResult': {'action': 'input.unknown', 'parameters': {}, ...
    │    └ <function WebhookClient._process_request at 0x10d33c550>
    └ <dialogflow_fulfillment.webhook_client.WebhookClient object at 0x10d4f5df0>
  File "/Library/Python/3.8/site-packages/dialogflow_fulfillment/webhook_client.py", line 69, in _process_request
    self.query = query_result['queryText']
    │            └ {'action': 'input.unknown', 'parameters': {}, 'allRequiredParamsPresent': True, 'fulfillmentText': 'Evita tidak mengerti.', '...
    └ <dialogflow_fulfillment.webhook_client.WebhookClient object at 0x10d4f5df0>

KeyError: 'queryText'
ERROR    2021-07-27 22:02:07.226 request id: app - uvicorn.protocols.http.h11_impl:run_asgi - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 5
               │     └ 8
               └ <function _main at 0x10bdc00d0>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 5
           │    └ <function BaseProcess._bootstrap at 0x10bb93b80>
           └ <SpawnProcess name='SpawnProcess-6' parent=7596 started>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x10bb931f0>
    └ <SpawnProcess name='SpawnProcess-6' parent=7596 started>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x10be27100>, 'target': <bound method Server.run of <uvicorn.server.Server object...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-6' parent=7596 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-6' parent=7596 started>
    │    └ <function subprocess_started at 0x10c400670>
    └ <SpawnProcess name='SpawnProcess-6' parent=7596 started>
  File "/Library/Python/3.8/site-packages/uvicorn/subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=4, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 5000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x10be271f0>>
  File "/Library/Python/3.8/site-packages/uvicorn/server.py", line 50, in run
    loop.run_until_complete(self.serve(sockets=sockets))
    │    │                  │    │             └ [<socket.socket fd=4, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 5000)>]
    │    │                  │    └ <function Server.serve at 0x10c3fcc10>
    │    │                  └ <uvicorn.server.Server object at 0x10be271f0>
    │    └ <function BaseEventLoop.run_until_complete at 0x10c0b9790>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/asyncio/base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x10c0b9700>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/asyncio/base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x10c0bb280>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/asyncio/base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x10bfee160>
    └ <Handle <TaskWakeupMethWrapper object at 0x10d4f5760>(<Future finished result=None>)>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/asyncio/events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x10d4f5760>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x10d4f5760>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x10d4f5760>(<Future finished result=None>)>
> File "/Library/Python/3.8/site-packages/uvicorn/protocols/http/h11_impl.py", line 369, in run_asgi
    result = await app(self.scope, self.receive, self.send)
                   │   │    │      │    │        │    └ <function RequestResponseCycle.send at 0x10c567310>
                   │   │    │      │    │        └ <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10d4f5c70>
                   │   │    │      │    └ <function RequestResponseCycle.receive at 0x10c5673a0>
                   │   │    │      └ <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10d4f5c70>
                   │   │    └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
                   │   └ <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10d4f5c70>
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x10c51f370>
  File "/Library/Python/3.8/site-packages/uvicorn/middleware/proxy_headers.py", line 59, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10d4f5c70>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10d4f5c70>>
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x10c570040>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x10c51f370>
  File "/Library/Python/3.8/site-packages/fastapi/applications.py", line 199, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10d4f5c70>>
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10d4f5c70>>
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
  File "/Library/Python/3.8/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10d4f5c70>>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10d4f5c70>>
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x10d4c1a90>
          └ <fastapi.applications.FastAPI object at 0x10c570040>
  File "/Library/Python/3.8/site-packages/starlette/middleware/errors.py", line 181, in __call__
    raise exc from None
  File "/Library/Python/3.8/site-packages/starlette/middleware/errors.py", line 159, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x10d4f0280>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10d4f5c70>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x10d4c1a30>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x10d4c1a90>
  File "/Library/Python/3.8/site-packages/starlette/middleware/base.py", line 25, in __call__
    response = await self.dispatch_func(request, self.call_next)
                     │    │             │        │    └ <function BaseHTTPMiddleware.call_next at 0x10ca2e940>
                     │    │             │        └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x10d4c1a30>
                     │    │             └ <starlette.requests.Request object at 0x10d4f5cd0>
                     │    └ <function add_process_time_header at 0x10d4bdd30>
                     └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x10d4c1a30>

  File "./app/__init__.py", line 65, in add_process_time_header
    response = await call_next(request)
                     │         └ <starlette.requests.Request object at 0x10d4f5cd0>
                     └ <bound method BaseHTTPMiddleware.call_next of <starlette.middleware.base.BaseHTTPMiddleware object at 0x10d4c1a30>>

  File "/Library/Python/3.8/site-packages/starlette/middleware/base.py", line 45, in call_next
    task.result()
    │    └ <method 'result' of '_asyncio.Task' objects>
    └ <Task finished name='Task-10' coro=<BaseHTTPMiddleware.call_next.<locals>.coro() done, defined at /Library/Python/3.8/site-pa...
  File "/Library/Python/3.8/site-packages/starlette/middleware/base.py", line 38, in coro
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method Queue.put of <Queue at 0x10d4f5250 maxsize=0 tasks=1>>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10d4f5c70>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x10d4c1a00>
          └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x10d4c1a30>
  File "/Library/Python/3.8/site-packages/starlette/middleware/cors.py", line 78, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method Queue.put of <Queue at 0x10d4f5250 maxsize=0 tasks=1>>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10d4f5c70>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x10d4c19a0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x10d4c1a00>
  File "/Library/Python/3.8/site-packages/starlette/exceptions.py", line 82, in __call__
    raise exc from None
  File "/Library/Python/3.8/site-packages/starlette/exceptions.py", line 71, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x10d588040>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10d4f5c70>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x10d262cd0>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x10d4c19a0>
  File "/Library/Python/3.8/site-packages/starlette/routing.py", line 580, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x10d588040>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10d4f5c70>>
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │     └ <function Route.handle at 0x10c9fcaf0>
          └ <fastapi.routing.APIRoute object at 0x10d4b5880>
  File "/Library/Python/3.8/site-packages/starlette/routing.py", line 241, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x10d588040>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10d4f5c70>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <function request_response.<locals>.app at 0x10d4aeca0>
          └ <fastapi.routing.APIRoute object at 0x10d4b5880>
  File "/Library/Python/3.8/site-packages/starlette/routing.py", line 52, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x10d4f5a30>
                     └ <function get_request_handler.<locals>.app at 0x10d4aec10>
  File "/Library/Python/3.8/site-packages/fastapi/routing.py", line 214, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x10c9e7b80>
  File "/Library/Python/3.8/site-packages/fastapi/routing.py", line 149, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'request': <starlette.requests.Request object at 0x10d4f5a30>}
                 │         └ <function action at 0x10d34c670>
                 └ <fastapi.dependencies.models.Dependant object at 0x10d4b5970>

  File "./app/routers/conversation.py", line 10, in action
    return await controller.index(request)
                 │          │     └ <starlette.requests.Request object at 0x10d4f5a30>
                 │          └ <staticmethod object at 0x10d3257c0>
                 └ <class 'app.controllers.Conversation.Conversation'>

  File "./app/controllers/Conversation.py", line 194, in index
    agent = WebhookClient(req)
            │             └ {'responseId': '27d3023f-e199-4ef9-a816-f81c3177f88a-046d94d0', 'queryResult': {'action': 'input.unknown', 'parameters': {}, ...
            └ <class 'dialogflow_fulfillment.webhook_client.WebhookClient'>

  File "/Library/Python/3.8/site-packages/dialogflow_fulfillment/webhook_client.py", line 52, in __init__
    self._process_request(request)
    │    │                └ {'responseId': '27d3023f-e199-4ef9-a816-f81c3177f88a-046d94d0', 'queryResult': {'action': 'input.unknown', 'parameters': {}, ...
    │    └ <function WebhookClient._process_request at 0x10d33c550>
    └ <dialogflow_fulfillment.webhook_client.WebhookClient object at 0x10d4f5df0>
  File "/Library/Python/3.8/site-packages/dialogflow_fulfillment/webhook_client.py", line 69, in _process_request
    self.query = query_result['queryText']
    │            └ {'action': 'input.unknown', 'parameters': {}, 'allRequiredParamsPresent': True, 'fulfillmentText': 'Evita tidak mengerti.', '...
    └ <dialogflow_fulfillment.webhook_client.WebhookClient object at 0x10d4f5df0>

KeyError: 'queryText'
INFO     2021-07-27 22:02:24.997 request id: app - uvicorn.protocols.http.h11_impl:send - 66.249.83.83:0 - "POST /webhook HTTP/1.1" 500
ERROR    2021-07-27 22:02:25.001 request id: app - uvicorn.protocols.http.h11_impl:run_asgi - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 5
               │     └ 8
               └ <function _main at 0x10bdc00d0>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 5
           │    └ <function BaseProcess._bootstrap at 0x10bb93b80>
           └ <SpawnProcess name='SpawnProcess-6' parent=7596 started>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x10bb931f0>
    └ <SpawnProcess name='SpawnProcess-6' parent=7596 started>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x10be27100>, 'target': <bound method Server.run of <uvicorn.server.Server object...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-6' parent=7596 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-6' parent=7596 started>
    │    └ <function subprocess_started at 0x10c400670>
    └ <SpawnProcess name='SpawnProcess-6' parent=7596 started>
  File "/Library/Python/3.8/site-packages/uvicorn/subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=4, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 5000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x10be271f0>>
  File "/Library/Python/3.8/site-packages/uvicorn/server.py", line 50, in run
    loop.run_until_complete(self.serve(sockets=sockets))
    │    │                  │    │             └ [<socket.socket fd=4, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 5000)>]
    │    │                  │    └ <function Server.serve at 0x10c3fcc10>
    │    │                  └ <uvicorn.server.Server object at 0x10be271f0>
    │    └ <function BaseEventLoop.run_until_complete at 0x10c0b9790>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/asyncio/base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x10c0b9700>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/asyncio/base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x10c0bb280>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/asyncio/base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x10bfee160>
    └ <Handle <TaskWakeupMethWrapper object at 0x10d58c310>(<Future finished result=None>)>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/asyncio/events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x10d58c310>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x10d58c310>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x10d58c310>(<Future finished result=None>)>
> File "/Library/Python/3.8/site-packages/uvicorn/protocols/http/h11_impl.py", line 369, in run_asgi
    result = await app(self.scope, self.receive, self.send)
                   │   │    │      │    │        │    └ <function RequestResponseCycle.send at 0x10c567310>
                   │   │    │      │    │        └ <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10d58c820>
                   │   │    │      │    └ <function RequestResponseCycle.receive at 0x10c5673a0>
                   │   │    │      └ <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10d58c820>
                   │   │    └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
                   │   └ <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10d58c820>
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x10c51f370>
  File "/Library/Python/3.8/site-packages/uvicorn/middleware/proxy_headers.py", line 59, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10d58c820>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10d58c820>>
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x10c570040>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x10c51f370>
  File "/Library/Python/3.8/site-packages/fastapi/applications.py", line 199, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10d58c820>>
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10d58c820>>
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
  File "/Library/Python/3.8/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10d58c820>>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10d58c820>>
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x10d4c1a90>
          └ <fastapi.applications.FastAPI object at 0x10c570040>
  File "/Library/Python/3.8/site-packages/starlette/middleware/errors.py", line 181, in __call__
    raise exc from None
  File "/Library/Python/3.8/site-packages/starlette/middleware/errors.py", line 159, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x10d588280>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10d58c820>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x10d4c1a30>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x10d4c1a90>
  File "/Library/Python/3.8/site-packages/starlette/middleware/base.py", line 25, in __call__
    response = await self.dispatch_func(request, self.call_next)
                     │    │             │        │    └ <function BaseHTTPMiddleware.call_next at 0x10ca2e940>
                     │    │             │        └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x10d4c1a30>
                     │    │             └ <starlette.requests.Request object at 0x10d58c880>
                     │    └ <function add_process_time_header at 0x10d4bdd30>
                     └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x10d4c1a30>

  File "./app/__init__.py", line 65, in add_process_time_header
    response = await call_next(request)
                     │         └ <starlette.requests.Request object at 0x10d58c880>
                     └ <bound method BaseHTTPMiddleware.call_next of <starlette.middleware.base.BaseHTTPMiddleware object at 0x10d4c1a30>>

  File "/Library/Python/3.8/site-packages/starlette/middleware/base.py", line 45, in call_next
    task.result()
    │    └ <method 'result' of '_asyncio.Task' objects>
    └ <Task finished name='Task-14' coro=<BaseHTTPMiddleware.call_next.<locals>.coro() done, defined at /Library/Python/3.8/site-pa...
  File "/Library/Python/3.8/site-packages/starlette/middleware/base.py", line 38, in coro
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method Queue.put of <Queue at 0x10d58c250 maxsize=0 tasks=1>>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10d58c820>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x10d4c1a00>
          └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x10d4c1a30>
  File "/Library/Python/3.8/site-packages/starlette/middleware/cors.py", line 78, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method Queue.put of <Queue at 0x10d58c250 maxsize=0 tasks=1>>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10d58c820>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x10d4c19a0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x10d4c1a00>
  File "/Library/Python/3.8/site-packages/starlette/exceptions.py", line 82, in __call__
    raise exc from None
  File "/Library/Python/3.8/site-packages/starlette/exceptions.py", line 71, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x10d588790>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10d58c820>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x10d262cd0>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x10d4c19a0>
  File "/Library/Python/3.8/site-packages/starlette/routing.py", line 580, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x10d588790>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10d58c820>>
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │     └ <function Route.handle at 0x10c9fcaf0>
          └ <fastapi.routing.APIRoute object at 0x10d4b5880>
  File "/Library/Python/3.8/site-packages/starlette/routing.py", line 241, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x10d588790>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10d58c820>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <function request_response.<locals>.app at 0x10d4aeca0>
          └ <fastapi.routing.APIRoute object at 0x10d4b5880>
  File "/Library/Python/3.8/site-packages/starlette/routing.py", line 52, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x10d58c5e0>
                     └ <function get_request_handler.<locals>.app at 0x10d4aec10>
  File "/Library/Python/3.8/site-packages/fastapi/routing.py", line 214, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x10c9e7b80>
  File "/Library/Python/3.8/site-packages/fastapi/routing.py", line 149, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'request': <starlette.requests.Request object at 0x10d58c5e0>}
                 │         └ <function action at 0x10d34c670>
                 └ <fastapi.dependencies.models.Dependant object at 0x10d4b5970>

  File "./app/routers/conversation.py", line 10, in action
    return await controller.index(request)
                 │          │     └ <starlette.requests.Request object at 0x10d58c5e0>
                 │          └ <staticmethod object at 0x10d3257c0>
                 └ <class 'app.controllers.Conversation.Conversation'>

  File "./app/controllers/Conversation.py", line 195, in index
    login = Login(agent)
            │     └ <dialogflow_fulfillment.webhook_client.WebhookClient object at 0x10d58c9a0>
            └ <class 'app.libraries.Login.Login'>

  File "./app/libraries/Login.py", line 20, in __init__
    self.prosesLoging(agent)
    │    │            └ <dialogflow_fulfillment.webhook_client.WebhookClient object at 0x10d58c9a0>
    │    └ <function Login.prosesLoging at 0x10d34c280>
    └ <app.libraries.Login.Login object at 0x10d58ca30>

  File "./app/libraries/Login.py", line 52, in prosesLoging
    userBot.username    = dict(origintTelegram)['username']
    │       │                  └ {'first_name': 'Yayan', 'language_code': 'en', 'last_name': 'Sopian Tsaury', 'id': 1900341814.0}
    │       └ <mongoengine.fields.StringField object at 0x10d31c340>
    └ <Usersbot: Usersbot object>

KeyError: 'username'
ERROR    2021-07-27 22:02:25.033 request id: app - uvicorn.protocols.http.h11_impl:run_asgi - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 5
               │     └ 8
               └ <function _main at 0x10bdc00d0>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 5
           │    └ <function BaseProcess._bootstrap at 0x10bb93b80>
           └ <SpawnProcess name='SpawnProcess-6' parent=7596 started>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x10bb931f0>
    └ <SpawnProcess name='SpawnProcess-6' parent=7596 started>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x10be27100>, 'target': <bound method Server.run of <uvicorn.server.Server object...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-6' parent=7596 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-6' parent=7596 started>
    │    └ <function subprocess_started at 0x10c400670>
    └ <SpawnProcess name='SpawnProcess-6' parent=7596 started>
  File "/Library/Python/3.8/site-packages/uvicorn/subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=4, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 5000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x10be271f0>>
  File "/Library/Python/3.8/site-packages/uvicorn/server.py", line 50, in run
    loop.run_until_complete(self.serve(sockets=sockets))
    │    │                  │    │             └ [<socket.socket fd=4, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 5000)>]
    │    │                  │    └ <function Server.serve at 0x10c3fcc10>
    │    │                  └ <uvicorn.server.Server object at 0x10be271f0>
    │    └ <function BaseEventLoop.run_until_complete at 0x10c0b9790>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/asyncio/base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x10c0b9700>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/asyncio/base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x10c0bb280>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/asyncio/base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x10bfee160>
    └ <Handle <TaskWakeupMethWrapper object at 0x10d58c310>(<Future finished result=None>)>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/asyncio/events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x10d58c310>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x10d58c310>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x10d58c310>(<Future finished result=None>)>
> File "/Library/Python/3.8/site-packages/uvicorn/protocols/http/h11_impl.py", line 369, in run_asgi
    result = await app(self.scope, self.receive, self.send)
                   │   │    │      │    │        │    └ <function RequestResponseCycle.send at 0x10c567310>
                   │   │    │      │    │        └ <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10d58c820>
                   │   │    │      │    └ <function RequestResponseCycle.receive at 0x10c5673a0>
                   │   │    │      └ <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10d58c820>
                   │   │    └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
                   │   └ <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10d58c820>
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x10c51f370>
  File "/Library/Python/3.8/site-packages/uvicorn/middleware/proxy_headers.py", line 59, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10d58c820>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10d58c820>>
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x10c570040>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x10c51f370>
  File "/Library/Python/3.8/site-packages/fastapi/applications.py", line 199, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10d58c820>>
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10d58c820>>
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
  File "/Library/Python/3.8/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10d58c820>>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10d58c820>>
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x10d4c1a90>
          └ <fastapi.applications.FastAPI object at 0x10c570040>
  File "/Library/Python/3.8/site-packages/starlette/middleware/errors.py", line 181, in __call__
    raise exc from None
  File "/Library/Python/3.8/site-packages/starlette/middleware/errors.py", line 159, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x10d588280>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10d58c820>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x10d4c1a30>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x10d4c1a90>
  File "/Library/Python/3.8/site-packages/starlette/middleware/base.py", line 25, in __call__
    response = await self.dispatch_func(request, self.call_next)
                     │    │             │        │    └ <function BaseHTTPMiddleware.call_next at 0x10ca2e940>
                     │    │             │        └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x10d4c1a30>
                     │    │             └ <starlette.requests.Request object at 0x10d58c880>
                     │    └ <function add_process_time_header at 0x10d4bdd30>
                     └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x10d4c1a30>

  File "./app/__init__.py", line 65, in add_process_time_header
    response = await call_next(request)
                     │         └ <starlette.requests.Request object at 0x10d58c880>
                     └ <bound method BaseHTTPMiddleware.call_next of <starlette.middleware.base.BaseHTTPMiddleware object at 0x10d4c1a30>>

  File "/Library/Python/3.8/site-packages/starlette/middleware/base.py", line 45, in call_next
    task.result()
    │    └ <method 'result' of '_asyncio.Task' objects>
    └ <Task finished name='Task-14' coro=<BaseHTTPMiddleware.call_next.<locals>.coro() done, defined at /Library/Python/3.8/site-pa...
  File "/Library/Python/3.8/site-packages/starlette/middleware/base.py", line 38, in coro
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method Queue.put of <Queue at 0x10d58c250 maxsize=0 tasks=1>>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10d58c820>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x10d4c1a00>
          └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x10d4c1a30>
  File "/Library/Python/3.8/site-packages/starlette/middleware/cors.py", line 78, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method Queue.put of <Queue at 0x10d58c250 maxsize=0 tasks=1>>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10d58c820>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x10d4c19a0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x10d4c1a00>
  File "/Library/Python/3.8/site-packages/starlette/exceptions.py", line 82, in __call__
    raise exc from None
  File "/Library/Python/3.8/site-packages/starlette/exceptions.py", line 71, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x10d588790>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10d58c820>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x10d262cd0>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x10d4c19a0>
  File "/Library/Python/3.8/site-packages/starlette/routing.py", line 580, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x10d588790>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10d58c820>>
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │     └ <function Route.handle at 0x10c9fcaf0>
          └ <fastapi.routing.APIRoute object at 0x10d4b5880>
  File "/Library/Python/3.8/site-packages/starlette/routing.py", line 241, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x10d588790>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10d58c820>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <function request_response.<locals>.app at 0x10d4aeca0>
          └ <fastapi.routing.APIRoute object at 0x10d4b5880>
  File "/Library/Python/3.8/site-packages/starlette/routing.py", line 52, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x10d58c5e0>
                     └ <function get_request_handler.<locals>.app at 0x10d4aec10>
  File "/Library/Python/3.8/site-packages/fastapi/routing.py", line 214, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x10c9e7b80>
  File "/Library/Python/3.8/site-packages/fastapi/routing.py", line 149, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'request': <starlette.requests.Request object at 0x10d58c5e0>}
                 │         └ <function action at 0x10d34c670>
                 └ <fastapi.dependencies.models.Dependant object at 0x10d4b5970>

  File "./app/routers/conversation.py", line 10, in action
    return await controller.index(request)
                 │          │     └ <starlette.requests.Request object at 0x10d58c5e0>
                 │          └ <staticmethod object at 0x10d3257c0>
                 └ <class 'app.controllers.Conversation.Conversation'>

  File "./app/controllers/Conversation.py", line 195, in index
    login = Login(agent)
            │     └ <dialogflow_fulfillment.webhook_client.WebhookClient object at 0x10d58c9a0>
            └ <class 'app.libraries.Login.Login'>

  File "./app/libraries/Login.py", line 20, in __init__
    self.prosesLoging(agent)
    │    │            └ <dialogflow_fulfillment.webhook_client.WebhookClient object at 0x10d58c9a0>
    │    └ <function Login.prosesLoging at 0x10d34c280>
    └ <app.libraries.Login.Login object at 0x10d58ca30>

  File "./app/libraries/Login.py", line 52, in prosesLoging
    userBot.username    = dict(origintTelegram)['username']
    │       │                  └ {'first_name': 'Yayan', 'language_code': 'en', 'last_name': 'Sopian Tsaury', 'id': 1900341814.0}
    │       └ <mongoengine.fields.StringField object at 0x10d31c340>
    └ <Usersbot: Usersbot object>

KeyError: 'username'
ERROR    2021-07-27 22:02:25.050 request id: app - uvicorn.protocols.http.h11_impl:run_asgi - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 5
               │     └ 8
               └ <function _main at 0x10bdc00d0>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 5
           │    └ <function BaseProcess._bootstrap at 0x10bb93b80>
           └ <SpawnProcess name='SpawnProcess-6' parent=7596 started>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x10bb931f0>
    └ <SpawnProcess name='SpawnProcess-6' parent=7596 started>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x10be27100>, 'target': <bound method Server.run of <uvicorn.server.Server object...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-6' parent=7596 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-6' parent=7596 started>
    │    └ <function subprocess_started at 0x10c400670>
    └ <SpawnProcess name='SpawnProcess-6' parent=7596 started>
  File "/Library/Python/3.8/site-packages/uvicorn/subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=4, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 5000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x10be271f0>>
  File "/Library/Python/3.8/site-packages/uvicorn/server.py", line 50, in run
    loop.run_until_complete(self.serve(sockets=sockets))
    │    │                  │    │             └ [<socket.socket fd=4, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 5000)>]
    │    │                  │    └ <function Server.serve at 0x10c3fcc10>
    │    │                  └ <uvicorn.server.Server object at 0x10be271f0>
    │    └ <function BaseEventLoop.run_until_complete at 0x10c0b9790>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/asyncio/base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x10c0b9700>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/asyncio/base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x10c0bb280>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/asyncio/base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x10bfee160>
    └ <Handle <TaskWakeupMethWrapper object at 0x10d58c310>(<Future finished result=None>)>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/asyncio/events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x10d58c310>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x10d58c310>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x10d58c310>(<Future finished result=None>)>
> File "/Library/Python/3.8/site-packages/uvicorn/protocols/http/h11_impl.py", line 369, in run_asgi
    result = await app(self.scope, self.receive, self.send)
                   │   │    │      │    │        │    └ <function RequestResponseCycle.send at 0x10c567310>
                   │   │    │      │    │        └ <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10d58c820>
                   │   │    │      │    └ <function RequestResponseCycle.receive at 0x10c5673a0>
                   │   │    │      └ <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10d58c820>
                   │   │    └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
                   │   └ <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10d58c820>
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x10c51f370>
  File "/Library/Python/3.8/site-packages/uvicorn/middleware/proxy_headers.py", line 59, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10d58c820>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10d58c820>>
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x10c570040>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x10c51f370>
  File "/Library/Python/3.8/site-packages/fastapi/applications.py", line 199, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10d58c820>>
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10d58c820>>
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
  File "/Library/Python/3.8/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10d58c820>>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10d58c820>>
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x10d4c1a90>
          └ <fastapi.applications.FastAPI object at 0x10c570040>
  File "/Library/Python/3.8/site-packages/starlette/middleware/errors.py", line 181, in __call__
    raise exc from None
  File "/Library/Python/3.8/site-packages/starlette/middleware/errors.py", line 159, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x10d588280>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10d58c820>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x10d4c1a30>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x10d4c1a90>
  File "/Library/Python/3.8/site-packages/starlette/middleware/base.py", line 25, in __call__
    response = await self.dispatch_func(request, self.call_next)
                     │    │             │        │    └ <function BaseHTTPMiddleware.call_next at 0x10ca2e940>
                     │    │             │        └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x10d4c1a30>
                     │    │             └ <starlette.requests.Request object at 0x10d58c880>
                     │    └ <function add_process_time_header at 0x10d4bdd30>
                     └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x10d4c1a30>

  File "./app/__init__.py", line 65, in add_process_time_header
    response = await call_next(request)
                     │         └ <starlette.requests.Request object at 0x10d58c880>
                     └ <bound method BaseHTTPMiddleware.call_next of <starlette.middleware.base.BaseHTTPMiddleware object at 0x10d4c1a30>>

  File "/Library/Python/3.8/site-packages/starlette/middleware/base.py", line 45, in call_next
    task.result()
    │    └ <method 'result' of '_asyncio.Task' objects>
    └ <Task finished name='Task-14' coro=<BaseHTTPMiddleware.call_next.<locals>.coro() done, defined at /Library/Python/3.8/site-pa...
  File "/Library/Python/3.8/site-packages/starlette/middleware/base.py", line 38, in coro
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method Queue.put of <Queue at 0x10d58c250 maxsize=0 tasks=1>>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10d58c820>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x10d4c1a00>
          └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x10d4c1a30>
  File "/Library/Python/3.8/site-packages/starlette/middleware/cors.py", line 78, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method Queue.put of <Queue at 0x10d58c250 maxsize=0 tasks=1>>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10d58c820>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x10d4c19a0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x10d4c1a00>
  File "/Library/Python/3.8/site-packages/starlette/exceptions.py", line 82, in __call__
    raise exc from None
  File "/Library/Python/3.8/site-packages/starlette/exceptions.py", line 71, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x10d588790>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10d58c820>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x10d262cd0>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x10d4c19a0>
  File "/Library/Python/3.8/site-packages/starlette/routing.py", line 580, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x10d588790>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10d58c820>>
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │     └ <function Route.handle at 0x10c9fcaf0>
          └ <fastapi.routing.APIRoute object at 0x10d4b5880>
  File "/Library/Python/3.8/site-packages/starlette/routing.py", line 241, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x10d588790>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10d58c820>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <function request_response.<locals>.app at 0x10d4aeca0>
          └ <fastapi.routing.APIRoute object at 0x10d4b5880>
  File "/Library/Python/3.8/site-packages/starlette/routing.py", line 52, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x10d58c5e0>
                     └ <function get_request_handler.<locals>.app at 0x10d4aec10>
  File "/Library/Python/3.8/site-packages/fastapi/routing.py", line 214, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x10c9e7b80>
  File "/Library/Python/3.8/site-packages/fastapi/routing.py", line 149, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'request': <starlette.requests.Request object at 0x10d58c5e0>}
                 │         └ <function action at 0x10d34c670>
                 └ <fastapi.dependencies.models.Dependant object at 0x10d4b5970>

  File "./app/routers/conversation.py", line 10, in action
    return await controller.index(request)
                 │          │     └ <starlette.requests.Request object at 0x10d58c5e0>
                 │          └ <staticmethod object at 0x10d3257c0>
                 └ <class 'app.controllers.Conversation.Conversation'>

  File "./app/controllers/Conversation.py", line 195, in index
    login = Login(agent)
            │     └ <dialogflow_fulfillment.webhook_client.WebhookClient object at 0x10d58c9a0>
            └ <class 'app.libraries.Login.Login'>

  File "./app/libraries/Login.py", line 20, in __init__
    self.prosesLoging(agent)
    │    │            └ <dialogflow_fulfillment.webhook_client.WebhookClient object at 0x10d58c9a0>
    │    └ <function Login.prosesLoging at 0x10d34c280>
    └ <app.libraries.Login.Login object at 0x10d58ca30>

  File "./app/libraries/Login.py", line 52, in prosesLoging
    userBot.username    = dict(origintTelegram)['username']
    │       │                  └ {'first_name': 'Yayan', 'language_code': 'en', 'last_name': 'Sopian Tsaury', 'id': 1900341814.0}
    │       └ <mongoengine.fields.StringField object at 0x10d31c340>
    └ <Usersbot: Usersbot object>

KeyError: 'username'
INFO     2021-07-27 22:02:36.738 request id: app - uvicorn.protocols.http.h11_impl:send - 66.249.83.84:0 - "POST /webhook HTTP/1.1" 500
ERROR    2021-07-27 22:02:36.741 request id: app - uvicorn.protocols.http.h11_impl:run_asgi - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 5
               │     └ 8
               └ <function _main at 0x10bdc00d0>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 5
           │    └ <function BaseProcess._bootstrap at 0x10bb93b80>
           └ <SpawnProcess name='SpawnProcess-6' parent=7596 started>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x10bb931f0>
    └ <SpawnProcess name='SpawnProcess-6' parent=7596 started>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x10be27100>, 'target': <bound method Server.run of <uvicorn.server.Server object...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-6' parent=7596 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-6' parent=7596 started>
    │    └ <function subprocess_started at 0x10c400670>
    └ <SpawnProcess name='SpawnProcess-6' parent=7596 started>
  File "/Library/Python/3.8/site-packages/uvicorn/subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=4, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 5000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x10be271f0>>
  File "/Library/Python/3.8/site-packages/uvicorn/server.py", line 50, in run
    loop.run_until_complete(self.serve(sockets=sockets))
    │    │                  │    │             └ [<socket.socket fd=4, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 5000)>]
    │    │                  │    └ <function Server.serve at 0x10c3fcc10>
    │    │                  └ <uvicorn.server.Server object at 0x10be271f0>
    │    └ <function BaseEventLoop.run_until_complete at 0x10c0b9790>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/asyncio/base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x10c0b9700>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/asyncio/base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x10c0bb280>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/asyncio/base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x10bfee160>
    └ <Handle <TaskWakeupMethWrapper object at 0x10d5a6340>(<Future finished result=None>)>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/asyncio/events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x10d5a6340>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x10d5a6340>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x10d5a6340>(<Future finished result=None>)>
> File "/Library/Python/3.8/site-packages/uvicorn/protocols/http/h11_impl.py", line 369, in run_asgi
    result = await app(self.scope, self.receive, self.send)
                   │   │    │      │    │        │    └ <function RequestResponseCycle.send at 0x10c567310>
                   │   │    │      │    │        └ <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10d5a6850>
                   │   │    │      │    └ <function RequestResponseCycle.receive at 0x10c5673a0>
                   │   │    │      └ <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10d5a6850>
                   │   │    └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
                   │   └ <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10d5a6850>
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x10c51f370>
  File "/Library/Python/3.8/site-packages/uvicorn/middleware/proxy_headers.py", line 59, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10d5a6850>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10d5a6850>>
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x10c570040>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x10c51f370>
  File "/Library/Python/3.8/site-packages/fastapi/applications.py", line 199, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10d5a6850>>
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10d5a6850>>
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
  File "/Library/Python/3.8/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10d5a6850>>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10d5a6850>>
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x10d4c1a90>
          └ <fastapi.applications.FastAPI object at 0x10c570040>
  File "/Library/Python/3.8/site-packages/starlette/middleware/errors.py", line 181, in __call__
    raise exc from None
  File "/Library/Python/3.8/site-packages/starlette/middleware/errors.py", line 159, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x10d588700>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10d5a6850>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x10d4c1a30>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x10d4c1a90>
  File "/Library/Python/3.8/site-packages/starlette/middleware/base.py", line 25, in __call__
    response = await self.dispatch_func(request, self.call_next)
                     │    │             │        │    └ <function BaseHTTPMiddleware.call_next at 0x10ca2e940>
                     │    │             │        └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x10d4c1a30>
                     │    │             └ <starlette.requests.Request object at 0x10d5a68b0>
                     │    └ <function add_process_time_header at 0x10d4bdd30>
                     └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x10d4c1a30>

  File "./app/__init__.py", line 65, in add_process_time_header
    response = await call_next(request)
                     │         └ <starlette.requests.Request object at 0x10d5a68b0>
                     └ <bound method BaseHTTPMiddleware.call_next of <starlette.middleware.base.BaseHTTPMiddleware object at 0x10d4c1a30>>

  File "/Library/Python/3.8/site-packages/starlette/middleware/base.py", line 45, in call_next
    task.result()
    │    └ <method 'result' of '_asyncio.Task' objects>
    └ <Task finished name='Task-18' coro=<BaseHTTPMiddleware.call_next.<locals>.coro() done, defined at /Library/Python/3.8/site-pa...
  File "/Library/Python/3.8/site-packages/starlette/middleware/base.py", line 38, in coro
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method Queue.put of <Queue at 0x10d5a6100 maxsize=0 tasks=1>>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10d5a6850>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x10d4c1a00>
          └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x10d4c1a30>
  File "/Library/Python/3.8/site-packages/starlette/middleware/cors.py", line 78, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method Queue.put of <Queue at 0x10d5a6100 maxsize=0 tasks=1>>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10d5a6850>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x10d4c19a0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x10d4c1a00>
  File "/Library/Python/3.8/site-packages/starlette/exceptions.py", line 82, in __call__
    raise exc from None
  File "/Library/Python/3.8/site-packages/starlette/exceptions.py", line 71, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x10d588a60>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10d5a6850>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x10d262cd0>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x10d4c19a0>
  File "/Library/Python/3.8/site-packages/starlette/routing.py", line 580, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x10d588a60>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10d5a6850>>
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │     └ <function Route.handle at 0x10c9fcaf0>
          └ <fastapi.routing.APIRoute object at 0x10d4b5880>
  File "/Library/Python/3.8/site-packages/starlette/routing.py", line 241, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x10d588a60>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10d5a6850>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <function request_response.<locals>.app at 0x10d4aeca0>
          └ <fastapi.routing.APIRoute object at 0x10d4b5880>
  File "/Library/Python/3.8/site-packages/starlette/routing.py", line 52, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x10d5a6610>
                     └ <function get_request_handler.<locals>.app at 0x10d4aec10>
  File "/Library/Python/3.8/site-packages/fastapi/routing.py", line 214, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x10c9e7b80>
  File "/Library/Python/3.8/site-packages/fastapi/routing.py", line 149, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'request': <starlette.requests.Request object at 0x10d5a6610>}
                 │         └ <function action at 0x10d34c670>
                 └ <fastapi.dependencies.models.Dependant object at 0x10d4b5970>

  File "./app/routers/conversation.py", line 10, in action
    return await controller.index(request)
                 │          │     └ <starlette.requests.Request object at 0x10d5a6610>
                 │          └ <staticmethod object at 0x10d3257c0>
                 └ <class 'app.controllers.Conversation.Conversation'>

  File "./app/controllers/Conversation.py", line 195, in index
    login = Login(agent)
            │     └ <dialogflow_fulfillment.webhook_client.WebhookClient object at 0x10d58c820>
            └ <class 'app.libraries.Login.Login'>

  File "./app/libraries/Login.py", line 20, in __init__
    self.prosesLoging(agent)
    │    │            └ <dialogflow_fulfillment.webhook_client.WebhookClient object at 0x10d58c820>
    │    └ <function Login.prosesLoging at 0x10d34c280>
    └ <app.libraries.Login.Login object at 0x10d58c7c0>

  File "./app/libraries/Login.py", line 52, in prosesLoging
    userBot.username    = dict(origintTelegram)['username']
    │       │                  └ {'id': 1900341814.0, 'language_code': 'en', 'first_name': 'Yayan', 'last_name': 'Sopian Tsaury'}
    │       └ <mongoengine.fields.StringField object at 0x10d31c340>
    └ <Usersbot: Usersbot object>

KeyError: 'username'
ERROR    2021-07-27 22:02:36.774 request id: app - uvicorn.protocols.http.h11_impl:run_asgi - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 5
               │     └ 8
               └ <function _main at 0x10bdc00d0>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 5
           │    └ <function BaseProcess._bootstrap at 0x10bb93b80>
           └ <SpawnProcess name='SpawnProcess-6' parent=7596 started>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x10bb931f0>
    └ <SpawnProcess name='SpawnProcess-6' parent=7596 started>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x10be27100>, 'target': <bound method Server.run of <uvicorn.server.Server object...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-6' parent=7596 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-6' parent=7596 started>
    │    └ <function subprocess_started at 0x10c400670>
    └ <SpawnProcess name='SpawnProcess-6' parent=7596 started>
  File "/Library/Python/3.8/site-packages/uvicorn/subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=4, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 5000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x10be271f0>>
  File "/Library/Python/3.8/site-packages/uvicorn/server.py", line 50, in run
    loop.run_until_complete(self.serve(sockets=sockets))
    │    │                  │    │             └ [<socket.socket fd=4, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 5000)>]
    │    │                  │    └ <function Server.serve at 0x10c3fcc10>
    │    │                  └ <uvicorn.server.Server object at 0x10be271f0>
    │    └ <function BaseEventLoop.run_until_complete at 0x10c0b9790>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/asyncio/base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x10c0b9700>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/asyncio/base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x10c0bb280>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/asyncio/base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x10bfee160>
    └ <Handle <TaskWakeupMethWrapper object at 0x10d5a6340>(<Future finished result=None>)>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/asyncio/events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x10d5a6340>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x10d5a6340>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x10d5a6340>(<Future finished result=None>)>
> File "/Library/Python/3.8/site-packages/uvicorn/protocols/http/h11_impl.py", line 369, in run_asgi
    result = await app(self.scope, self.receive, self.send)
                   │   │    │      │    │        │    └ <function RequestResponseCycle.send at 0x10c567310>
                   │   │    │      │    │        └ <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10d5a6850>
                   │   │    │      │    └ <function RequestResponseCycle.receive at 0x10c5673a0>
                   │   │    │      └ <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10d5a6850>
                   │   │    └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
                   │   └ <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10d5a6850>
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x10c51f370>
  File "/Library/Python/3.8/site-packages/uvicorn/middleware/proxy_headers.py", line 59, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10d5a6850>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10d5a6850>>
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x10c570040>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x10c51f370>
  File "/Library/Python/3.8/site-packages/fastapi/applications.py", line 199, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10d5a6850>>
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10d5a6850>>
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
  File "/Library/Python/3.8/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10d5a6850>>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10d5a6850>>
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x10d4c1a90>
          └ <fastapi.applications.FastAPI object at 0x10c570040>
  File "/Library/Python/3.8/site-packages/starlette/middleware/errors.py", line 181, in __call__
    raise exc from None
  File "/Library/Python/3.8/site-packages/starlette/middleware/errors.py", line 159, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x10d588700>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10d5a6850>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x10d4c1a30>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x10d4c1a90>
  File "/Library/Python/3.8/site-packages/starlette/middleware/base.py", line 25, in __call__
    response = await self.dispatch_func(request, self.call_next)
                     │    │             │        │    └ <function BaseHTTPMiddleware.call_next at 0x10ca2e940>
                     │    │             │        └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x10d4c1a30>
                     │    │             └ <starlette.requests.Request object at 0x10d5a68b0>
                     │    └ <function add_process_time_header at 0x10d4bdd30>
                     └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x10d4c1a30>

  File "./app/__init__.py", line 65, in add_process_time_header
    response = await call_next(request)
                     │         └ <starlette.requests.Request object at 0x10d5a68b0>
                     └ <bound method BaseHTTPMiddleware.call_next of <starlette.middleware.base.BaseHTTPMiddleware object at 0x10d4c1a30>>

  File "/Library/Python/3.8/site-packages/starlette/middleware/base.py", line 45, in call_next
    task.result()
    │    └ <method 'result' of '_asyncio.Task' objects>
    └ <Task finished name='Task-18' coro=<BaseHTTPMiddleware.call_next.<locals>.coro() done, defined at /Library/Python/3.8/site-pa...
  File "/Library/Python/3.8/site-packages/starlette/middleware/base.py", line 38, in coro
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method Queue.put of <Queue at 0x10d5a6100 maxsize=0 tasks=1>>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10d5a6850>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x10d4c1a00>
          └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x10d4c1a30>
  File "/Library/Python/3.8/site-packages/starlette/middleware/cors.py", line 78, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method Queue.put of <Queue at 0x10d5a6100 maxsize=0 tasks=1>>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10d5a6850>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x10d4c19a0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x10d4c1a00>
  File "/Library/Python/3.8/site-packages/starlette/exceptions.py", line 82, in __call__
    raise exc from None
  File "/Library/Python/3.8/site-packages/starlette/exceptions.py", line 71, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x10d588a60>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10d5a6850>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x10d262cd0>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x10d4c19a0>
  File "/Library/Python/3.8/site-packages/starlette/routing.py", line 580, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x10d588a60>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10d5a6850>>
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │     └ <function Route.handle at 0x10c9fcaf0>
          └ <fastapi.routing.APIRoute object at 0x10d4b5880>
  File "/Library/Python/3.8/site-packages/starlette/routing.py", line 241, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x10d588a60>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10d5a6850>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <function request_response.<locals>.app at 0x10d4aeca0>
          └ <fastapi.routing.APIRoute object at 0x10d4b5880>
  File "/Library/Python/3.8/site-packages/starlette/routing.py", line 52, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x10d5a6610>
                     └ <function get_request_handler.<locals>.app at 0x10d4aec10>
  File "/Library/Python/3.8/site-packages/fastapi/routing.py", line 214, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x10c9e7b80>
  File "/Library/Python/3.8/site-packages/fastapi/routing.py", line 149, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'request': <starlette.requests.Request object at 0x10d5a6610>}
                 │         └ <function action at 0x10d34c670>
                 └ <fastapi.dependencies.models.Dependant object at 0x10d4b5970>

  File "./app/routers/conversation.py", line 10, in action
    return await controller.index(request)
                 │          │     └ <starlette.requests.Request object at 0x10d5a6610>
                 │          └ <staticmethod object at 0x10d3257c0>
                 └ <class 'app.controllers.Conversation.Conversation'>

  File "./app/controllers/Conversation.py", line 195, in index
    login = Login(agent)
            │     └ <dialogflow_fulfillment.webhook_client.WebhookClient object at 0x10d58c820>
            └ <class 'app.libraries.Login.Login'>

  File "./app/libraries/Login.py", line 20, in __init__
    self.prosesLoging(agent)
    │    │            └ <dialogflow_fulfillment.webhook_client.WebhookClient object at 0x10d58c820>
    │    └ <function Login.prosesLoging at 0x10d34c280>
    └ <app.libraries.Login.Login object at 0x10d58c7c0>

  File "./app/libraries/Login.py", line 52, in prosesLoging
    userBot.username    = dict(origintTelegram)['username']
    │       │                  └ {'id': 1900341814.0, 'language_code': 'en', 'first_name': 'Yayan', 'last_name': 'Sopian Tsaury'}
    │       └ <mongoengine.fields.StringField object at 0x10d31c340>
    └ <Usersbot: Usersbot object>

KeyError: 'username'
ERROR    2021-07-27 22:02:36.796 request id: app - uvicorn.protocols.http.h11_impl:run_asgi - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 5
               │     └ 8
               └ <function _main at 0x10bdc00d0>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 5
           │    └ <function BaseProcess._bootstrap at 0x10bb93b80>
           └ <SpawnProcess name='SpawnProcess-6' parent=7596 started>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x10bb931f0>
    └ <SpawnProcess name='SpawnProcess-6' parent=7596 started>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x10be27100>, 'target': <bound method Server.run of <uvicorn.server.Server object...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-6' parent=7596 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-6' parent=7596 started>
    │    └ <function subprocess_started at 0x10c400670>
    └ <SpawnProcess name='SpawnProcess-6' parent=7596 started>
  File "/Library/Python/3.8/site-packages/uvicorn/subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=4, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 5000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x10be271f0>>
  File "/Library/Python/3.8/site-packages/uvicorn/server.py", line 50, in run
    loop.run_until_complete(self.serve(sockets=sockets))
    │    │                  │    │             └ [<socket.socket fd=4, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 5000)>]
    │    │                  │    └ <function Server.serve at 0x10c3fcc10>
    │    │                  └ <uvicorn.server.Server object at 0x10be271f0>
    │    └ <function BaseEventLoop.run_until_complete at 0x10c0b9790>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/asyncio/base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x10c0b9700>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/asyncio/base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x10c0bb280>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/asyncio/base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x10bfee160>
    └ <Handle <TaskWakeupMethWrapper object at 0x10d5a6340>(<Future finished result=None>)>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/asyncio/events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x10d5a6340>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x10d5a6340>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x10d5a6340>(<Future finished result=None>)>
> File "/Library/Python/3.8/site-packages/uvicorn/protocols/http/h11_impl.py", line 369, in run_asgi
    result = await app(self.scope, self.receive, self.send)
                   │   │    │      │    │        │    └ <function RequestResponseCycle.send at 0x10c567310>
                   │   │    │      │    │        └ <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10d5a6850>
                   │   │    │      │    └ <function RequestResponseCycle.receive at 0x10c5673a0>
                   │   │    │      └ <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10d5a6850>
                   │   │    └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
                   │   └ <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10d5a6850>
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x10c51f370>
  File "/Library/Python/3.8/site-packages/uvicorn/middleware/proxy_headers.py", line 59, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10d5a6850>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10d5a6850>>
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x10c570040>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x10c51f370>
  File "/Library/Python/3.8/site-packages/fastapi/applications.py", line 199, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10d5a6850>>
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10d5a6850>>
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
  File "/Library/Python/3.8/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10d5a6850>>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10d5a6850>>
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x10d4c1a90>
          └ <fastapi.applications.FastAPI object at 0x10c570040>
  File "/Library/Python/3.8/site-packages/starlette/middleware/errors.py", line 181, in __call__
    raise exc from None
  File "/Library/Python/3.8/site-packages/starlette/middleware/errors.py", line 159, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x10d588700>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10d5a6850>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x10d4c1a30>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x10d4c1a90>
  File "/Library/Python/3.8/site-packages/starlette/middleware/base.py", line 25, in __call__
    response = await self.dispatch_func(request, self.call_next)
                     │    │             │        │    └ <function BaseHTTPMiddleware.call_next at 0x10ca2e940>
                     │    │             │        └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x10d4c1a30>
                     │    │             └ <starlette.requests.Request object at 0x10d5a68b0>
                     │    └ <function add_process_time_header at 0x10d4bdd30>
                     └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x10d4c1a30>

  File "./app/__init__.py", line 65, in add_process_time_header
    response = await call_next(request)
                     │         └ <starlette.requests.Request object at 0x10d5a68b0>
                     └ <bound method BaseHTTPMiddleware.call_next of <starlette.middleware.base.BaseHTTPMiddleware object at 0x10d4c1a30>>

  File "/Library/Python/3.8/site-packages/starlette/middleware/base.py", line 45, in call_next
    task.result()
    │    └ <method 'result' of '_asyncio.Task' objects>
    └ <Task finished name='Task-18' coro=<BaseHTTPMiddleware.call_next.<locals>.coro() done, defined at /Library/Python/3.8/site-pa...
  File "/Library/Python/3.8/site-packages/starlette/middleware/base.py", line 38, in coro
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method Queue.put of <Queue at 0x10d5a6100 maxsize=0 tasks=1>>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10d5a6850>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x10d4c1a00>
          └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x10d4c1a30>
  File "/Library/Python/3.8/site-packages/starlette/middleware/cors.py", line 78, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method Queue.put of <Queue at 0x10d5a6100 maxsize=0 tasks=1>>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10d5a6850>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x10d4c19a0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x10d4c1a00>
  File "/Library/Python/3.8/site-packages/starlette/exceptions.py", line 82, in __call__
    raise exc from None
  File "/Library/Python/3.8/site-packages/starlette/exceptions.py", line 71, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x10d588a60>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10d5a6850>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x10d262cd0>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x10d4c19a0>
  File "/Library/Python/3.8/site-packages/starlette/routing.py", line 580, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x10d588a60>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10d5a6850>>
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │     └ <function Route.handle at 0x10c9fcaf0>
          └ <fastapi.routing.APIRoute object at 0x10d4b5880>
  File "/Library/Python/3.8/site-packages/starlette/routing.py", line 241, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x10d588a60>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10d5a6850>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <function request_response.<locals>.app at 0x10d4aeca0>
          └ <fastapi.routing.APIRoute object at 0x10d4b5880>
  File "/Library/Python/3.8/site-packages/starlette/routing.py", line 52, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x10d5a6610>
                     └ <function get_request_handler.<locals>.app at 0x10d4aec10>
  File "/Library/Python/3.8/site-packages/fastapi/routing.py", line 214, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x10c9e7b80>
  File "/Library/Python/3.8/site-packages/fastapi/routing.py", line 149, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'request': <starlette.requests.Request object at 0x10d5a6610>}
                 │         └ <function action at 0x10d34c670>
                 └ <fastapi.dependencies.models.Dependant object at 0x10d4b5970>

  File "./app/routers/conversation.py", line 10, in action
    return await controller.index(request)
                 │          │     └ <starlette.requests.Request object at 0x10d5a6610>
                 │          └ <staticmethod object at 0x10d3257c0>
                 └ <class 'app.controllers.Conversation.Conversation'>

  File "./app/controllers/Conversation.py", line 195, in index
    login = Login(agent)
            │     └ <dialogflow_fulfillment.webhook_client.WebhookClient object at 0x10d58c820>
            └ <class 'app.libraries.Login.Login'>

  File "./app/libraries/Login.py", line 20, in __init__
    self.prosesLoging(agent)
    │    │            └ <dialogflow_fulfillment.webhook_client.WebhookClient object at 0x10d58c820>
    │    └ <function Login.prosesLoging at 0x10d34c280>
    └ <app.libraries.Login.Login object at 0x10d58c7c0>

  File "./app/libraries/Login.py", line 52, in prosesLoging
    userBot.username    = dict(origintTelegram)['username']
    │       │                  └ {'id': 1900341814.0, 'language_code': 'en', 'first_name': 'Yayan', 'last_name': 'Sopian Tsaury'}
    │       └ <mongoengine.fields.StringField object at 0x10d31c340>
    └ <Usersbot: Usersbot object>

KeyError: 'username'
INFO     2021-07-27 22:03:39.976 request id: app - uvicorn.protocols.http.h11_impl:send - 66.249.83.70:0 - "POST /webhook HTTP/1.1" 500
ERROR    2021-07-27 22:03:39.979 request id: app - uvicorn.protocols.http.h11_impl:run_asgi - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 5
               │     └ 8
               └ <function _main at 0x10bdc00d0>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 5
           │    └ <function BaseProcess._bootstrap at 0x10bb93b80>
           └ <SpawnProcess name='SpawnProcess-6' parent=7596 started>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x10bb931f0>
    └ <SpawnProcess name='SpawnProcess-6' parent=7596 started>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x10be27100>, 'target': <bound method Server.run of <uvicorn.server.Server object...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-6' parent=7596 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-6' parent=7596 started>
    │    └ <function subprocess_started at 0x10c400670>
    └ <SpawnProcess name='SpawnProcess-6' parent=7596 started>
  File "/Library/Python/3.8/site-packages/uvicorn/subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=4, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 5000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x10be271f0>>
  File "/Library/Python/3.8/site-packages/uvicorn/server.py", line 50, in run
    loop.run_until_complete(self.serve(sockets=sockets))
    │    │                  │    │             └ [<socket.socket fd=4, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 5000)>]
    │    │                  │    └ <function Server.serve at 0x10c3fcc10>
    │    │                  └ <uvicorn.server.Server object at 0x10be271f0>
    │    └ <function BaseEventLoop.run_until_complete at 0x10c0b9790>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/asyncio/base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x10c0b9700>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/asyncio/base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x10c0bb280>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/asyncio/base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x10bfee160>
    └ <Handle <TaskWakeupMethWrapper object at 0x10d4f5ca0>(<Future finished result=None>)>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/asyncio/events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x10d4f5ca0>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x10d4f5ca0>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x10d4f5ca0>(<Future finished result=None>)>
> File "/Library/Python/3.8/site-packages/uvicorn/protocols/http/h11_impl.py", line 369, in run_asgi
    result = await app(self.scope, self.receive, self.send)
                   │   │    │      │    │        │    └ <function RequestResponseCycle.send at 0x10c567310>
                   │   │    │      │    │        └ <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10d4f5be0>
                   │   │    │      │    └ <function RequestResponseCycle.receive at 0x10c5673a0>
                   │   │    │      └ <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10d4f5be0>
                   │   │    └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
                   │   └ <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10d4f5be0>
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x10c51f370>
  File "/Library/Python/3.8/site-packages/uvicorn/middleware/proxy_headers.py", line 59, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10d4f5be0>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10d4f5be0>>
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x10c570040>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x10c51f370>
  File "/Library/Python/3.8/site-packages/fastapi/applications.py", line 199, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10d4f5be0>>
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10d4f5be0>>
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
  File "/Library/Python/3.8/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10d4f5be0>>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10d4f5be0>>
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x10d4c1a90>
          └ <fastapi.applications.FastAPI object at 0x10c570040>
  File "/Library/Python/3.8/site-packages/starlette/middleware/errors.py", line 181, in __call__
    raise exc from None
  File "/Library/Python/3.8/site-packages/starlette/middleware/errors.py", line 159, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x10d4f0280>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10d4f5be0>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x10d4c1a30>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x10d4c1a90>
  File "/Library/Python/3.8/site-packages/starlette/middleware/base.py", line 25, in __call__
    response = await self.dispatch_func(request, self.call_next)
                     │    │             │        │    └ <function BaseHTTPMiddleware.call_next at 0x10ca2e940>
                     │    │             │        └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x10d4c1a30>
                     │    │             └ <starlette.requests.Request object at 0x10d58c190>
                     │    └ <function add_process_time_header at 0x10d4bdd30>
                     └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x10d4c1a30>

  File "./app/__init__.py", line 65, in add_process_time_header
    response = await call_next(request)
                     │         └ <starlette.requests.Request object at 0x10d58c190>
                     └ <bound method BaseHTTPMiddleware.call_next of <starlette.middleware.base.BaseHTTPMiddleware object at 0x10d4c1a30>>

  File "/Library/Python/3.8/site-packages/starlette/middleware/base.py", line 45, in call_next
    task.result()
    │    └ <method 'result' of '_asyncio.Task' objects>
    └ <Task finished name='Task-22' coro=<BaseHTTPMiddleware.call_next.<locals>.coro() done, defined at /Library/Python/3.8/site-pa...
  File "/Library/Python/3.8/site-packages/starlette/middleware/base.py", line 38, in coro
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method Queue.put of <Queue at 0x10d4f5730 maxsize=0 tasks=1>>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10d4f5be0>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x10d4c1a00>
          └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x10d4c1a30>
  File "/Library/Python/3.8/site-packages/starlette/middleware/cors.py", line 78, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method Queue.put of <Queue at 0x10d4f5730 maxsize=0 tasks=1>>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10d4f5be0>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x10d4c19a0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x10d4c1a00>
  File "/Library/Python/3.8/site-packages/starlette/exceptions.py", line 82, in __call__
    raise exc from None
  File "/Library/Python/3.8/site-packages/starlette/exceptions.py", line 71, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x10d588820>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10d4f5be0>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x10d262cd0>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x10d4c19a0>
  File "/Library/Python/3.8/site-packages/starlette/routing.py", line 580, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x10d588820>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10d4f5be0>>
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │     └ <function Route.handle at 0x10c9fcaf0>
          └ <fastapi.routing.APIRoute object at 0x10d4b5880>
  File "/Library/Python/3.8/site-packages/starlette/routing.py", line 241, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x10d588820>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10d4f5be0>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <function request_response.<locals>.app at 0x10d4aeca0>
          └ <fastapi.routing.APIRoute object at 0x10d4b5880>
  File "/Library/Python/3.8/site-packages/starlette/routing.py", line 52, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x10d4f5400>
                     └ <function get_request_handler.<locals>.app at 0x10d4aec10>
  File "/Library/Python/3.8/site-packages/fastapi/routing.py", line 214, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x10c9e7b80>
  File "/Library/Python/3.8/site-packages/fastapi/routing.py", line 149, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'request': <starlette.requests.Request object at 0x10d4f5400>}
                 │         └ <function action at 0x10d34c670>
                 └ <fastapi.dependencies.models.Dependant object at 0x10d4b5970>

  File "./app/routers/conversation.py", line 10, in action
    return await controller.index(request)
                 │          │     └ <starlette.requests.Request object at 0x10d4f5400>
                 │          └ <staticmethod object at 0x10d3257c0>
                 └ <class 'app.controllers.Conversation.Conversation'>

  File "./app/controllers/Conversation.py", line 195, in index
    login = Login(agent)
            │     └ <dialogflow_fulfillment.webhook_client.WebhookClient object at 0x10d4f5ac0>
            └ <class 'app.libraries.Login.Login'>

  File "./app/libraries/Login.py", line 20, in __init__
    self.prosesLoging(agent)
    │    │            └ <dialogflow_fulfillment.webhook_client.WebhookClient object at 0x10d4f5ac0>
    │    └ <function Login.prosesLoging at 0x10d34c280>
    └ <app.libraries.Login.Login object at 0x10d4f5e50>

  File "./app/libraries/Login.py", line 52, in prosesLoging
    userBot.username    = dict(origintTelegram)['username']
    │       │                  └ {'first_name': 'Yayan', 'last_name': 'Sopian Tsaury', 'id': 1900341814.0, 'language_code': 'en'}
    │       └ <mongoengine.fields.StringField object at 0x10d31c340>
    └ <Usersbot: Usersbot object>

KeyError: 'username'
ERROR    2021-07-27 22:03:40.015 request id: app - uvicorn.protocols.http.h11_impl:run_asgi - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 5
               │     └ 8
               └ <function _main at 0x10bdc00d0>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 5
           │    └ <function BaseProcess._bootstrap at 0x10bb93b80>
           └ <SpawnProcess name='SpawnProcess-6' parent=7596 started>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x10bb931f0>
    └ <SpawnProcess name='SpawnProcess-6' parent=7596 started>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x10be27100>, 'target': <bound method Server.run of <uvicorn.server.Server object...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-6' parent=7596 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-6' parent=7596 started>
    │    └ <function subprocess_started at 0x10c400670>
    └ <SpawnProcess name='SpawnProcess-6' parent=7596 started>
  File "/Library/Python/3.8/site-packages/uvicorn/subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=4, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 5000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x10be271f0>>
  File "/Library/Python/3.8/site-packages/uvicorn/server.py", line 50, in run
    loop.run_until_complete(self.serve(sockets=sockets))
    │    │                  │    │             └ [<socket.socket fd=4, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 5000)>]
    │    │                  │    └ <function Server.serve at 0x10c3fcc10>
    │    │                  └ <uvicorn.server.Server object at 0x10be271f0>
    │    └ <function BaseEventLoop.run_until_complete at 0x10c0b9790>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/asyncio/base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x10c0b9700>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/asyncio/base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x10c0bb280>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/asyncio/base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x10bfee160>
    └ <Handle <TaskWakeupMethWrapper object at 0x10d4f5ca0>(<Future finished result=None>)>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/asyncio/events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x10d4f5ca0>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x10d4f5ca0>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x10d4f5ca0>(<Future finished result=None>)>
> File "/Library/Python/3.8/site-packages/uvicorn/protocols/http/h11_impl.py", line 369, in run_asgi
    result = await app(self.scope, self.receive, self.send)
                   │   │    │      │    │        │    └ <function RequestResponseCycle.send at 0x10c567310>
                   │   │    │      │    │        └ <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10d4f5be0>
                   │   │    │      │    └ <function RequestResponseCycle.receive at 0x10c5673a0>
                   │   │    │      └ <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10d4f5be0>
                   │   │    └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
                   │   └ <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10d4f5be0>
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x10c51f370>
  File "/Library/Python/3.8/site-packages/uvicorn/middleware/proxy_headers.py", line 59, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10d4f5be0>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10d4f5be0>>
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x10c570040>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x10c51f370>
  File "/Library/Python/3.8/site-packages/fastapi/applications.py", line 199, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10d4f5be0>>
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10d4f5be0>>
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
  File "/Library/Python/3.8/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10d4f5be0>>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10d4f5be0>>
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x10d4c1a90>
          └ <fastapi.applications.FastAPI object at 0x10c570040>
  File "/Library/Python/3.8/site-packages/starlette/middleware/errors.py", line 181, in __call__
    raise exc from None
  File "/Library/Python/3.8/site-packages/starlette/middleware/errors.py", line 159, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x10d4f0280>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10d4f5be0>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x10d4c1a30>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x10d4c1a90>
  File "/Library/Python/3.8/site-packages/starlette/middleware/base.py", line 25, in __call__
    response = await self.dispatch_func(request, self.call_next)
                     │    │             │        │    └ <function BaseHTTPMiddleware.call_next at 0x10ca2e940>
                     │    │             │        └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x10d4c1a30>
                     │    │             └ <starlette.requests.Request object at 0x10d58c190>
                     │    └ <function add_process_time_header at 0x10d4bdd30>
                     └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x10d4c1a30>

  File "./app/__init__.py", line 65, in add_process_time_header
    response = await call_next(request)
                     │         └ <starlette.requests.Request object at 0x10d58c190>
                     └ <bound method BaseHTTPMiddleware.call_next of <starlette.middleware.base.BaseHTTPMiddleware object at 0x10d4c1a30>>

  File "/Library/Python/3.8/site-packages/starlette/middleware/base.py", line 45, in call_next
    task.result()
    │    └ <method 'result' of '_asyncio.Task' objects>
    └ <Task finished name='Task-22' coro=<BaseHTTPMiddleware.call_next.<locals>.coro() done, defined at /Library/Python/3.8/site-pa...
  File "/Library/Python/3.8/site-packages/starlette/middleware/base.py", line 38, in coro
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method Queue.put of <Queue at 0x10d4f5730 maxsize=0 tasks=1>>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10d4f5be0>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x10d4c1a00>
          └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x10d4c1a30>
  File "/Library/Python/3.8/site-packages/starlette/middleware/cors.py", line 78, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method Queue.put of <Queue at 0x10d4f5730 maxsize=0 tasks=1>>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10d4f5be0>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x10d4c19a0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x10d4c1a00>
  File "/Library/Python/3.8/site-packages/starlette/exceptions.py", line 82, in __call__
    raise exc from None
  File "/Library/Python/3.8/site-packages/starlette/exceptions.py", line 71, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x10d588820>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10d4f5be0>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x10d262cd0>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x10d4c19a0>
  File "/Library/Python/3.8/site-packages/starlette/routing.py", line 580, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x10d588820>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10d4f5be0>>
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │     └ <function Route.handle at 0x10c9fcaf0>
          └ <fastapi.routing.APIRoute object at 0x10d4b5880>
  File "/Library/Python/3.8/site-packages/starlette/routing.py", line 241, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x10d588820>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10d4f5be0>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <function request_response.<locals>.app at 0x10d4aeca0>
          └ <fastapi.routing.APIRoute object at 0x10d4b5880>
  File "/Library/Python/3.8/site-packages/starlette/routing.py", line 52, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x10d4f5400>
                     └ <function get_request_handler.<locals>.app at 0x10d4aec10>
  File "/Library/Python/3.8/site-packages/fastapi/routing.py", line 214, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x10c9e7b80>
  File "/Library/Python/3.8/site-packages/fastapi/routing.py", line 149, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'request': <starlette.requests.Request object at 0x10d4f5400>}
                 │         └ <function action at 0x10d34c670>
                 └ <fastapi.dependencies.models.Dependant object at 0x10d4b5970>

  File "./app/routers/conversation.py", line 10, in action
    return await controller.index(request)
                 │          │     └ <starlette.requests.Request object at 0x10d4f5400>
                 │          └ <staticmethod object at 0x10d3257c0>
                 └ <class 'app.controllers.Conversation.Conversation'>

  File "./app/controllers/Conversation.py", line 195, in index
    login = Login(agent)
            │     └ <dialogflow_fulfillment.webhook_client.WebhookClient object at 0x10d4f5ac0>
            └ <class 'app.libraries.Login.Login'>

  File "./app/libraries/Login.py", line 20, in __init__
    self.prosesLoging(agent)
    │    │            └ <dialogflow_fulfillment.webhook_client.WebhookClient object at 0x10d4f5ac0>
    │    └ <function Login.prosesLoging at 0x10d34c280>
    └ <app.libraries.Login.Login object at 0x10d4f5e50>

  File "./app/libraries/Login.py", line 52, in prosesLoging
    userBot.username    = dict(origintTelegram)['username']
    │       │                  └ {'first_name': 'Yayan', 'last_name': 'Sopian Tsaury', 'id': 1900341814.0, 'language_code': 'en'}
    │       └ <mongoengine.fields.StringField object at 0x10d31c340>
    └ <Usersbot: Usersbot object>

KeyError: 'username'
ERROR    2021-07-27 22:03:40.033 request id: app - uvicorn.protocols.http.h11_impl:run_asgi - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 5
               │     └ 8
               └ <function _main at 0x10bdc00d0>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 5
           │    └ <function BaseProcess._bootstrap at 0x10bb93b80>
           └ <SpawnProcess name='SpawnProcess-6' parent=7596 started>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x10bb931f0>
    └ <SpawnProcess name='SpawnProcess-6' parent=7596 started>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x10be27100>, 'target': <bound method Server.run of <uvicorn.server.Server object...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-6' parent=7596 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-6' parent=7596 started>
    │    └ <function subprocess_started at 0x10c400670>
    └ <SpawnProcess name='SpawnProcess-6' parent=7596 started>
  File "/Library/Python/3.8/site-packages/uvicorn/subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=4, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 5000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x10be271f0>>
  File "/Library/Python/3.8/site-packages/uvicorn/server.py", line 50, in run
    loop.run_until_complete(self.serve(sockets=sockets))
    │    │                  │    │             └ [<socket.socket fd=4, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 5000)>]
    │    │                  │    └ <function Server.serve at 0x10c3fcc10>
    │    │                  └ <uvicorn.server.Server object at 0x10be271f0>
    │    └ <function BaseEventLoop.run_until_complete at 0x10c0b9790>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/asyncio/base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x10c0b9700>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/asyncio/base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x10c0bb280>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/asyncio/base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x10bfee160>
    └ <Handle <TaskWakeupMethWrapper object at 0x10d4f5ca0>(<Future finished result=None>)>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/asyncio/events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x10d4f5ca0>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x10d4f5ca0>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x10d4f5ca0>(<Future finished result=None>)>
> File "/Library/Python/3.8/site-packages/uvicorn/protocols/http/h11_impl.py", line 369, in run_asgi
    result = await app(self.scope, self.receive, self.send)
                   │   │    │      │    │        │    └ <function RequestResponseCycle.send at 0x10c567310>
                   │   │    │      │    │        └ <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10d4f5be0>
                   │   │    │      │    └ <function RequestResponseCycle.receive at 0x10c5673a0>
                   │   │    │      └ <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10d4f5be0>
                   │   │    └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
                   │   └ <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10d4f5be0>
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x10c51f370>
  File "/Library/Python/3.8/site-packages/uvicorn/middleware/proxy_headers.py", line 59, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10d4f5be0>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10d4f5be0>>
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x10c570040>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x10c51f370>
  File "/Library/Python/3.8/site-packages/fastapi/applications.py", line 199, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10d4f5be0>>
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10d4f5be0>>
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
  File "/Library/Python/3.8/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10d4f5be0>>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10d4f5be0>>
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x10d4c1a90>
          └ <fastapi.applications.FastAPI object at 0x10c570040>
  File "/Library/Python/3.8/site-packages/starlette/middleware/errors.py", line 181, in __call__
    raise exc from None
  File "/Library/Python/3.8/site-packages/starlette/middleware/errors.py", line 159, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x10d4f0280>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10d4f5be0>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x10d4c1a30>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x10d4c1a90>
  File "/Library/Python/3.8/site-packages/starlette/middleware/base.py", line 25, in __call__
    response = await self.dispatch_func(request, self.call_next)
                     │    │             │        │    └ <function BaseHTTPMiddleware.call_next at 0x10ca2e940>
                     │    │             │        └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x10d4c1a30>
                     │    │             └ <starlette.requests.Request object at 0x10d58c190>
                     │    └ <function add_process_time_header at 0x10d4bdd30>
                     └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x10d4c1a30>

  File "./app/__init__.py", line 65, in add_process_time_header
    response = await call_next(request)
                     │         └ <starlette.requests.Request object at 0x10d58c190>
                     └ <bound method BaseHTTPMiddleware.call_next of <starlette.middleware.base.BaseHTTPMiddleware object at 0x10d4c1a30>>

  File "/Library/Python/3.8/site-packages/starlette/middleware/base.py", line 45, in call_next
    task.result()
    │    └ <method 'result' of '_asyncio.Task' objects>
    └ <Task finished name='Task-22' coro=<BaseHTTPMiddleware.call_next.<locals>.coro() done, defined at /Library/Python/3.8/site-pa...
  File "/Library/Python/3.8/site-packages/starlette/middleware/base.py", line 38, in coro
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method Queue.put of <Queue at 0x10d4f5730 maxsize=0 tasks=1>>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10d4f5be0>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x10d4c1a00>
          └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x10d4c1a30>
  File "/Library/Python/3.8/site-packages/starlette/middleware/cors.py", line 78, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method Queue.put of <Queue at 0x10d4f5730 maxsize=0 tasks=1>>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10d4f5be0>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x10d4c19a0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x10d4c1a00>
  File "/Library/Python/3.8/site-packages/starlette/exceptions.py", line 82, in __call__
    raise exc from None
  File "/Library/Python/3.8/site-packages/starlette/exceptions.py", line 71, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x10d588820>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10d4f5be0>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x10d262cd0>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x10d4c19a0>
  File "/Library/Python/3.8/site-packages/starlette/routing.py", line 580, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x10d588820>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10d4f5be0>>
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │     └ <function Route.handle at 0x10c9fcaf0>
          └ <fastapi.routing.APIRoute object at 0x10d4b5880>
  File "/Library/Python/3.8/site-packages/starlette/routing.py", line 241, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x10d588820>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10d4f5be0>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <function request_response.<locals>.app at 0x10d4aeca0>
          └ <fastapi.routing.APIRoute object at 0x10d4b5880>
  File "/Library/Python/3.8/site-packages/starlette/routing.py", line 52, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x10d4f5400>
                     └ <function get_request_handler.<locals>.app at 0x10d4aec10>
  File "/Library/Python/3.8/site-packages/fastapi/routing.py", line 214, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x10c9e7b80>
  File "/Library/Python/3.8/site-packages/fastapi/routing.py", line 149, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'request': <starlette.requests.Request object at 0x10d4f5400>}
                 │         └ <function action at 0x10d34c670>
                 └ <fastapi.dependencies.models.Dependant object at 0x10d4b5970>

  File "./app/routers/conversation.py", line 10, in action
    return await controller.index(request)
                 │          │     └ <starlette.requests.Request object at 0x10d4f5400>
                 │          └ <staticmethod object at 0x10d3257c0>
                 └ <class 'app.controllers.Conversation.Conversation'>

  File "./app/controllers/Conversation.py", line 195, in index
    login = Login(agent)
            │     └ <dialogflow_fulfillment.webhook_client.WebhookClient object at 0x10d4f5ac0>
            └ <class 'app.libraries.Login.Login'>

  File "./app/libraries/Login.py", line 20, in __init__
    self.prosesLoging(agent)
    │    │            └ <dialogflow_fulfillment.webhook_client.WebhookClient object at 0x10d4f5ac0>
    │    └ <function Login.prosesLoging at 0x10d34c280>
    └ <app.libraries.Login.Login object at 0x10d4f5e50>

  File "./app/libraries/Login.py", line 52, in prosesLoging
    userBot.username    = dict(origintTelegram)['username']
    │       │                  └ {'first_name': 'Yayan', 'last_name': 'Sopian Tsaury', 'id': 1900341814.0, 'language_code': 'en'}
    │       └ <mongoengine.fields.StringField object at 0x10d31c340>
    └ <Usersbot: Usersbot object>

KeyError: 'username'
INFO     2021-07-27 22:05:05.999 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2021-07-27 22:05:06.003 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2021-07-27 22:05:06.004 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2021-07-27 22:05:06.111 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2021-07-27 22:05:06.111 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2021-07-27 22:05:06.111 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2021-07-27 22:05:06.112 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2021-07-27 22:05:06.112 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2021-07-27 22:05:06.112 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2021-07-27 22:05:06.113 request id: app - uvicorn.server:serve - Finished server process [9702]
INFO     2021-07-27 22:05:06.113 request id: app - uvicorn.server:serve - Finished server process [9702]
INFO     2021-07-27 22:05:06.113 request id: app - uvicorn.server:serve - Finished server process [9702]
INFO     2021-07-27 22:05:07.072 request id: app - uvicorn.server:serve - Started server process [9728]
INFO     2021-07-27 22:05:07.072 request id: app - uvicorn.server:serve - Started server process [9728]
INFO     2021-07-27 22:05:07.073 request id: app - uvicorn.server:serve - Started server process [9728]
INFO     2021-07-27 22:05:07.073 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2021-07-27 22:05:07.073 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2021-07-27 22:05:07.073 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2021-07-27 22:05:07.074 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2021-07-27 22:05:07.074 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2021-07-27 22:05:07.075 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2021-07-27 22:05:10.552 request id: app - uvicorn.protocols.http.h11_impl:send - 66.249.83.88:0 - "POST /webhook HTTP/1.1" 500
ERROR    2021-07-27 22:05:10.554 request id: app - uvicorn.protocols.http.h11_impl:run_asgi - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 5
               │     └ 8
               └ <function _main at 0x10dd4e0d0>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 5
           │    └ <function BaseProcess._bootstrap at 0x10db21b80>
           └ <SpawnProcess name='SpawnProcess-7' parent=7596 started>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x10db211f0>
    └ <SpawnProcess name='SpawnProcess-7' parent=7596 started>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x10ddb5100>, 'target': <bound method Server.run of <uvicorn.server.Server object...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-7' parent=7596 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-7' parent=7596 started>
    │    └ <function subprocess_started at 0x10e38d670>
    └ <SpawnProcess name='SpawnProcess-7' parent=7596 started>
  File "/Library/Python/3.8/site-packages/uvicorn/subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=4, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 5000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x10ddb51f0>>
  File "/Library/Python/3.8/site-packages/uvicorn/server.py", line 50, in run
    loop.run_until_complete(self.serve(sockets=sockets))
    │    │                  │    │             └ [<socket.socket fd=4, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 5000)>]
    │    │                  │    └ <function Server.serve at 0x10e38ac10>
    │    │                  └ <uvicorn.server.Server object at 0x10ddb51f0>
    │    └ <function BaseEventLoop.run_until_complete at 0x10e047790>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/asyncio/base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x10e047700>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/asyncio/base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x10e049280>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/asyncio/base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x10df7c160>
    └ <Handle <TaskWakeupMethWrapper object at 0x10f466bb0>(<Future finished result=None>)>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/asyncio/events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x10f466bb0>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x10f466bb0>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x10f466bb0>(<Future finished result=None>)>
> File "/Library/Python/3.8/site-packages/uvicorn/protocols/http/h11_impl.py", line 369, in run_asgi
    result = await app(self.scope, self.receive, self.send)
                   │   │    │      │    │        │    └ <function RequestResponseCycle.send at 0x10e4f5310>
                   │   │    │      │    │        └ <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10f466e50>
                   │   │    │      │    └ <function RequestResponseCycle.receive at 0x10e4f53a0>
                   │   │    │      └ <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10f466e50>
                   │   │    └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
                   │   └ <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10f466e50>
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x10e4ad370>
  File "/Library/Python/3.8/site-packages/uvicorn/middleware/proxy_headers.py", line 59, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10f466e50>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10f466e50>>
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x10e4fe040>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x10e4ad370>
  File "/Library/Python/3.8/site-packages/fastapi/applications.py", line 199, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10f466e50>>
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10f466e50>>
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
  File "/Library/Python/3.8/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10f466e50>>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10f466e50>>
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x10f450a90>
          └ <fastapi.applications.FastAPI object at 0x10e4fe040>
  File "/Library/Python/3.8/site-packages/starlette/middleware/errors.py", line 181, in __call__
    raise exc from None
  File "/Library/Python/3.8/site-packages/starlette/middleware/errors.py", line 159, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x10f44bf70>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10f466e50>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x10f450a30>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x10f450a90>
  File "/Library/Python/3.8/site-packages/starlette/middleware/base.py", line 25, in __call__
    response = await self.dispatch_func(request, self.call_next)
                     │    │             │        │    └ <function BaseHTTPMiddleware.call_next at 0x10e9bc940>
                     │    │             │        └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x10f450a30>
                     │    │             └ <starlette.requests.Request object at 0x10f466ee0>
                     │    └ <function add_process_time_header at 0x10f44bd30>
                     └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x10f450a30>

  File "./app/__init__.py", line 65, in add_process_time_header
    response = await call_next(request)
                     │         └ <starlette.requests.Request object at 0x10f466ee0>
                     └ <bound method BaseHTTPMiddleware.call_next of <starlette.middleware.base.BaseHTTPMiddleware object at 0x10f450a30>>

  File "/Library/Python/3.8/site-packages/starlette/middleware/base.py", line 45, in call_next
    task.result()
    │    └ <method 'result' of '_asyncio.Task' objects>
    └ <Task finished name='Task-6' coro=<BaseHTTPMiddleware.call_next.<locals>.coro() done, defined at /Library/Python/3.8/site-pac...
  File "/Library/Python/3.8/site-packages/starlette/middleware/base.py", line 38, in coro
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method Queue.put of <Queue at 0x10f466b50 maxsize=0 tasks=1>>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10f466e50>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x10f450a00>
          └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x10f450a30>
  File "/Library/Python/3.8/site-packages/starlette/middleware/cors.py", line 78, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method Queue.put of <Queue at 0x10f466b50 maxsize=0 tasks=1>>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10f466e50>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x10f4509a0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x10f450a00>
  File "/Library/Python/3.8/site-packages/starlette/exceptions.py", line 82, in __call__
    raise exc from None
  File "/Library/Python/3.8/site-packages/starlette/exceptions.py", line 71, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x10f47d0d0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10f466e50>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x10f1f0cd0>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x10f4509a0>
  File "/Library/Python/3.8/site-packages/starlette/routing.py", line 580, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x10f47d0d0>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10f466e50>>
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │     └ <function Route.handle at 0x10e989af0>
          └ <fastapi.routing.APIRoute object at 0x10f443880>
  File "/Library/Python/3.8/site-packages/starlette/routing.py", line 241, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x10f47d0d0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10f466e50>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <function request_response.<locals>.app at 0x10f43cca0>
          └ <fastapi.routing.APIRoute object at 0x10f443880>
  File "/Library/Python/3.8/site-packages/starlette/routing.py", line 52, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x10f4669d0>
                     └ <function get_request_handler.<locals>.app at 0x10f43cc10>
  File "/Library/Python/3.8/site-packages/fastapi/routing.py", line 214, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x10e975b80>
  File "/Library/Python/3.8/site-packages/fastapi/routing.py", line 149, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'request': <starlette.requests.Request object at 0x10f4669d0>}
                 │         └ <function action at 0x10f31d670>
                 └ <fastapi.dependencies.models.Dependant object at 0x10f443970>

  File "./app/routers/conversation.py", line 10, in action
    return await controller.index(request)
                 │          │     └ <starlette.requests.Request object at 0x10f4669d0>
                 │          └ <staticmethod object at 0x10f2b47c0>
                 └ <class 'app.controllers.Conversation.Conversation'>

  File "./app/controllers/Conversation.py", line 195, in index
    login = Login(agent)
            │     └ <dialogflow_fulfillment.webhook_client.WebhookClient object at 0x10f483040>
            └ <class 'app.libraries.Login.Login'>

  File "./app/libraries/Login.py", line 20, in __init__
    self.prosesLoging(agent)
    │    │            └ <dialogflow_fulfillment.webhook_client.WebhookClient object at 0x10f483040>
    │    └ <function Login.prosesLoging at 0x10f31d280>
    └ <app.libraries.Login.Login object at 0x10f4830d0>

  File "./app/libraries/Login.py", line 54, in prosesLoging
    userBot.username    = dict(origintTelegram)['username']
    │       │                  └ {'first_name': 'Yayan', 'last_name': 'Sopian Tsaury', 'language_code': 'en', 'id': 1900341814.0}
    │       └ <mongoengine.fields.StringField object at 0x10f2aa340>
    └ <Usersbot: Usersbot object>

KeyError: 'username'
ERROR    2021-07-27 22:05:10.598 request id: app - uvicorn.protocols.http.h11_impl:run_asgi - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 5
               │     └ 8
               └ <function _main at 0x10dd4e0d0>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 5
           │    └ <function BaseProcess._bootstrap at 0x10db21b80>
           └ <SpawnProcess name='SpawnProcess-7' parent=7596 started>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x10db211f0>
    └ <SpawnProcess name='SpawnProcess-7' parent=7596 started>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x10ddb5100>, 'target': <bound method Server.run of <uvicorn.server.Server object...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-7' parent=7596 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-7' parent=7596 started>
    │    └ <function subprocess_started at 0x10e38d670>
    └ <SpawnProcess name='SpawnProcess-7' parent=7596 started>
  File "/Library/Python/3.8/site-packages/uvicorn/subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=4, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 5000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x10ddb51f0>>
  File "/Library/Python/3.8/site-packages/uvicorn/server.py", line 50, in run
    loop.run_until_complete(self.serve(sockets=sockets))
    │    │                  │    │             └ [<socket.socket fd=4, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 5000)>]
    │    │                  │    └ <function Server.serve at 0x10e38ac10>
    │    │                  └ <uvicorn.server.Server object at 0x10ddb51f0>
    │    └ <function BaseEventLoop.run_until_complete at 0x10e047790>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/asyncio/base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x10e047700>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/asyncio/base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x10e049280>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/asyncio/base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x10df7c160>
    └ <Handle <TaskWakeupMethWrapper object at 0x10f466bb0>(<Future finished result=None>)>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/asyncio/events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x10f466bb0>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x10f466bb0>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x10f466bb0>(<Future finished result=None>)>
> File "/Library/Python/3.8/site-packages/uvicorn/protocols/http/h11_impl.py", line 369, in run_asgi
    result = await app(self.scope, self.receive, self.send)
                   │   │    │      │    │        │    └ <function RequestResponseCycle.send at 0x10e4f5310>
                   │   │    │      │    │        └ <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10f466e50>
                   │   │    │      │    └ <function RequestResponseCycle.receive at 0x10e4f53a0>
                   │   │    │      └ <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10f466e50>
                   │   │    └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
                   │   └ <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10f466e50>
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x10e4ad370>
  File "/Library/Python/3.8/site-packages/uvicorn/middleware/proxy_headers.py", line 59, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10f466e50>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10f466e50>>
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x10e4fe040>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x10e4ad370>
  File "/Library/Python/3.8/site-packages/fastapi/applications.py", line 199, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10f466e50>>
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10f466e50>>
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
  File "/Library/Python/3.8/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10f466e50>>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10f466e50>>
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x10f450a90>
          └ <fastapi.applications.FastAPI object at 0x10e4fe040>
  File "/Library/Python/3.8/site-packages/starlette/middleware/errors.py", line 181, in __call__
    raise exc from None
  File "/Library/Python/3.8/site-packages/starlette/middleware/errors.py", line 159, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x10f44bf70>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10f466e50>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x10f450a30>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x10f450a90>
  File "/Library/Python/3.8/site-packages/starlette/middleware/base.py", line 25, in __call__
    response = await self.dispatch_func(request, self.call_next)
                     │    │             │        │    └ <function BaseHTTPMiddleware.call_next at 0x10e9bc940>
                     │    │             │        └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x10f450a30>
                     │    │             └ <starlette.requests.Request object at 0x10f466ee0>
                     │    └ <function add_process_time_header at 0x10f44bd30>
                     └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x10f450a30>

  File "./app/__init__.py", line 65, in add_process_time_header
    response = await call_next(request)
                     │         └ <starlette.requests.Request object at 0x10f466ee0>
                     └ <bound method BaseHTTPMiddleware.call_next of <starlette.middleware.base.BaseHTTPMiddleware object at 0x10f450a30>>

  File "/Library/Python/3.8/site-packages/starlette/middleware/base.py", line 45, in call_next
    task.result()
    │    └ <method 'result' of '_asyncio.Task' objects>
    └ <Task finished name='Task-6' coro=<BaseHTTPMiddleware.call_next.<locals>.coro() done, defined at /Library/Python/3.8/site-pac...
  File "/Library/Python/3.8/site-packages/starlette/middleware/base.py", line 38, in coro
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method Queue.put of <Queue at 0x10f466b50 maxsize=0 tasks=1>>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10f466e50>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x10f450a00>
          └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x10f450a30>
  File "/Library/Python/3.8/site-packages/starlette/middleware/cors.py", line 78, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method Queue.put of <Queue at 0x10f466b50 maxsize=0 tasks=1>>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10f466e50>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x10f4509a0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x10f450a00>
  File "/Library/Python/3.8/site-packages/starlette/exceptions.py", line 82, in __call__
    raise exc from None
  File "/Library/Python/3.8/site-packages/starlette/exceptions.py", line 71, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x10f47d0d0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10f466e50>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x10f1f0cd0>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x10f4509a0>
  File "/Library/Python/3.8/site-packages/starlette/routing.py", line 580, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x10f47d0d0>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10f466e50>>
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │     └ <function Route.handle at 0x10e989af0>
          └ <fastapi.routing.APIRoute object at 0x10f443880>
  File "/Library/Python/3.8/site-packages/starlette/routing.py", line 241, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x10f47d0d0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10f466e50>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <function request_response.<locals>.app at 0x10f43cca0>
          └ <fastapi.routing.APIRoute object at 0x10f443880>
  File "/Library/Python/3.8/site-packages/starlette/routing.py", line 52, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x10f4669d0>
                     └ <function get_request_handler.<locals>.app at 0x10f43cc10>
  File "/Library/Python/3.8/site-packages/fastapi/routing.py", line 214, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x10e975b80>
  File "/Library/Python/3.8/site-packages/fastapi/routing.py", line 149, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'request': <starlette.requests.Request object at 0x10f4669d0>}
                 │         └ <function action at 0x10f31d670>
                 └ <fastapi.dependencies.models.Dependant object at 0x10f443970>

  File "./app/routers/conversation.py", line 10, in action
    return await controller.index(request)
                 │          │     └ <starlette.requests.Request object at 0x10f4669d0>
                 │          └ <staticmethod object at 0x10f2b47c0>
                 └ <class 'app.controllers.Conversation.Conversation'>

  File "./app/controllers/Conversation.py", line 195, in index
    login = Login(agent)
            │     └ <dialogflow_fulfillment.webhook_client.WebhookClient object at 0x10f483040>
            └ <class 'app.libraries.Login.Login'>

  File "./app/libraries/Login.py", line 20, in __init__
    self.prosesLoging(agent)
    │    │            └ <dialogflow_fulfillment.webhook_client.WebhookClient object at 0x10f483040>
    │    └ <function Login.prosesLoging at 0x10f31d280>
    └ <app.libraries.Login.Login object at 0x10f4830d0>

  File "./app/libraries/Login.py", line 54, in prosesLoging
    userBot.username    = dict(origintTelegram)['username']
    │       │                  └ {'first_name': 'Yayan', 'last_name': 'Sopian Tsaury', 'language_code': 'en', 'id': 1900341814.0}
    │       └ <mongoengine.fields.StringField object at 0x10f2aa340>
    └ <Usersbot: Usersbot object>

KeyError: 'username'
ERROR    2021-07-27 22:05:10.611 request id: app - uvicorn.protocols.http.h11_impl:run_asgi - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 5
               │     └ 8
               └ <function _main at 0x10dd4e0d0>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 5
           │    └ <function BaseProcess._bootstrap at 0x10db21b80>
           └ <SpawnProcess name='SpawnProcess-7' parent=7596 started>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x10db211f0>
    └ <SpawnProcess name='SpawnProcess-7' parent=7596 started>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x10ddb5100>, 'target': <bound method Server.run of <uvicorn.server.Server object...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-7' parent=7596 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-7' parent=7596 started>
    │    └ <function subprocess_started at 0x10e38d670>
    └ <SpawnProcess name='SpawnProcess-7' parent=7596 started>
  File "/Library/Python/3.8/site-packages/uvicorn/subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=4, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 5000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x10ddb51f0>>
  File "/Library/Python/3.8/site-packages/uvicorn/server.py", line 50, in run
    loop.run_until_complete(self.serve(sockets=sockets))
    │    │                  │    │             └ [<socket.socket fd=4, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 5000)>]
    │    │                  │    └ <function Server.serve at 0x10e38ac10>
    │    │                  └ <uvicorn.server.Server object at 0x10ddb51f0>
    │    └ <function BaseEventLoop.run_until_complete at 0x10e047790>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/asyncio/base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x10e047700>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/asyncio/base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x10e049280>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/asyncio/base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x10df7c160>
    └ <Handle <TaskWakeupMethWrapper object at 0x10f466bb0>(<Future finished result=None>)>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/asyncio/events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x10f466bb0>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x10f466bb0>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x10f466bb0>(<Future finished result=None>)>
> File "/Library/Python/3.8/site-packages/uvicorn/protocols/http/h11_impl.py", line 369, in run_asgi
    result = await app(self.scope, self.receive, self.send)
                   │   │    │      │    │        │    └ <function RequestResponseCycle.send at 0x10e4f5310>
                   │   │    │      │    │        └ <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10f466e50>
                   │   │    │      │    └ <function RequestResponseCycle.receive at 0x10e4f53a0>
                   │   │    │      └ <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10f466e50>
                   │   │    └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
                   │   └ <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10f466e50>
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x10e4ad370>
  File "/Library/Python/3.8/site-packages/uvicorn/middleware/proxy_headers.py", line 59, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10f466e50>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10f466e50>>
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x10e4fe040>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x10e4ad370>
  File "/Library/Python/3.8/site-packages/fastapi/applications.py", line 199, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10f466e50>>
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10f466e50>>
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
  File "/Library/Python/3.8/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10f466e50>>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10f466e50>>
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x10f450a90>
          └ <fastapi.applications.FastAPI object at 0x10e4fe040>
  File "/Library/Python/3.8/site-packages/starlette/middleware/errors.py", line 181, in __call__
    raise exc from None
  File "/Library/Python/3.8/site-packages/starlette/middleware/errors.py", line 159, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x10f44bf70>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10f466e50>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x10f450a30>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x10f450a90>
  File "/Library/Python/3.8/site-packages/starlette/middleware/base.py", line 25, in __call__
    response = await self.dispatch_func(request, self.call_next)
                     │    │             │        │    └ <function BaseHTTPMiddleware.call_next at 0x10e9bc940>
                     │    │             │        └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x10f450a30>
                     │    │             └ <starlette.requests.Request object at 0x10f466ee0>
                     │    └ <function add_process_time_header at 0x10f44bd30>
                     └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x10f450a30>

  File "./app/__init__.py", line 65, in add_process_time_header
    response = await call_next(request)
                     │         └ <starlette.requests.Request object at 0x10f466ee0>
                     └ <bound method BaseHTTPMiddleware.call_next of <starlette.middleware.base.BaseHTTPMiddleware object at 0x10f450a30>>

  File "/Library/Python/3.8/site-packages/starlette/middleware/base.py", line 45, in call_next
    task.result()
    │    └ <method 'result' of '_asyncio.Task' objects>
    └ <Task finished name='Task-6' coro=<BaseHTTPMiddleware.call_next.<locals>.coro() done, defined at /Library/Python/3.8/site-pac...
  File "/Library/Python/3.8/site-packages/starlette/middleware/base.py", line 38, in coro
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method Queue.put of <Queue at 0x10f466b50 maxsize=0 tasks=1>>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10f466e50>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x10f450a00>
          └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x10f450a30>
  File "/Library/Python/3.8/site-packages/starlette/middleware/cors.py", line 78, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method Queue.put of <Queue at 0x10f466b50 maxsize=0 tasks=1>>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10f466e50>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x10f4509a0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x10f450a00>
  File "/Library/Python/3.8/site-packages/starlette/exceptions.py", line 82, in __call__
    raise exc from None
  File "/Library/Python/3.8/site-packages/starlette/exceptions.py", line 71, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x10f47d0d0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10f466e50>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x10f1f0cd0>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x10f4509a0>
  File "/Library/Python/3.8/site-packages/starlette/routing.py", line 580, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x10f47d0d0>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10f466e50>>
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │     └ <function Route.handle at 0x10e989af0>
          └ <fastapi.routing.APIRoute object at 0x10f443880>
  File "/Library/Python/3.8/site-packages/starlette/routing.py", line 241, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x10f47d0d0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10f466e50>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <function request_response.<locals>.app at 0x10f43cca0>
          └ <fastapi.routing.APIRoute object at 0x10f443880>
  File "/Library/Python/3.8/site-packages/starlette/routing.py", line 52, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x10f4669d0>
                     └ <function get_request_handler.<locals>.app at 0x10f43cc10>
  File "/Library/Python/3.8/site-packages/fastapi/routing.py", line 214, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x10e975b80>
  File "/Library/Python/3.8/site-packages/fastapi/routing.py", line 149, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'request': <starlette.requests.Request object at 0x10f4669d0>}
                 │         └ <function action at 0x10f31d670>
                 └ <fastapi.dependencies.models.Dependant object at 0x10f443970>

  File "./app/routers/conversation.py", line 10, in action
    return await controller.index(request)
                 │          │     └ <starlette.requests.Request object at 0x10f4669d0>
                 │          └ <staticmethod object at 0x10f2b47c0>
                 └ <class 'app.controllers.Conversation.Conversation'>

  File "./app/controllers/Conversation.py", line 195, in index
    login = Login(agent)
            │     └ <dialogflow_fulfillment.webhook_client.WebhookClient object at 0x10f483040>
            └ <class 'app.libraries.Login.Login'>

  File "./app/libraries/Login.py", line 20, in __init__
    self.prosesLoging(agent)
    │    │            └ <dialogflow_fulfillment.webhook_client.WebhookClient object at 0x10f483040>
    │    └ <function Login.prosesLoging at 0x10f31d280>
    └ <app.libraries.Login.Login object at 0x10f4830d0>

  File "./app/libraries/Login.py", line 54, in prosesLoging
    userBot.username    = dict(origintTelegram)['username']
    │       │                  └ {'first_name': 'Yayan', 'last_name': 'Sopian Tsaury', 'language_code': 'en', 'id': 1900341814.0}
    │       └ <mongoengine.fields.StringField object at 0x10f2aa340>
    └ <Usersbot: Usersbot object>

KeyError: 'username'
INFO     2021-07-27 22:07:52.664 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2021-07-27 22:07:52.665 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2021-07-27 22:07:52.666 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2021-07-27 22:07:52.767 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2021-07-27 22:07:52.768 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2021-07-27 22:07:52.768 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2021-07-27 22:07:52.769 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2021-07-27 22:07:52.769 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2021-07-27 22:07:52.770 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2021-07-27 22:07:52.770 request id: app - uvicorn.server:serve - Finished server process [9728]
INFO     2021-07-27 22:07:52.770 request id: app - uvicorn.server:serve - Finished server process [9728]
INFO     2021-07-27 22:07:52.770 request id: app - uvicorn.server:serve - Finished server process [9728]
INFO     2021-07-27 22:07:53.528 request id: app - uvicorn.server:serve - Started server process [9750]
INFO     2021-07-27 22:07:53.528 request id: app - uvicorn.server:serve - Started server process [9750]
INFO     2021-07-27 22:07:53.528 request id: app - uvicorn.server:serve - Started server process [9750]
INFO     2021-07-27 22:07:53.528 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2021-07-27 22:07:53.529 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2021-07-27 22:07:53.529 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2021-07-27 22:07:53.530 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2021-07-27 22:07:53.530 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2021-07-27 22:07:53.530 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2021-07-27 22:09:30.193 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2021-07-27 22:09:30.193 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2021-07-27 22:09:30.194 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2021-07-27 22:09:30.299 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2021-07-27 22:09:30.300 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2021-07-27 22:09:30.300 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2021-07-27 22:09:30.301 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2021-07-27 22:09:30.301 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2021-07-27 22:09:30.301 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2021-07-27 22:09:30.301 request id: app - uvicorn.server:serve - Finished server process [9750]
INFO     2021-07-27 22:09:30.301 request id: app - uvicorn.server:serve - Finished server process [9750]
INFO     2021-07-27 22:09:30.302 request id: app - uvicorn.server:serve - Finished server process [9750]
INFO     2021-07-27 22:11:12.608 request id: app - uvicorn.server:serve - Started server process [9780]
INFO     2021-07-27 22:11:12.608 request id: app - uvicorn.server:serve - Started server process [9780]
INFO     2021-07-27 22:11:12.608 request id: app - uvicorn.server:serve - Started server process [9780]
INFO     2021-07-27 22:11:12.609 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2021-07-27 22:11:12.609 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2021-07-27 22:11:12.609 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2021-07-27 22:11:12.610 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2021-07-27 22:11:12.610 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2021-07-27 22:11:12.610 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2021-07-27 22:11:32.827 request id: app - uvicorn.protocols.http.h11_impl:send - 66.249.83.72:0 - "POST /webhook HTTP/1.1" 500
ERROR    2021-07-27 22:11:32.831 request id: app - uvicorn.protocols.http.h11_impl:run_asgi - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 5
               │     └ 8
               └ <function _main at 0x10ba540d0>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 5
           │    └ <function BaseProcess._bootstrap at 0x10b827b80>
           └ <SpawnProcess name='SpawnProcess-12' parent=7596 started>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x10b8271f0>
    └ <SpawnProcess name='SpawnProcess-12' parent=7596 started>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x10babb100>, 'target': <bound method Server.run of <uvicorn.server.Server object...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-12' parent=7596 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-12' parent=7596 started>
    │    └ <function subprocess_started at 0x10c093670>
    └ <SpawnProcess name='SpawnProcess-12' parent=7596 started>
  File "/Library/Python/3.8/site-packages/uvicorn/subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=4, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 5000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x10babb1f0>>
  File "/Library/Python/3.8/site-packages/uvicorn/server.py", line 50, in run
    loop.run_until_complete(self.serve(sockets=sockets))
    │    │                  │    │             └ [<socket.socket fd=4, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 5000)>]
    │    │                  │    └ <function Server.serve at 0x10c090c10>
    │    │                  └ <uvicorn.server.Server object at 0x10babb1f0>
    │    └ <function BaseEventLoop.run_until_complete at 0x10bd4d790>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/asyncio/base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x10bd4d700>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/asyncio/base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x10bd4f280>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/asyncio/base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x10bc82160>
    └ <Handle <TaskWakeupMethWrapper object at 0x10d16cb80>(<Future finished result=None>)>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/asyncio/events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x10d16cb80>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x10d16cb80>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x10d16cb80>(<Future finished result=None>)>
> File "/Library/Python/3.8/site-packages/uvicorn/protocols/http/h11_impl.py", line 369, in run_asgi
    result = await app(self.scope, self.receive, self.send)
                   │   │    │      │    │        │    └ <function RequestResponseCycle.send at 0x10c207310>
                   │   │    │      │    │        └ <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10d16ce20>
                   │   │    │      │    └ <function RequestResponseCycle.receive at 0x10c2073a0>
                   │   │    │      └ <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10d16ce20>
                   │   │    └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
                   │   └ <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10d16ce20>
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x10c1b3370>
  File "/Library/Python/3.8/site-packages/uvicorn/middleware/proxy_headers.py", line 59, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10d16ce20>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10d16ce20>>
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x10c1e6040>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x10c1b3370>
  File "/Library/Python/3.8/site-packages/fastapi/applications.py", line 199, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10d16ce20>>
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10d16ce20>>
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
  File "/Library/Python/3.8/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10d16ce20>>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10d16ce20>>
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x10d156a90>
          └ <fastapi.applications.FastAPI object at 0x10c1e6040>
  File "/Library/Python/3.8/site-packages/starlette/middleware/errors.py", line 181, in __call__
    raise exc from None
  File "/Library/Python/3.8/site-packages/starlette/middleware/errors.py", line 159, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x10d151f70>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10d16ce20>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x10d156a30>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x10d156a90>
  File "/Library/Python/3.8/site-packages/starlette/middleware/base.py", line 25, in __call__
    response = await self.dispatch_func(request, self.call_next)
                     │    │             │        │    └ <function BaseHTTPMiddleware.call_next at 0x10c6c2940>
                     │    │             │        └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x10d156a30>
                     │    │             └ <starlette.requests.Request object at 0x10d16ceb0>
                     │    └ <function add_process_time_header at 0x10d151d30>
                     └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x10d156a30>

  File "./app/__init__.py", line 65, in add_process_time_header
    response = await call_next(request)
                     │         └ <starlette.requests.Request object at 0x10d16ceb0>
                     └ <bound method BaseHTTPMiddleware.call_next of <starlette.middleware.base.BaseHTTPMiddleware object at 0x10d156a30>>

  File "/Library/Python/3.8/site-packages/starlette/middleware/base.py", line 45, in call_next
    task.result()
    │    └ <method 'result' of '_asyncio.Task' objects>
    └ <Task finished name='Task-6' coro=<BaseHTTPMiddleware.call_next.<locals>.coro() done, defined at /Library/Python/3.8/site-pac...
  File "/Library/Python/3.8/site-packages/starlette/middleware/base.py", line 38, in coro
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method Queue.put of <Queue at 0x10d16cb20 maxsize=0 tasks=1>>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10d16ce20>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x10d156a00>
          └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x10d156a30>
  File "/Library/Python/3.8/site-packages/starlette/middleware/cors.py", line 78, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method Queue.put of <Queue at 0x10d16cb20 maxsize=0 tasks=1>>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10d16ce20>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x10d1569a0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x10d156a00>
  File "/Library/Python/3.8/site-packages/starlette/exceptions.py", line 82, in __call__
    raise exc from None
  File "/Library/Python/3.8/site-packages/starlette/exceptions.py", line 71, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x10d1840d0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10d16ce20>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x10cef6cd0>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x10d1569a0>
  File "/Library/Python/3.8/site-packages/starlette/routing.py", line 580, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x10d1840d0>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10d16ce20>>
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │     └ <function Route.handle at 0x10c68faf0>
          └ <fastapi.routing.APIRoute object at 0x10d146880>
  File "/Library/Python/3.8/site-packages/starlette/routing.py", line 241, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x10d1840d0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10d16ce20>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <function request_response.<locals>.app at 0x10d142ca0>
          └ <fastapi.routing.APIRoute object at 0x10d146880>
  File "/Library/Python/3.8/site-packages/starlette/routing.py", line 52, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x10d16c9a0>
                     └ <function get_request_handler.<locals>.app at 0x10d142c10>
  File "/Library/Python/3.8/site-packages/fastapi/routing.py", line 214, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x10c67ab80>
  File "/Library/Python/3.8/site-packages/fastapi/routing.py", line 149, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'request': <starlette.requests.Request object at 0x10d16c9a0>}
                 │         └ <function action at 0x10d01e670>
                 └ <fastapi.dependencies.models.Dependant object at 0x10d146970>

  File "./app/routers/conversation.py", line 10, in action
    return await controller.index(request)
                 │          │     └ <starlette.requests.Request object at 0x10d16c9a0>
                 │          └ <staticmethod object at 0x10cfba7c0>
                 └ <class 'app.controllers.Conversation.Conversation'>

  File "./app/controllers/Conversation.py", line 194, in index
    agent = WebhookClient(req)
            │             └ {'responseId': 'f921febc-c3a6-4c1b-8957-693aaaaafaea-046d94d0', 'queryResult': {'action': 'input.unknown', 'parameters': {}, ...
            └ <class 'dialogflow_fulfillment.webhook_client.WebhookClient'>

  File "/Library/Python/3.8/site-packages/dialogflow_fulfillment/webhook_client.py", line 52, in __init__
    self._process_request(request)
    │    │                └ {'responseId': 'f921febc-c3a6-4c1b-8957-693aaaaafaea-046d94d0', 'queryResult': {'action': 'input.unknown', 'parameters': {}, ...
    │    └ <function WebhookClient._process_request at 0x10cfcf550>
    └ <dialogflow_fulfillment.webhook_client.WebhookClient object at 0x10d16cfd0>
  File "/Library/Python/3.8/site-packages/dialogflow_fulfillment/webhook_client.py", line 69, in _process_request
    self.query = query_result['queryText']
    │            └ {'action': 'input.unknown', 'parameters': {}, 'allRequiredParamsPresent': True, 'fulfillmentText': 'Maaf, bisa diulangi?', 'f...
    └ <dialogflow_fulfillment.webhook_client.WebhookClient object at 0x10d16cfd0>

KeyError: 'queryText'
ERROR    2021-07-27 22:11:32.886 request id: app - uvicorn.protocols.http.h11_impl:run_asgi - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 5
               │     └ 8
               └ <function _main at 0x10ba540d0>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 5
           │    └ <function BaseProcess._bootstrap at 0x10b827b80>
           └ <SpawnProcess name='SpawnProcess-12' parent=7596 started>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x10b8271f0>
    └ <SpawnProcess name='SpawnProcess-12' parent=7596 started>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x10babb100>, 'target': <bound method Server.run of <uvicorn.server.Server object...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-12' parent=7596 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-12' parent=7596 started>
    │    └ <function subprocess_started at 0x10c093670>
    └ <SpawnProcess name='SpawnProcess-12' parent=7596 started>
  File "/Library/Python/3.8/site-packages/uvicorn/subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=4, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 5000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x10babb1f0>>
  File "/Library/Python/3.8/site-packages/uvicorn/server.py", line 50, in run
    loop.run_until_complete(self.serve(sockets=sockets))
    │    │                  │    │             └ [<socket.socket fd=4, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 5000)>]
    │    │                  │    └ <function Server.serve at 0x10c090c10>
    │    │                  └ <uvicorn.server.Server object at 0x10babb1f0>
    │    └ <function BaseEventLoop.run_until_complete at 0x10bd4d790>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/asyncio/base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x10bd4d700>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/asyncio/base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x10bd4f280>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/asyncio/base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x10bc82160>
    └ <Handle <TaskWakeupMethWrapper object at 0x10d16cb80>(<Future finished result=None>)>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/asyncio/events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x10d16cb80>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x10d16cb80>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x10d16cb80>(<Future finished result=None>)>
> File "/Library/Python/3.8/site-packages/uvicorn/protocols/http/h11_impl.py", line 369, in run_asgi
    result = await app(self.scope, self.receive, self.send)
                   │   │    │      │    │        │    └ <function RequestResponseCycle.send at 0x10c207310>
                   │   │    │      │    │        └ <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10d16ce20>
                   │   │    │      │    └ <function RequestResponseCycle.receive at 0x10c2073a0>
                   │   │    │      └ <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10d16ce20>
                   │   │    └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
                   │   └ <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10d16ce20>
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x10c1b3370>
  File "/Library/Python/3.8/site-packages/uvicorn/middleware/proxy_headers.py", line 59, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10d16ce20>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10d16ce20>>
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x10c1e6040>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x10c1b3370>
  File "/Library/Python/3.8/site-packages/fastapi/applications.py", line 199, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10d16ce20>>
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10d16ce20>>
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
  File "/Library/Python/3.8/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10d16ce20>>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10d16ce20>>
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x10d156a90>
          └ <fastapi.applications.FastAPI object at 0x10c1e6040>
  File "/Library/Python/3.8/site-packages/starlette/middleware/errors.py", line 181, in __call__
    raise exc from None
  File "/Library/Python/3.8/site-packages/starlette/middleware/errors.py", line 159, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x10d151f70>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10d16ce20>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x10d156a30>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x10d156a90>
  File "/Library/Python/3.8/site-packages/starlette/middleware/base.py", line 25, in __call__
    response = await self.dispatch_func(request, self.call_next)
                     │    │             │        │    └ <function BaseHTTPMiddleware.call_next at 0x10c6c2940>
                     │    │             │        └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x10d156a30>
                     │    │             └ <starlette.requests.Request object at 0x10d16ceb0>
                     │    └ <function add_process_time_header at 0x10d151d30>
                     └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x10d156a30>

  File "./app/__init__.py", line 65, in add_process_time_header
    response = await call_next(request)
                     │         └ <starlette.requests.Request object at 0x10d16ceb0>
                     └ <bound method BaseHTTPMiddleware.call_next of <starlette.middleware.base.BaseHTTPMiddleware object at 0x10d156a30>>

  File "/Library/Python/3.8/site-packages/starlette/middleware/base.py", line 45, in call_next
    task.result()
    │    └ <method 'result' of '_asyncio.Task' objects>
    └ <Task finished name='Task-6' coro=<BaseHTTPMiddleware.call_next.<locals>.coro() done, defined at /Library/Python/3.8/site-pac...
  File "/Library/Python/3.8/site-packages/starlette/middleware/base.py", line 38, in coro
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method Queue.put of <Queue at 0x10d16cb20 maxsize=0 tasks=1>>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10d16ce20>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x10d156a00>
          └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x10d156a30>
  File "/Library/Python/3.8/site-packages/starlette/middleware/cors.py", line 78, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method Queue.put of <Queue at 0x10d16cb20 maxsize=0 tasks=1>>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10d16ce20>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x10d1569a0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x10d156a00>
  File "/Library/Python/3.8/site-packages/starlette/exceptions.py", line 82, in __call__
    raise exc from None
  File "/Library/Python/3.8/site-packages/starlette/exceptions.py", line 71, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x10d1840d0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10d16ce20>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x10cef6cd0>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x10d1569a0>
  File "/Library/Python/3.8/site-packages/starlette/routing.py", line 580, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x10d1840d0>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10d16ce20>>
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │     └ <function Route.handle at 0x10c68faf0>
          └ <fastapi.routing.APIRoute object at 0x10d146880>
  File "/Library/Python/3.8/site-packages/starlette/routing.py", line 241, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x10d1840d0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10d16ce20>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <function request_response.<locals>.app at 0x10d142ca0>
          └ <fastapi.routing.APIRoute object at 0x10d146880>
  File "/Library/Python/3.8/site-packages/starlette/routing.py", line 52, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x10d16c9a0>
                     └ <function get_request_handler.<locals>.app at 0x10d142c10>
  File "/Library/Python/3.8/site-packages/fastapi/routing.py", line 214, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x10c67ab80>
  File "/Library/Python/3.8/site-packages/fastapi/routing.py", line 149, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'request': <starlette.requests.Request object at 0x10d16c9a0>}
                 │         └ <function action at 0x10d01e670>
                 └ <fastapi.dependencies.models.Dependant object at 0x10d146970>

  File "./app/routers/conversation.py", line 10, in action
    return await controller.index(request)
                 │          │     └ <starlette.requests.Request object at 0x10d16c9a0>
                 │          └ <staticmethod object at 0x10cfba7c0>
                 └ <class 'app.controllers.Conversation.Conversation'>

  File "./app/controllers/Conversation.py", line 194, in index
    agent = WebhookClient(req)
            │             └ {'responseId': 'f921febc-c3a6-4c1b-8957-693aaaaafaea-046d94d0', 'queryResult': {'action': 'input.unknown', 'parameters': {}, ...
            └ <class 'dialogflow_fulfillment.webhook_client.WebhookClient'>

  File "/Library/Python/3.8/site-packages/dialogflow_fulfillment/webhook_client.py", line 52, in __init__
    self._process_request(request)
    │    │                └ {'responseId': 'f921febc-c3a6-4c1b-8957-693aaaaafaea-046d94d0', 'queryResult': {'action': 'input.unknown', 'parameters': {}, ...
    │    └ <function WebhookClient._process_request at 0x10cfcf550>
    └ <dialogflow_fulfillment.webhook_client.WebhookClient object at 0x10d16cfd0>
  File "/Library/Python/3.8/site-packages/dialogflow_fulfillment/webhook_client.py", line 69, in _process_request
    self.query = query_result['queryText']
    │            └ {'action': 'input.unknown', 'parameters': {}, 'allRequiredParamsPresent': True, 'fulfillmentText': 'Maaf, bisa diulangi?', 'f...
    └ <dialogflow_fulfillment.webhook_client.WebhookClient object at 0x10d16cfd0>

KeyError: 'queryText'
ERROR    2021-07-27 22:11:32.902 request id: app - uvicorn.protocols.http.h11_impl:run_asgi - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 5
               │     └ 8
               └ <function _main at 0x10ba540d0>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 5
           │    └ <function BaseProcess._bootstrap at 0x10b827b80>
           └ <SpawnProcess name='SpawnProcess-12' parent=7596 started>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x10b8271f0>
    └ <SpawnProcess name='SpawnProcess-12' parent=7596 started>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x10babb100>, 'target': <bound method Server.run of <uvicorn.server.Server object...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-12' parent=7596 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-12' parent=7596 started>
    │    └ <function subprocess_started at 0x10c093670>
    └ <SpawnProcess name='SpawnProcess-12' parent=7596 started>
  File "/Library/Python/3.8/site-packages/uvicorn/subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=4, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 5000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x10babb1f0>>
  File "/Library/Python/3.8/site-packages/uvicorn/server.py", line 50, in run
    loop.run_until_complete(self.serve(sockets=sockets))
    │    │                  │    │             └ [<socket.socket fd=4, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 5000)>]
    │    │                  │    └ <function Server.serve at 0x10c090c10>
    │    │                  └ <uvicorn.server.Server object at 0x10babb1f0>
    │    └ <function BaseEventLoop.run_until_complete at 0x10bd4d790>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/asyncio/base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x10bd4d700>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/asyncio/base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x10bd4f280>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/asyncio/base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x10bc82160>
    └ <Handle <TaskWakeupMethWrapper object at 0x10d16cb80>(<Future finished result=None>)>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/asyncio/events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x10d16cb80>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x10d16cb80>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x10d16cb80>(<Future finished result=None>)>
> File "/Library/Python/3.8/site-packages/uvicorn/protocols/http/h11_impl.py", line 369, in run_asgi
    result = await app(self.scope, self.receive, self.send)
                   │   │    │      │    │        │    └ <function RequestResponseCycle.send at 0x10c207310>
                   │   │    │      │    │        └ <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10d16ce20>
                   │   │    │      │    └ <function RequestResponseCycle.receive at 0x10c2073a0>
                   │   │    │      └ <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10d16ce20>
                   │   │    └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
                   │   └ <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10d16ce20>
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x10c1b3370>
  File "/Library/Python/3.8/site-packages/uvicorn/middleware/proxy_headers.py", line 59, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10d16ce20>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10d16ce20>>
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x10c1e6040>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x10c1b3370>
  File "/Library/Python/3.8/site-packages/fastapi/applications.py", line 199, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10d16ce20>>
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10d16ce20>>
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
  File "/Library/Python/3.8/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10d16ce20>>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10d16ce20>>
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x10d156a90>
          └ <fastapi.applications.FastAPI object at 0x10c1e6040>
  File "/Library/Python/3.8/site-packages/starlette/middleware/errors.py", line 181, in __call__
    raise exc from None
  File "/Library/Python/3.8/site-packages/starlette/middleware/errors.py", line 159, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x10d151f70>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10d16ce20>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x10d156a30>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x10d156a90>
  File "/Library/Python/3.8/site-packages/starlette/middleware/base.py", line 25, in __call__
    response = await self.dispatch_func(request, self.call_next)
                     │    │             │        │    └ <function BaseHTTPMiddleware.call_next at 0x10c6c2940>
                     │    │             │        └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x10d156a30>
                     │    │             └ <starlette.requests.Request object at 0x10d16ceb0>
                     │    └ <function add_process_time_header at 0x10d151d30>
                     └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x10d156a30>

  File "./app/__init__.py", line 65, in add_process_time_header
    response = await call_next(request)
                     │         └ <starlette.requests.Request object at 0x10d16ceb0>
                     └ <bound method BaseHTTPMiddleware.call_next of <starlette.middleware.base.BaseHTTPMiddleware object at 0x10d156a30>>

  File "/Library/Python/3.8/site-packages/starlette/middleware/base.py", line 45, in call_next
    task.result()
    │    └ <method 'result' of '_asyncio.Task' objects>
    └ <Task finished name='Task-6' coro=<BaseHTTPMiddleware.call_next.<locals>.coro() done, defined at /Library/Python/3.8/site-pac...
  File "/Library/Python/3.8/site-packages/starlette/middleware/base.py", line 38, in coro
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method Queue.put of <Queue at 0x10d16cb20 maxsize=0 tasks=1>>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10d16ce20>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x10d156a00>
          └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x10d156a30>
  File "/Library/Python/3.8/site-packages/starlette/middleware/cors.py", line 78, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method Queue.put of <Queue at 0x10d16cb20 maxsize=0 tasks=1>>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10d16ce20>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x10d1569a0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x10d156a00>
  File "/Library/Python/3.8/site-packages/starlette/exceptions.py", line 82, in __call__
    raise exc from None
  File "/Library/Python/3.8/site-packages/starlette/exceptions.py", line 71, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x10d1840d0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10d16ce20>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x10cef6cd0>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x10d1569a0>
  File "/Library/Python/3.8/site-packages/starlette/routing.py", line 580, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x10d1840d0>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10d16ce20>>
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │     └ <function Route.handle at 0x10c68faf0>
          └ <fastapi.routing.APIRoute object at 0x10d146880>
  File "/Library/Python/3.8/site-packages/starlette/routing.py", line 241, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x10d1840d0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10d16ce20>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <function request_response.<locals>.app at 0x10d142ca0>
          └ <fastapi.routing.APIRoute object at 0x10d146880>
  File "/Library/Python/3.8/site-packages/starlette/routing.py", line 52, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x10d16c9a0>
                     └ <function get_request_handler.<locals>.app at 0x10d142c10>
  File "/Library/Python/3.8/site-packages/fastapi/routing.py", line 214, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x10c67ab80>
  File "/Library/Python/3.8/site-packages/fastapi/routing.py", line 149, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'request': <starlette.requests.Request object at 0x10d16c9a0>}
                 │         └ <function action at 0x10d01e670>
                 └ <fastapi.dependencies.models.Dependant object at 0x10d146970>

  File "./app/routers/conversation.py", line 10, in action
    return await controller.index(request)
                 │          │     └ <starlette.requests.Request object at 0x10d16c9a0>
                 │          └ <staticmethod object at 0x10cfba7c0>
                 └ <class 'app.controllers.Conversation.Conversation'>

  File "./app/controllers/Conversation.py", line 194, in index
    agent = WebhookClient(req)
            │             └ {'responseId': 'f921febc-c3a6-4c1b-8957-693aaaaafaea-046d94d0', 'queryResult': {'action': 'input.unknown', 'parameters': {}, ...
            └ <class 'dialogflow_fulfillment.webhook_client.WebhookClient'>

  File "/Library/Python/3.8/site-packages/dialogflow_fulfillment/webhook_client.py", line 52, in __init__
    self._process_request(request)
    │    │                └ {'responseId': 'f921febc-c3a6-4c1b-8957-693aaaaafaea-046d94d0', 'queryResult': {'action': 'input.unknown', 'parameters': {}, ...
    │    └ <function WebhookClient._process_request at 0x10cfcf550>
    └ <dialogflow_fulfillment.webhook_client.WebhookClient object at 0x10d16cfd0>
  File "/Library/Python/3.8/site-packages/dialogflow_fulfillment/webhook_client.py", line 69, in _process_request
    self.query = query_result['queryText']
    │            └ {'action': 'input.unknown', 'parameters': {}, 'allRequiredParamsPresent': True, 'fulfillmentText': 'Maaf, bisa diulangi?', 'f...
    └ <dialogflow_fulfillment.webhook_client.WebhookClient object at 0x10d16cfd0>

KeyError: 'queryText'
INFO     2021-07-27 22:11:40.608 request id: app - uvicorn.protocols.http.h11_impl:send - 66.249.83.83:0 - "POST /webhook HTTP/1.1" 200
INFO     2021-07-27 22:11:45.195 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2021-07-27 22:11:45.197 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2021-07-27 22:11:45.198 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2021-07-27 22:11:45.299 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2021-07-27 22:11:45.299 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2021-07-27 22:11:45.299 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2021-07-27 22:11:45.301 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2021-07-27 22:11:45.302 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2021-07-27 22:11:45.302 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2021-07-27 22:11:45.302 request id: app - uvicorn.server:serve - Finished server process [9780]
INFO     2021-07-27 22:11:45.302 request id: app - uvicorn.server:serve - Finished server process [9780]
INFO     2021-07-27 22:11:45.302 request id: app - uvicorn.server:serve - Finished server process [9780]
INFO     2021-07-27 22:11:45.922 request id: app - uvicorn.server:serve - Started server process [9787]
INFO     2021-07-27 22:11:45.923 request id: app - uvicorn.server:serve - Started server process [9787]
INFO     2021-07-27 22:11:45.923 request id: app - uvicorn.server:serve - Started server process [9787]
INFO     2021-07-27 22:11:45.923 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2021-07-27 22:11:45.923 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2021-07-27 22:11:45.923 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2021-07-27 22:11:45.924 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2021-07-27 22:11:45.924 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2021-07-27 22:11:45.924 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2021-07-27 22:11:52.012 request id: app - uvicorn.protocols.http.h11_impl:send - 66.249.83.83:0 - "POST /webhook HTTP/1.1" 200
INFO     2021-07-27 22:12:45.515 request id: app - uvicorn.protocols.http.h11_impl:send - 66.249.83.89:0 - "POST /webhook HTTP/1.1" 200
INFO     2021-07-27 22:13:03.547 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2021-07-27 22:13:03.548 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2021-07-27 22:13:03.548 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2021-07-27 22:13:03.653 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2021-07-27 22:13:03.653 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2021-07-27 22:13:03.653 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2021-07-27 22:13:03.654 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2021-07-27 22:13:03.654 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2021-07-27 22:13:03.655 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2021-07-27 22:13:03.655 request id: app - uvicorn.server:serve - Finished server process [9787]
INFO     2021-07-27 22:13:03.655 request id: app - uvicorn.server:serve - Finished server process [9787]
INFO     2021-07-27 22:13:03.655 request id: app - uvicorn.server:serve - Finished server process [9787]
INFO     2021-07-27 22:13:04.470 request id: app - uvicorn.server:serve - Started server process [9807]
INFO     2021-07-27 22:13:04.471 request id: app - uvicorn.server:serve - Started server process [9807]
INFO     2021-07-27 22:13:04.471 request id: app - uvicorn.server:serve - Started server process [9807]
INFO     2021-07-27 22:13:04.471 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2021-07-27 22:13:04.471 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2021-07-27 22:13:04.471 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2021-07-27 22:13:04.472 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2021-07-27 22:13:04.472 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2021-07-27 22:13:04.472 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2021-07-27 22:13:13.250 request id: app - uvicorn.protocols.http.h11_impl:send - 66.249.83.82:0 - "POST /webhook HTTP/1.1" 200
INFO     2021-07-27 22:13:56.728 request id: app - uvicorn.protocols.http.h11_impl:send - 66.249.83.84:0 - "POST /webhook HTTP/1.1" 200
INFO     2021-07-27 22:16:24.552 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2021-07-27 22:16:24.553 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2021-07-27 22:16:24.553 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2021-07-27 22:16:24.654 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2021-07-27 22:16:24.654 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2021-07-27 22:16:24.655 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2021-07-27 22:16:24.656 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2021-07-27 22:16:24.658 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2021-07-27 22:16:24.658 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2021-07-27 22:16:24.659 request id: app - uvicorn.server:serve - Finished server process [9807]
INFO     2021-07-27 22:16:24.659 request id: app - uvicorn.server:serve - Finished server process [9807]
INFO     2021-07-27 22:16:24.659 request id: app - uvicorn.server:serve - Finished server process [9807]
INFO     2021-07-27 22:16:25.696 request id: app - uvicorn.server:serve - Started server process [9820]
INFO     2021-07-27 22:16:25.696 request id: app - uvicorn.server:serve - Started server process [9820]
INFO     2021-07-27 22:16:25.696 request id: app - uvicorn.server:serve - Started server process [9820]
INFO     2021-07-27 22:16:25.696 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2021-07-27 22:16:25.697 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2021-07-27 22:16:25.697 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2021-07-27 22:16:25.698 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2021-07-27 22:16:25.698 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2021-07-27 22:16:25.698 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2021-07-27 22:16:32.500 request id: app - uvicorn.protocols.http.h11_impl:send - 66.249.83.84:0 - "POST /webhook HTTP/1.1" 200
INFO     2021-07-27 22:16:46.533 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2021-07-27 22:16:46.533 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2021-07-27 22:16:46.534 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2021-07-27 22:16:46.639 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2021-07-27 22:16:46.639 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2021-07-27 22:16:46.640 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2021-07-27 22:16:46.640 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2021-07-27 22:16:46.641 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2021-07-27 22:16:46.641 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2021-07-27 22:16:46.641 request id: app - uvicorn.server:serve - Finished server process [9820]
INFO     2021-07-27 22:16:46.641 request id: app - uvicorn.server:serve - Finished server process [9820]
INFO     2021-07-27 22:16:46.642 request id: app - uvicorn.server:serve - Finished server process [9820]
INFO     2021-07-27 22:16:47.260 request id: app - uvicorn.server:serve - Started server process [9828]
INFO     2021-07-27 22:16:47.260 request id: app - uvicorn.server:serve - Started server process [9828]
INFO     2021-07-27 22:16:47.260 request id: app - uvicorn.server:serve - Started server process [9828]
INFO     2021-07-27 22:16:47.261 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2021-07-27 22:16:47.261 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2021-07-27 22:16:47.261 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2021-07-27 22:16:47.262 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2021-07-27 22:16:47.262 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2021-07-27 22:16:47.262 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2021-07-27 22:17:45.965 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2021-07-27 22:17:45.966 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2021-07-27 22:17:45.966 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2021-07-27 22:17:46.072 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2021-07-27 22:17:46.072 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2021-07-27 22:17:46.072 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2021-07-27 22:17:46.073 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2021-07-27 22:17:46.074 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2021-07-27 22:17:46.074 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2021-07-27 22:17:46.074 request id: app - uvicorn.server:serve - Finished server process [9828]
INFO     2021-07-27 22:17:46.074 request id: app - uvicorn.server:serve - Finished server process [9828]
INFO     2021-07-27 22:17:46.074 request id: app - uvicorn.server:serve - Finished server process [9828]
INFO     2021-07-27 22:17:46.673 request id: app - uvicorn.server:serve - Started server process [9840]
INFO     2021-07-27 22:17:46.674 request id: app - uvicorn.server:serve - Started server process [9840]
INFO     2021-07-27 22:17:46.674 request id: app - uvicorn.server:serve - Started server process [9840]
INFO     2021-07-27 22:17:46.674 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2021-07-27 22:17:46.674 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2021-07-27 22:17:46.674 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2021-07-27 22:17:46.675 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2021-07-27 22:17:46.676 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2021-07-27 22:17:46.676 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2021-07-27 22:17:57.505 request id: app - uvicorn.protocols.http.h11_impl:send - 66.249.83.83:0 - "POST /webhook HTTP/1.1" 200
INFO     2021-07-27 22:18:31.684 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2021-07-27 22:18:31.686 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2021-07-27 22:18:31.686 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2021-07-27 22:18:31.789 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2021-07-27 22:18:31.790 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2021-07-27 22:18:31.790 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2021-07-27 22:18:31.791 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2021-07-27 22:18:31.791 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2021-07-27 22:18:31.791 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2021-07-27 22:18:31.791 request id: app - uvicorn.server:serve - Finished server process [9840]
INFO     2021-07-27 22:18:31.792 request id: app - uvicorn.server:serve - Finished server process [9840]
INFO     2021-07-27 22:18:31.792 request id: app - uvicorn.server:serve - Finished server process [9840]
INFO     2021-07-27 22:18:32.532 request id: app - uvicorn.server:serve - Started server process [9850]
INFO     2021-07-27 22:18:32.532 request id: app - uvicorn.server:serve - Started server process [9850]
INFO     2021-07-27 22:18:32.532 request id: app - uvicorn.server:serve - Started server process [9850]
INFO     2021-07-27 22:18:32.532 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2021-07-27 22:18:32.533 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2021-07-27 22:18:32.533 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2021-07-27 22:18:32.534 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2021-07-27 22:18:32.534 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2021-07-27 22:18:32.534 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2021-07-27 22:18:37.167 request id: app - uvicorn.protocols.http.h11_impl:send - 66.249.83.83:0 - "POST /webhook HTTP/1.1" 200
INFO     2021-07-27 22:18:41.567 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2021-07-27 22:18:41.567 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2021-07-27 22:18:41.567 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2021-07-27 22:18:41.673 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2021-07-27 22:18:41.674 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2021-07-27 22:18:41.674 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2021-07-27 22:18:41.675 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2021-07-27 22:18:41.675 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2021-07-27 22:18:41.675 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2021-07-27 22:18:41.675 request id: app - uvicorn.server:serve - Finished server process [9850]
INFO     2021-07-27 22:18:41.675 request id: app - uvicorn.server:serve - Finished server process [9850]
INFO     2021-07-27 22:18:41.676 request id: app - uvicorn.server:serve - Finished server process [9850]
INFO     2021-07-27 22:18:42.564 request id: app - uvicorn.server:serve - Started server process [9856]
INFO     2021-07-27 22:18:42.564 request id: app - uvicorn.server:serve - Started server process [9856]
INFO     2021-07-27 22:18:42.565 request id: app - uvicorn.server:serve - Started server process [9856]
INFO     2021-07-27 22:18:42.565 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2021-07-27 22:18:42.565 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2021-07-27 22:18:42.565 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2021-07-27 22:18:42.566 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2021-07-27 22:18:42.567 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2021-07-27 22:18:42.567 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2021-07-27 22:18:56.427 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2021-07-27 22:18:56.427 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2021-07-27 22:18:56.428 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2021-07-27 22:18:56.533 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2021-07-27 22:18:56.533 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2021-07-27 22:18:56.534 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2021-07-27 22:18:56.535 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2021-07-27 22:18:56.535 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2021-07-27 22:18:56.535 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2021-07-27 22:18:56.535 request id: app - uvicorn.server:serve - Finished server process [9856]
INFO     2021-07-27 22:18:56.535 request id: app - uvicorn.server:serve - Finished server process [9856]
INFO     2021-07-27 22:18:56.536 request id: app - uvicorn.server:serve - Finished server process [9856]
INFO     2021-07-27 22:18:57.099 request id: app - uvicorn.server:serve - Started server process [9861]
INFO     2021-07-27 22:18:57.099 request id: app - uvicorn.server:serve - Started server process [9861]
INFO     2021-07-27 22:18:57.099 request id: app - uvicorn.server:serve - Started server process [9861]
INFO     2021-07-27 22:18:57.100 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2021-07-27 22:18:57.100 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2021-07-27 22:18:57.100 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2021-07-27 22:18:57.101 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2021-07-27 22:18:57.101 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2021-07-27 22:18:57.101 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2021-07-27 22:19:00.958 request id: app - uvicorn.protocols.http.h11_impl:send - 66.249.83.84:0 - "POST /webhook HTTP/1.1" 200
INFO     2021-07-27 22:19:11.246 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2021-07-27 22:19:11.247 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2021-07-27 22:19:11.252 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2021-07-27 22:19:11.356 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2021-07-27 22:19:11.356 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2021-07-27 22:19:11.356 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2021-07-27 22:19:11.357 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2021-07-27 22:19:11.357 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2021-07-27 22:19:11.357 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2021-07-27 22:19:11.358 request id: app - uvicorn.server:serve - Finished server process [9861]
INFO     2021-07-27 22:19:11.358 request id: app - uvicorn.server:serve - Finished server process [9861]
INFO     2021-07-27 22:19:11.358 request id: app - uvicorn.server:serve - Finished server process [9861]
INFO     2021-07-27 22:19:12.213 request id: app - uvicorn.server:serve - Started server process [9866]
INFO     2021-07-27 22:19:12.213 request id: app - uvicorn.server:serve - Started server process [9866]
INFO     2021-07-27 22:19:12.213 request id: app - uvicorn.server:serve - Started server process [9866]
INFO     2021-07-27 22:19:12.213 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2021-07-27 22:19:12.213 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2021-07-27 22:19:12.214 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2021-07-27 22:19:12.215 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2021-07-27 22:19:12.215 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2021-07-27 22:19:12.215 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2021-07-27 22:19:15.143 request id: app - uvicorn.protocols.http.h11_impl:send - 66.249.83.68:0 - "POST /webhook HTTP/1.1" 200
INFO     2021-07-27 22:20:05.826 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2021-07-27 22:20:05.827 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2021-07-27 22:20:05.827 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2021-07-27 22:20:05.933 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2021-07-27 22:20:05.933 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2021-07-27 22:20:05.933 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2021-07-27 22:20:05.934 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2021-07-27 22:20:05.934 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2021-07-27 22:20:05.934 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2021-07-27 22:20:05.935 request id: app - uvicorn.server:serve - Finished server process [9866]
INFO     2021-07-27 22:20:05.935 request id: app - uvicorn.server:serve - Finished server process [9866]
INFO     2021-07-27 22:20:05.935 request id: app - uvicorn.server:serve - Finished server process [9866]
INFO     2021-07-27 22:20:06.532 request id: app - uvicorn.server:serve - Started server process [9873]
INFO     2021-07-27 22:20:06.533 request id: app - uvicorn.server:serve - Started server process [9873]
INFO     2021-07-27 22:20:06.533 request id: app - uvicorn.server:serve - Started server process [9873]
INFO     2021-07-27 22:20:06.533 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2021-07-27 22:20:06.533 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2021-07-27 22:20:06.533 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2021-07-27 22:20:06.534 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2021-07-27 22:20:06.534 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2021-07-27 22:20:06.534 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2021-07-27 22:20:12.951 request id: app - uvicorn.protocols.http.h11_impl:send - 66.249.83.70:0 - "POST /webhook HTTP/1.1" 200
INFO     2021-07-27 22:24:08.503 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2021-07-27 22:24:08.504 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2021-07-27 22:24:08.504 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2021-07-27 22:24:08.610 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2021-07-27 22:24:08.610 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2021-07-27 22:24:08.611 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2021-07-27 22:24:08.611 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2021-07-27 22:24:08.612 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2021-07-27 22:24:08.612 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2021-07-27 22:24:08.612 request id: app - uvicorn.server:serve - Finished server process [9873]
INFO     2021-07-27 22:24:08.613 request id: app - uvicorn.server:serve - Finished server process [9873]
INFO     2021-07-27 22:24:08.613 request id: app - uvicorn.server:serve - Finished server process [9873]
INFO     2021-07-27 22:24:09.415 request id: app - uvicorn.server:serve - Started server process [9888]
INFO     2021-07-27 22:24:09.416 request id: app - uvicorn.server:serve - Started server process [9888]
INFO     2021-07-27 22:24:09.416 request id: app - uvicorn.server:serve - Started server process [9888]
INFO     2021-07-27 22:24:09.416 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2021-07-27 22:24:09.416 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2021-07-27 22:24:09.416 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2021-07-27 22:24:09.417 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2021-07-27 22:24:09.417 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2021-07-27 22:24:09.417 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2021-07-27 22:24:16.312 request id: app - uvicorn.protocols.http.h11_impl:send - 66.249.83.91:0 - "POST /webhook HTTP/1.1" 200
INFO     2021-07-27 22:24:26.142 request id: app - uvicorn.protocols.http.h11_impl:send - 66.249.83.89:0 - "POST /webhook HTTP/1.1" 200
INFO     2021-07-27 22:24:35.329 request id: app - uvicorn.protocols.http.h11_impl:send - 66.249.83.82:0 - "POST /webhook HTTP/1.1" 200
INFO     2021-07-27 22:25:03.406 request id: app - uvicorn.protocols.http.h11_impl:send - 66.249.83.83:0 - "POST /webhook HTTP/1.1" 500
ERROR    2021-07-27 22:25:03.409 request id: app - uvicorn.protocols.http.h11_impl:run_asgi - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 5
               │     └ 8
               └ <function _main at 0x10b3f20d0>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 5
           │    └ <function BaseProcess._bootstrap at 0x10b1c5b80>
           └ <SpawnProcess name='SpawnProcess-23' parent=7596 started>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x10b1c51f0>
    └ <SpawnProcess name='SpawnProcess-23' parent=7596 started>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x10b459100>, 'target': <bound method Server.run of <uvicorn.server.Server object...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-23' parent=7596 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-23' parent=7596 started>
    │    └ <function subprocess_started at 0x10ba31670>
    └ <SpawnProcess name='SpawnProcess-23' parent=7596 started>
  File "/Library/Python/3.8/site-packages/uvicorn/subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=4, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 5000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x10b4591f0>>
  File "/Library/Python/3.8/site-packages/uvicorn/server.py", line 50, in run
    loop.run_until_complete(self.serve(sockets=sockets))
    │    │                  │    │             └ [<socket.socket fd=4, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 5000)>]
    │    │                  │    └ <function Server.serve at 0x10ba2ec10>
    │    │                  └ <uvicorn.server.Server object at 0x10b4591f0>
    │    └ <function BaseEventLoop.run_until_complete at 0x10b6eb790>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/asyncio/base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x10b6eb700>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/asyncio/base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x10b6ed280>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/asyncio/base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x10b620160>
    └ <Handle <TaskWakeupMethWrapper object at 0x10cb5a130>(<Future finished result=None>)>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/asyncio/events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x10cb5a130>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x10cb5a130>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x10cb5a130>(<Future finished result=None>)>
> File "/Library/Python/3.8/site-packages/uvicorn/protocols/http/h11_impl.py", line 369, in run_asgi
    result = await app(self.scope, self.receive, self.send)
                   │   │    │      │    │        │    └ <function RequestResponseCycle.send at 0x10bba5310>
                   │   │    │      │    │        └ <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cb5a670>
                   │   │    │      │    └ <function RequestResponseCycle.receive at 0x10bba53a0>
                   │   │    │      └ <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cb5a670>
                   │   │    └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
                   │   └ <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cb5a670>
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x10bb51370>
  File "/Library/Python/3.8/site-packages/uvicorn/middleware/proxy_headers.py", line 59, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cb5a670>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cb5a670>>
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x10bba4040>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x10bb51370>
  File "/Library/Python/3.8/site-packages/fastapi/applications.py", line 199, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cb5a670>>
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cb5a670>>
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
  File "/Library/Python/3.8/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cb5a670>>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cb5a670>>
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x10c8c2a90>
          └ <fastapi.applications.FastAPI object at 0x10bba4040>
  File "/Library/Python/3.8/site-packages/starlette/middleware/errors.py", line 181, in __call__
    raise exc from None
  File "/Library/Python/3.8/site-packages/starlette/middleware/errors.py", line 159, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x10cb21310>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cb5a670>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x10c8c2a30>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x10c8c2a90>
  File "/Library/Python/3.8/site-packages/starlette/middleware/base.py", line 25, in __call__
    response = await self.dispatch_func(request, self.call_next)
                     │    │             │        │    └ <function BaseHTTPMiddleware.call_next at 0x10c060940>
                     │    │             │        └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x10c8c2a30>
                     │    │             └ <starlette.requests.Request object at 0x10cb27970>
                     │    └ <function add_process_time_header at 0x10caefd30>
                     └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x10c8c2a30>

  File "./app/__init__.py", line 65, in add_process_time_header
    response = await call_next(request)
                     │         └ <starlette.requests.Request object at 0x10cb27970>
                     └ <bound method BaseHTTPMiddleware.call_next of <starlette.middleware.base.BaseHTTPMiddleware object at 0x10c8c2a30>>

  File "/Library/Python/3.8/site-packages/starlette/middleware/base.py", line 45, in call_next
    task.result()
    │    └ <method 'result' of '_asyncio.Task' objects>
    └ <Task finished name='Task-24' coro=<BaseHTTPMiddleware.call_next.<locals>.coro() done, defined at /Library/Python/3.8/site-pa...
  File "/Library/Python/3.8/site-packages/starlette/middleware/base.py", line 38, in coro
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method Queue.put of <Queue at 0x10cb5a520 maxsize=0 tasks=1>>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cb5a670>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x10c8c2a00>
          └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x10c8c2a30>
  File "/Library/Python/3.8/site-packages/starlette/middleware/cors.py", line 78, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method Queue.put of <Queue at 0x10cb5a520 maxsize=0 tasks=1>>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cb5a670>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x10c8c29a0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x10c8c2a00>
  File "/Library/Python/3.8/site-packages/starlette/exceptions.py", line 82, in __call__
    raise exc from None
  File "/Library/Python/3.8/site-packages/starlette/exceptions.py", line 71, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x10cb210d0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cb5a670>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x10c894cd0>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x10c8c29a0>
  File "/Library/Python/3.8/site-packages/starlette/routing.py", line 580, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x10cb210d0>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cb5a670>>
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │     └ <function Route.handle at 0x10c02eaf0>
          └ <fastapi.routing.APIRoute object at 0x10cae4880>
  File "/Library/Python/3.8/site-packages/starlette/routing.py", line 241, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x10cb210d0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cb5a670>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <function request_response.<locals>.app at 0x10cae0ca0>
          └ <fastapi.routing.APIRoute object at 0x10cae4880>
  File "/Library/Python/3.8/site-packages/starlette/routing.py", line 52, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x10cb5a0d0>
                     └ <function get_request_handler.<locals>.app at 0x10cae0c10>
  File "/Library/Python/3.8/site-packages/fastapi/routing.py", line 214, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x10c019b80>
  File "/Library/Python/3.8/site-packages/fastapi/routing.py", line 149, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'request': <starlette.requests.Request object at 0x10cb5a0d0>}
                 │         └ <function action at 0x10c9c0670>
                 └ <fastapi.dependencies.models.Dependant object at 0x10cae4970>

  File "./app/routers/conversation.py", line 10, in action
    return await controller.index(request)
                 │          │     └ <starlette.requests.Request object at 0x10cb5a0d0>
                 │          └ <staticmethod object at 0x10c9577c0>
                 └ <class 'app.controllers.Conversation.Conversation'>

  File "./app/controllers/Conversation.py", line 194, in index
    agent = WebhookClient(req)
            │             └ {'responseId': '55347239-22be-45e0-a2f9-57c6cf3fa1fe-046d94d0', 'queryResult': {'action': 'input.unknown', 'parameters': {}, ...
            └ <class 'dialogflow_fulfillment.webhook_client.WebhookClient'>

  File "/Library/Python/3.8/site-packages/dialogflow_fulfillment/webhook_client.py", line 52, in __init__
    self._process_request(request)
    │    │                └ {'responseId': '55347239-22be-45e0-a2f9-57c6cf3fa1fe-046d94d0', 'queryResult': {'action': 'input.unknown', 'parameters': {}, ...
    │    └ <function WebhookClient._process_request at 0x10c96d550>
    └ <dialogflow_fulfillment.webhook_client.WebhookClient object at 0x10cb5a730>
  File "/Library/Python/3.8/site-packages/dialogflow_fulfillment/webhook_client.py", line 69, in _process_request
    self.query = query_result['queryText']
    │            └ {'action': 'input.unknown', 'parameters': {}, 'allRequiredParamsPresent': True, 'fulfillmentText': 'Bilang apa tadi?', 'fulfi...
    └ <dialogflow_fulfillment.webhook_client.WebhookClient object at 0x10cb5a730>

KeyError: 'queryText'
ERROR    2021-07-27 22:25:03.474 request id: app - uvicorn.protocols.http.h11_impl:run_asgi - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 5
               │     └ 8
               └ <function _main at 0x10b3f20d0>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 5
           │    └ <function BaseProcess._bootstrap at 0x10b1c5b80>
           └ <SpawnProcess name='SpawnProcess-23' parent=7596 started>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x10b1c51f0>
    └ <SpawnProcess name='SpawnProcess-23' parent=7596 started>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x10b459100>, 'target': <bound method Server.run of <uvicorn.server.Server object...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-23' parent=7596 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-23' parent=7596 started>
    │    └ <function subprocess_started at 0x10ba31670>
    └ <SpawnProcess name='SpawnProcess-23' parent=7596 started>
  File "/Library/Python/3.8/site-packages/uvicorn/subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=4, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 5000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x10b4591f0>>
  File "/Library/Python/3.8/site-packages/uvicorn/server.py", line 50, in run
    loop.run_until_complete(self.serve(sockets=sockets))
    │    │                  │    │             └ [<socket.socket fd=4, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 5000)>]
    │    │                  │    └ <function Server.serve at 0x10ba2ec10>
    │    │                  └ <uvicorn.server.Server object at 0x10b4591f0>
    │    └ <function BaseEventLoop.run_until_complete at 0x10b6eb790>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/asyncio/base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x10b6eb700>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/asyncio/base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x10b6ed280>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/asyncio/base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x10b620160>
    └ <Handle <TaskWakeupMethWrapper object at 0x10cb5a130>(<Future finished result=None>)>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/asyncio/events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x10cb5a130>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x10cb5a130>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x10cb5a130>(<Future finished result=None>)>
> File "/Library/Python/3.8/site-packages/uvicorn/protocols/http/h11_impl.py", line 369, in run_asgi
    result = await app(self.scope, self.receive, self.send)
                   │   │    │      │    │        │    └ <function RequestResponseCycle.send at 0x10bba5310>
                   │   │    │      │    │        └ <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cb5a670>
                   │   │    │      │    └ <function RequestResponseCycle.receive at 0x10bba53a0>
                   │   │    │      └ <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cb5a670>
                   │   │    └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
                   │   └ <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cb5a670>
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x10bb51370>
  File "/Library/Python/3.8/site-packages/uvicorn/middleware/proxy_headers.py", line 59, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cb5a670>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cb5a670>>
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x10bba4040>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x10bb51370>
  File "/Library/Python/3.8/site-packages/fastapi/applications.py", line 199, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cb5a670>>
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cb5a670>>
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
  File "/Library/Python/3.8/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cb5a670>>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cb5a670>>
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x10c8c2a90>
          └ <fastapi.applications.FastAPI object at 0x10bba4040>
  File "/Library/Python/3.8/site-packages/starlette/middleware/errors.py", line 181, in __call__
    raise exc from None
  File "/Library/Python/3.8/site-packages/starlette/middleware/errors.py", line 159, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x10cb21310>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cb5a670>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x10c8c2a30>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x10c8c2a90>
  File "/Library/Python/3.8/site-packages/starlette/middleware/base.py", line 25, in __call__
    response = await self.dispatch_func(request, self.call_next)
                     │    │             │        │    └ <function BaseHTTPMiddleware.call_next at 0x10c060940>
                     │    │             │        └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x10c8c2a30>
                     │    │             └ <starlette.requests.Request object at 0x10cb27970>
                     │    └ <function add_process_time_header at 0x10caefd30>
                     └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x10c8c2a30>

  File "./app/__init__.py", line 65, in add_process_time_header
    response = await call_next(request)
                     │         └ <starlette.requests.Request object at 0x10cb27970>
                     └ <bound method BaseHTTPMiddleware.call_next of <starlette.middleware.base.BaseHTTPMiddleware object at 0x10c8c2a30>>

  File "/Library/Python/3.8/site-packages/starlette/middleware/base.py", line 45, in call_next
    task.result()
    │    └ <method 'result' of '_asyncio.Task' objects>
    └ <Task finished name='Task-24' coro=<BaseHTTPMiddleware.call_next.<locals>.coro() done, defined at /Library/Python/3.8/site-pa...
  File "/Library/Python/3.8/site-packages/starlette/middleware/base.py", line 38, in coro
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method Queue.put of <Queue at 0x10cb5a520 maxsize=0 tasks=1>>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cb5a670>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x10c8c2a00>
          └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x10c8c2a30>
  File "/Library/Python/3.8/site-packages/starlette/middleware/cors.py", line 78, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method Queue.put of <Queue at 0x10cb5a520 maxsize=0 tasks=1>>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cb5a670>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x10c8c29a0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x10c8c2a00>
  File "/Library/Python/3.8/site-packages/starlette/exceptions.py", line 82, in __call__
    raise exc from None
  File "/Library/Python/3.8/site-packages/starlette/exceptions.py", line 71, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x10cb210d0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cb5a670>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x10c894cd0>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x10c8c29a0>
  File "/Library/Python/3.8/site-packages/starlette/routing.py", line 580, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x10cb210d0>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cb5a670>>
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │     └ <function Route.handle at 0x10c02eaf0>
          └ <fastapi.routing.APIRoute object at 0x10cae4880>
  File "/Library/Python/3.8/site-packages/starlette/routing.py", line 241, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x10cb210d0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cb5a670>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <function request_response.<locals>.app at 0x10cae0ca0>
          └ <fastapi.routing.APIRoute object at 0x10cae4880>
  File "/Library/Python/3.8/site-packages/starlette/routing.py", line 52, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x10cb5a0d0>
                     └ <function get_request_handler.<locals>.app at 0x10cae0c10>
  File "/Library/Python/3.8/site-packages/fastapi/routing.py", line 214, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x10c019b80>
  File "/Library/Python/3.8/site-packages/fastapi/routing.py", line 149, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'request': <starlette.requests.Request object at 0x10cb5a0d0>}
                 │         └ <function action at 0x10c9c0670>
                 └ <fastapi.dependencies.models.Dependant object at 0x10cae4970>

  File "./app/routers/conversation.py", line 10, in action
    return await controller.index(request)
                 │          │     └ <starlette.requests.Request object at 0x10cb5a0d0>
                 │          └ <staticmethod object at 0x10c9577c0>
                 └ <class 'app.controllers.Conversation.Conversation'>

  File "./app/controllers/Conversation.py", line 194, in index
    agent = WebhookClient(req)
            │             └ {'responseId': '55347239-22be-45e0-a2f9-57c6cf3fa1fe-046d94d0', 'queryResult': {'action': 'input.unknown', 'parameters': {}, ...
            └ <class 'dialogflow_fulfillment.webhook_client.WebhookClient'>

  File "/Library/Python/3.8/site-packages/dialogflow_fulfillment/webhook_client.py", line 52, in __init__
    self._process_request(request)
    │    │                └ {'responseId': '55347239-22be-45e0-a2f9-57c6cf3fa1fe-046d94d0', 'queryResult': {'action': 'input.unknown', 'parameters': {}, ...
    │    └ <function WebhookClient._process_request at 0x10c96d550>
    └ <dialogflow_fulfillment.webhook_client.WebhookClient object at 0x10cb5a730>
  File "/Library/Python/3.8/site-packages/dialogflow_fulfillment/webhook_client.py", line 69, in _process_request
    self.query = query_result['queryText']
    │            └ {'action': 'input.unknown', 'parameters': {}, 'allRequiredParamsPresent': True, 'fulfillmentText': 'Bilang apa tadi?', 'fulfi...
    └ <dialogflow_fulfillment.webhook_client.WebhookClient object at 0x10cb5a730>

KeyError: 'queryText'
ERROR    2021-07-27 22:25:03.489 request id: app - uvicorn.protocols.http.h11_impl:run_asgi - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 5
               │     └ 8
               └ <function _main at 0x10b3f20d0>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 5
           │    └ <function BaseProcess._bootstrap at 0x10b1c5b80>
           └ <SpawnProcess name='SpawnProcess-23' parent=7596 started>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x10b1c51f0>
    └ <SpawnProcess name='SpawnProcess-23' parent=7596 started>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x10b459100>, 'target': <bound method Server.run of <uvicorn.server.Server object...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-23' parent=7596 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-23' parent=7596 started>
    │    └ <function subprocess_started at 0x10ba31670>
    └ <SpawnProcess name='SpawnProcess-23' parent=7596 started>
  File "/Library/Python/3.8/site-packages/uvicorn/subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=4, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 5000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x10b4591f0>>
  File "/Library/Python/3.8/site-packages/uvicorn/server.py", line 50, in run
    loop.run_until_complete(self.serve(sockets=sockets))
    │    │                  │    │             └ [<socket.socket fd=4, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 5000)>]
    │    │                  │    └ <function Server.serve at 0x10ba2ec10>
    │    │                  └ <uvicorn.server.Server object at 0x10b4591f0>
    │    └ <function BaseEventLoop.run_until_complete at 0x10b6eb790>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/asyncio/base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x10b6eb700>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/asyncio/base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x10b6ed280>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/asyncio/base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x10b620160>
    └ <Handle <TaskWakeupMethWrapper object at 0x10cb5a130>(<Future finished result=None>)>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/asyncio/events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x10cb5a130>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x10cb5a130>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x10cb5a130>(<Future finished result=None>)>
> File "/Library/Python/3.8/site-packages/uvicorn/protocols/http/h11_impl.py", line 369, in run_asgi
    result = await app(self.scope, self.receive, self.send)
                   │   │    │      │    │        │    └ <function RequestResponseCycle.send at 0x10bba5310>
                   │   │    │      │    │        └ <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cb5a670>
                   │   │    │      │    └ <function RequestResponseCycle.receive at 0x10bba53a0>
                   │   │    │      └ <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cb5a670>
                   │   │    └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
                   │   └ <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cb5a670>
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x10bb51370>
  File "/Library/Python/3.8/site-packages/uvicorn/middleware/proxy_headers.py", line 59, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cb5a670>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cb5a670>>
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x10bba4040>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x10bb51370>
  File "/Library/Python/3.8/site-packages/fastapi/applications.py", line 199, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cb5a670>>
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cb5a670>>
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
  File "/Library/Python/3.8/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cb5a670>>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cb5a670>>
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x10c8c2a90>
          └ <fastapi.applications.FastAPI object at 0x10bba4040>
  File "/Library/Python/3.8/site-packages/starlette/middleware/errors.py", line 181, in __call__
    raise exc from None
  File "/Library/Python/3.8/site-packages/starlette/middleware/errors.py", line 159, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x10cb21310>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cb5a670>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x10c8c2a30>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x10c8c2a90>
  File "/Library/Python/3.8/site-packages/starlette/middleware/base.py", line 25, in __call__
    response = await self.dispatch_func(request, self.call_next)
                     │    │             │        │    └ <function BaseHTTPMiddleware.call_next at 0x10c060940>
                     │    │             │        └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x10c8c2a30>
                     │    │             └ <starlette.requests.Request object at 0x10cb27970>
                     │    └ <function add_process_time_header at 0x10caefd30>
                     └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x10c8c2a30>

  File "./app/__init__.py", line 65, in add_process_time_header
    response = await call_next(request)
                     │         └ <starlette.requests.Request object at 0x10cb27970>
                     └ <bound method BaseHTTPMiddleware.call_next of <starlette.middleware.base.BaseHTTPMiddleware object at 0x10c8c2a30>>

  File "/Library/Python/3.8/site-packages/starlette/middleware/base.py", line 45, in call_next
    task.result()
    │    └ <method 'result' of '_asyncio.Task' objects>
    └ <Task finished name='Task-24' coro=<BaseHTTPMiddleware.call_next.<locals>.coro() done, defined at /Library/Python/3.8/site-pa...
  File "/Library/Python/3.8/site-packages/starlette/middleware/base.py", line 38, in coro
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method Queue.put of <Queue at 0x10cb5a520 maxsize=0 tasks=1>>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cb5a670>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x10c8c2a00>
          └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x10c8c2a30>
  File "/Library/Python/3.8/site-packages/starlette/middleware/cors.py", line 78, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method Queue.put of <Queue at 0x10cb5a520 maxsize=0 tasks=1>>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cb5a670>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x10c8c29a0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x10c8c2a00>
  File "/Library/Python/3.8/site-packages/starlette/exceptions.py", line 82, in __call__
    raise exc from None
  File "/Library/Python/3.8/site-packages/starlette/exceptions.py", line 71, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x10cb210d0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cb5a670>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x10c894cd0>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x10c8c29a0>
  File "/Library/Python/3.8/site-packages/starlette/routing.py", line 580, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x10cb210d0>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cb5a670>>
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │     └ <function Route.handle at 0x10c02eaf0>
          └ <fastapi.routing.APIRoute object at 0x10cae4880>
  File "/Library/Python/3.8/site-packages/starlette/routing.py", line 241, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x10cb210d0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cb5a670>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <function request_response.<locals>.app at 0x10cae0ca0>
          └ <fastapi.routing.APIRoute object at 0x10cae4880>
  File "/Library/Python/3.8/site-packages/starlette/routing.py", line 52, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x10cb5a0d0>
                     └ <function get_request_handler.<locals>.app at 0x10cae0c10>
  File "/Library/Python/3.8/site-packages/fastapi/routing.py", line 214, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x10c019b80>
  File "/Library/Python/3.8/site-packages/fastapi/routing.py", line 149, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'request': <starlette.requests.Request object at 0x10cb5a0d0>}
                 │         └ <function action at 0x10c9c0670>
                 └ <fastapi.dependencies.models.Dependant object at 0x10cae4970>

  File "./app/routers/conversation.py", line 10, in action
    return await controller.index(request)
                 │          │     └ <starlette.requests.Request object at 0x10cb5a0d0>
                 │          └ <staticmethod object at 0x10c9577c0>
                 └ <class 'app.controllers.Conversation.Conversation'>

  File "./app/controllers/Conversation.py", line 194, in index
    agent = WebhookClient(req)
            │             └ {'responseId': '55347239-22be-45e0-a2f9-57c6cf3fa1fe-046d94d0', 'queryResult': {'action': 'input.unknown', 'parameters': {}, ...
            └ <class 'dialogflow_fulfillment.webhook_client.WebhookClient'>

  File "/Library/Python/3.8/site-packages/dialogflow_fulfillment/webhook_client.py", line 52, in __init__
    self._process_request(request)
    │    │                └ {'responseId': '55347239-22be-45e0-a2f9-57c6cf3fa1fe-046d94d0', 'queryResult': {'action': 'input.unknown', 'parameters': {}, ...
    │    └ <function WebhookClient._process_request at 0x10c96d550>
    └ <dialogflow_fulfillment.webhook_client.WebhookClient object at 0x10cb5a730>
  File "/Library/Python/3.8/site-packages/dialogflow_fulfillment/webhook_client.py", line 69, in _process_request
    self.query = query_result['queryText']
    │            └ {'action': 'input.unknown', 'parameters': {}, 'allRequiredParamsPresent': True, 'fulfillmentText': 'Bilang apa tadi?', 'fulfi...
    └ <dialogflow_fulfillment.webhook_client.WebhookClient object at 0x10cb5a730>

KeyError: 'queryText'
INFO     2021-07-27 22:25:16.230 request id: app - uvicorn.protocols.http.h11_impl:send - 66.249.83.82:0 - "POST /webhook HTTP/1.1" 200
INFO     2021-07-27 22:25:22.320 request id: app - uvicorn.protocols.http.h11_impl:send - 66.249.83.82:0 - "POST /webhook HTTP/1.1" 500
ERROR    2021-07-27 22:25:22.323 request id: app - uvicorn.protocols.http.h11_impl:run_asgi - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 5
               │     └ 8
               └ <function _main at 0x10b3f20d0>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 5
           │    └ <function BaseProcess._bootstrap at 0x10b1c5b80>
           └ <SpawnProcess name='SpawnProcess-23' parent=7596 started>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x10b1c51f0>
    └ <SpawnProcess name='SpawnProcess-23' parent=7596 started>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x10b459100>, 'target': <bound method Server.run of <uvicorn.server.Server object...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-23' parent=7596 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-23' parent=7596 started>
    │    └ <function subprocess_started at 0x10ba31670>
    └ <SpawnProcess name='SpawnProcess-23' parent=7596 started>
  File "/Library/Python/3.8/site-packages/uvicorn/subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=4, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 5000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x10b4591f0>>
  File "/Library/Python/3.8/site-packages/uvicorn/server.py", line 50, in run
    loop.run_until_complete(self.serve(sockets=sockets))
    │    │                  │    │             └ [<socket.socket fd=4, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 5000)>]
    │    │                  │    └ <function Server.serve at 0x10ba2ec10>
    │    │                  └ <uvicorn.server.Server object at 0x10b4591f0>
    │    └ <function BaseEventLoop.run_until_complete at 0x10b6eb790>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/asyncio/base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x10b6eb700>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/asyncio/base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x10b6ed280>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/asyncio/base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x10b620160>
    └ <Handle <TaskWakeupMethWrapper object at 0x10cb5aa30>(<Future finished result=None>)>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/asyncio/events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x10cb5aa30>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x10cb5aa30>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x10cb5aa30>(<Future finished result=None>)>
> File "/Library/Python/3.8/site-packages/uvicorn/protocols/http/h11_impl.py", line 369, in run_asgi
    result = await app(self.scope, self.receive, self.send)
                   │   │    │      │    │        │    └ <function RequestResponseCycle.send at 0x10bba5310>
                   │   │    │      │    │        └ <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cb5a040>
                   │   │    │      │    └ <function RequestResponseCycle.receive at 0x10bba53a0>
                   │   │    │      └ <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cb5a040>
                   │   │    └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
                   │   └ <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cb5a040>
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x10bb51370>
  File "/Library/Python/3.8/site-packages/uvicorn/middleware/proxy_headers.py", line 59, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cb5a040>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cb5a040>>
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x10bba4040>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x10bb51370>
  File "/Library/Python/3.8/site-packages/fastapi/applications.py", line 199, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cb5a040>>
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cb5a040>>
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
  File "/Library/Python/3.8/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cb5a040>>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cb5a040>>
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x10c8c2a90>
          └ <fastapi.applications.FastAPI object at 0x10bba4040>
  File "/Library/Python/3.8/site-packages/starlette/middleware/errors.py", line 181, in __call__
    raise exc from None
  File "/Library/Python/3.8/site-packages/starlette/middleware/errors.py", line 159, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x10caeff70>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cb5a040>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x10c8c2a30>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x10c8c2a90>
  File "/Library/Python/3.8/site-packages/starlette/middleware/base.py", line 25, in __call__
    response = await self.dispatch_func(request, self.call_next)
                     │    │             │        │    └ <function BaseHTTPMiddleware.call_next at 0x10c060940>
                     │    │             │        └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x10c8c2a30>
                     │    │             └ <starlette.requests.Request object at 0x10cb27670>
                     │    └ <function add_process_time_header at 0x10caefd30>
                     └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x10c8c2a30>

  File "./app/__init__.py", line 65, in add_process_time_header
    response = await call_next(request)
                     │         └ <starlette.requests.Request object at 0x10cb27670>
                     └ <bound method BaseHTTPMiddleware.call_next of <starlette.middleware.base.BaseHTTPMiddleware object at 0x10c8c2a30>>

  File "/Library/Python/3.8/site-packages/starlette/middleware/base.py", line 45, in call_next
    task.result()
    │    └ <method 'result' of '_asyncio.Task' objects>
    └ <Task finished name='Task-34' coro=<BaseHTTPMiddleware.call_next.<locals>.coro() done, defined at /Library/Python/3.8/site-pa...
  File "/Library/Python/3.8/site-packages/starlette/middleware/base.py", line 38, in coro
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method Queue.put of <Queue at 0x10cb5ad00 maxsize=0 tasks=1>>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cb5a040>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x10c8c2a00>
          └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x10c8c2a30>
  File "/Library/Python/3.8/site-packages/starlette/middleware/cors.py", line 78, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method Queue.put of <Queue at 0x10cb5ad00 maxsize=0 tasks=1>>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cb5a040>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x10c8c29a0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x10c8c2a00>
  File "/Library/Python/3.8/site-packages/starlette/exceptions.py", line 82, in __call__
    raise exc from None
  File "/Library/Python/3.8/site-packages/starlette/exceptions.py", line 71, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x10cbafdc0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cb5a040>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x10c894cd0>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x10c8c29a0>
  File "/Library/Python/3.8/site-packages/starlette/routing.py", line 580, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x10cbafdc0>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cb5a040>>
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │     └ <function Route.handle at 0x10c02eaf0>
          └ <fastapi.routing.APIRoute object at 0x10cae4880>
  File "/Library/Python/3.8/site-packages/starlette/routing.py", line 241, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x10cbafdc0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cb5a040>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <function request_response.<locals>.app at 0x10cae0ca0>
          └ <fastapi.routing.APIRoute object at 0x10cae4880>
  File "/Library/Python/3.8/site-packages/starlette/routing.py", line 52, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x10cb5aa00>
                     └ <function get_request_handler.<locals>.app at 0x10cae0c10>
  File "/Library/Python/3.8/site-packages/fastapi/routing.py", line 214, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x10c019b80>
  File "/Library/Python/3.8/site-packages/fastapi/routing.py", line 149, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'request': <starlette.requests.Request object at 0x10cb5aa00>}
                 │         └ <function action at 0x10c9c0670>
                 └ <fastapi.dependencies.models.Dependant object at 0x10cae4970>

  File "./app/routers/conversation.py", line 10, in action
    return await controller.index(request)
                 │          │     └ <starlette.requests.Request object at 0x10cb5aa00>
                 │          └ <staticmethod object at 0x10c9577c0>
                 └ <class 'app.controllers.Conversation.Conversation'>

  File "./app/controllers/Conversation.py", line 194, in index
    agent = WebhookClient(req)
            │             └ {'responseId': '50c6cea6-7452-4e54-acc4-079ef59a3f1a-046d94d0', 'queryResult': {'action': 'input.unknown', 'parameters': {}, ...
            └ <class 'dialogflow_fulfillment.webhook_client.WebhookClient'>

  File "/Library/Python/3.8/site-packages/dialogflow_fulfillment/webhook_client.py", line 52, in __init__
    self._process_request(request)
    │    │                └ {'responseId': '50c6cea6-7452-4e54-acc4-079ef59a3f1a-046d94d0', 'queryResult': {'action': 'input.unknown', 'parameters': {}, ...
    │    └ <function WebhookClient._process_request at 0x10c96d550>
    └ <dialogflow_fulfillment.webhook_client.WebhookClient object at 0x10cb5ad30>
  File "/Library/Python/3.8/site-packages/dialogflow_fulfillment/webhook_client.py", line 69, in _process_request
    self.query = query_result['queryText']
    │            └ {'action': 'input.unknown', 'parameters': {}, 'allRequiredParamsPresent': True, 'fulfillmentText': 'Maaf, tadi bilang apa?', ...
    └ <dialogflow_fulfillment.webhook_client.WebhookClient object at 0x10cb5ad30>

KeyError: 'queryText'
ERROR    2021-07-27 22:25:22.357 request id: app - uvicorn.protocols.http.h11_impl:run_asgi - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 5
               │     └ 8
               └ <function _main at 0x10b3f20d0>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 5
           │    └ <function BaseProcess._bootstrap at 0x10b1c5b80>
           └ <SpawnProcess name='SpawnProcess-23' parent=7596 started>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x10b1c51f0>
    └ <SpawnProcess name='SpawnProcess-23' parent=7596 started>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x10b459100>, 'target': <bound method Server.run of <uvicorn.server.Server object...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-23' parent=7596 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-23' parent=7596 started>
    │    └ <function subprocess_started at 0x10ba31670>
    └ <SpawnProcess name='SpawnProcess-23' parent=7596 started>
  File "/Library/Python/3.8/site-packages/uvicorn/subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=4, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 5000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x10b4591f0>>
  File "/Library/Python/3.8/site-packages/uvicorn/server.py", line 50, in run
    loop.run_until_complete(self.serve(sockets=sockets))
    │    │                  │    │             └ [<socket.socket fd=4, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 5000)>]
    │    │                  │    └ <function Server.serve at 0x10ba2ec10>
    │    │                  └ <uvicorn.server.Server object at 0x10b4591f0>
    │    └ <function BaseEventLoop.run_until_complete at 0x10b6eb790>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/asyncio/base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x10b6eb700>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/asyncio/base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x10b6ed280>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/asyncio/base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x10b620160>
    └ <Handle <TaskWakeupMethWrapper object at 0x10cb5aa30>(<Future finished result=None>)>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/asyncio/events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x10cb5aa30>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x10cb5aa30>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x10cb5aa30>(<Future finished result=None>)>
> File "/Library/Python/3.8/site-packages/uvicorn/protocols/http/h11_impl.py", line 369, in run_asgi
    result = await app(self.scope, self.receive, self.send)
                   │   │    │      │    │        │    └ <function RequestResponseCycle.send at 0x10bba5310>
                   │   │    │      │    │        └ <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cb5a040>
                   │   │    │      │    └ <function RequestResponseCycle.receive at 0x10bba53a0>
                   │   │    │      └ <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cb5a040>
                   │   │    └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
                   │   └ <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cb5a040>
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x10bb51370>
  File "/Library/Python/3.8/site-packages/uvicorn/middleware/proxy_headers.py", line 59, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cb5a040>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cb5a040>>
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x10bba4040>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x10bb51370>
  File "/Library/Python/3.8/site-packages/fastapi/applications.py", line 199, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cb5a040>>
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cb5a040>>
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
  File "/Library/Python/3.8/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cb5a040>>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cb5a040>>
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x10c8c2a90>
          └ <fastapi.applications.FastAPI object at 0x10bba4040>
  File "/Library/Python/3.8/site-packages/starlette/middleware/errors.py", line 181, in __call__
    raise exc from None
  File "/Library/Python/3.8/site-packages/starlette/middleware/errors.py", line 159, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x10caeff70>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cb5a040>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x10c8c2a30>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x10c8c2a90>
  File "/Library/Python/3.8/site-packages/starlette/middleware/base.py", line 25, in __call__
    response = await self.dispatch_func(request, self.call_next)
                     │    │             │        │    └ <function BaseHTTPMiddleware.call_next at 0x10c060940>
                     │    │             │        └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x10c8c2a30>
                     │    │             └ <starlette.requests.Request object at 0x10cb27670>
                     │    └ <function add_process_time_header at 0x10caefd30>
                     └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x10c8c2a30>

  File "./app/__init__.py", line 65, in add_process_time_header
    response = await call_next(request)
                     │         └ <starlette.requests.Request object at 0x10cb27670>
                     └ <bound method BaseHTTPMiddleware.call_next of <starlette.middleware.base.BaseHTTPMiddleware object at 0x10c8c2a30>>

  File "/Library/Python/3.8/site-packages/starlette/middleware/base.py", line 45, in call_next
    task.result()
    │    └ <method 'result' of '_asyncio.Task' objects>
    └ <Task finished name='Task-34' coro=<BaseHTTPMiddleware.call_next.<locals>.coro() done, defined at /Library/Python/3.8/site-pa...
  File "/Library/Python/3.8/site-packages/starlette/middleware/base.py", line 38, in coro
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method Queue.put of <Queue at 0x10cb5ad00 maxsize=0 tasks=1>>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cb5a040>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x10c8c2a00>
          └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x10c8c2a30>
  File "/Library/Python/3.8/site-packages/starlette/middleware/cors.py", line 78, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method Queue.put of <Queue at 0x10cb5ad00 maxsize=0 tasks=1>>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cb5a040>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x10c8c29a0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x10c8c2a00>
  File "/Library/Python/3.8/site-packages/starlette/exceptions.py", line 82, in __call__
    raise exc from None
  File "/Library/Python/3.8/site-packages/starlette/exceptions.py", line 71, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x10cbafdc0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cb5a040>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x10c894cd0>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x10c8c29a0>
  File "/Library/Python/3.8/site-packages/starlette/routing.py", line 580, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x10cbafdc0>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cb5a040>>
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │     └ <function Route.handle at 0x10c02eaf0>
          └ <fastapi.routing.APIRoute object at 0x10cae4880>
  File "/Library/Python/3.8/site-packages/starlette/routing.py", line 241, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x10cbafdc0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cb5a040>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <function request_response.<locals>.app at 0x10cae0ca0>
          └ <fastapi.routing.APIRoute object at 0x10cae4880>
  File "/Library/Python/3.8/site-packages/starlette/routing.py", line 52, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x10cb5aa00>
                     └ <function get_request_handler.<locals>.app at 0x10cae0c10>
  File "/Library/Python/3.8/site-packages/fastapi/routing.py", line 214, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x10c019b80>
  File "/Library/Python/3.8/site-packages/fastapi/routing.py", line 149, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'request': <starlette.requests.Request object at 0x10cb5aa00>}
                 │         └ <function action at 0x10c9c0670>
                 └ <fastapi.dependencies.models.Dependant object at 0x10cae4970>

  File "./app/routers/conversation.py", line 10, in action
    return await controller.index(request)
                 │          │     └ <starlette.requests.Request object at 0x10cb5aa00>
                 │          └ <staticmethod object at 0x10c9577c0>
                 └ <class 'app.controllers.Conversation.Conversation'>

  File "./app/controllers/Conversation.py", line 194, in index
    agent = WebhookClient(req)
            │             └ {'responseId': '50c6cea6-7452-4e54-acc4-079ef59a3f1a-046d94d0', 'queryResult': {'action': 'input.unknown', 'parameters': {}, ...
            └ <class 'dialogflow_fulfillment.webhook_client.WebhookClient'>

  File "/Library/Python/3.8/site-packages/dialogflow_fulfillment/webhook_client.py", line 52, in __init__
    self._process_request(request)
    │    │                └ {'responseId': '50c6cea6-7452-4e54-acc4-079ef59a3f1a-046d94d0', 'queryResult': {'action': 'input.unknown', 'parameters': {}, ...
    │    └ <function WebhookClient._process_request at 0x10c96d550>
    └ <dialogflow_fulfillment.webhook_client.WebhookClient object at 0x10cb5ad30>
  File "/Library/Python/3.8/site-packages/dialogflow_fulfillment/webhook_client.py", line 69, in _process_request
    self.query = query_result['queryText']
    │            └ {'action': 'input.unknown', 'parameters': {}, 'allRequiredParamsPresent': True, 'fulfillmentText': 'Maaf, tadi bilang apa?', ...
    └ <dialogflow_fulfillment.webhook_client.WebhookClient object at 0x10cb5ad30>

KeyError: 'queryText'
ERROR    2021-07-27 22:25:22.378 request id: app - uvicorn.protocols.http.h11_impl:run_asgi - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 5
               │     └ 8
               └ <function _main at 0x10b3f20d0>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 5
           │    └ <function BaseProcess._bootstrap at 0x10b1c5b80>
           └ <SpawnProcess name='SpawnProcess-23' parent=7596 started>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x10b1c51f0>
    └ <SpawnProcess name='SpawnProcess-23' parent=7596 started>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x10b459100>, 'target': <bound method Server.run of <uvicorn.server.Server object...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-23' parent=7596 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-23' parent=7596 started>
    │    └ <function subprocess_started at 0x10ba31670>
    └ <SpawnProcess name='SpawnProcess-23' parent=7596 started>
  File "/Library/Python/3.8/site-packages/uvicorn/subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=4, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 5000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x10b4591f0>>
  File "/Library/Python/3.8/site-packages/uvicorn/server.py", line 50, in run
    loop.run_until_complete(self.serve(sockets=sockets))
    │    │                  │    │             └ [<socket.socket fd=4, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 5000)>]
    │    │                  │    └ <function Server.serve at 0x10ba2ec10>
    │    │                  └ <uvicorn.server.Server object at 0x10b4591f0>
    │    └ <function BaseEventLoop.run_until_complete at 0x10b6eb790>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/asyncio/base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x10b6eb700>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/asyncio/base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x10b6ed280>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/asyncio/base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x10b620160>
    └ <Handle <TaskWakeupMethWrapper object at 0x10cb5aa30>(<Future finished result=None>)>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/asyncio/events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x10cb5aa30>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x10cb5aa30>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x10cb5aa30>(<Future finished result=None>)>
> File "/Library/Python/3.8/site-packages/uvicorn/protocols/http/h11_impl.py", line 369, in run_asgi
    result = await app(self.scope, self.receive, self.send)
                   │   │    │      │    │        │    └ <function RequestResponseCycle.send at 0x10bba5310>
                   │   │    │      │    │        └ <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cb5a040>
                   │   │    │      │    └ <function RequestResponseCycle.receive at 0x10bba53a0>
                   │   │    │      └ <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cb5a040>
                   │   │    └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
                   │   └ <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cb5a040>
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x10bb51370>
  File "/Library/Python/3.8/site-packages/uvicorn/middleware/proxy_headers.py", line 59, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cb5a040>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cb5a040>>
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x10bba4040>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x10bb51370>
  File "/Library/Python/3.8/site-packages/fastapi/applications.py", line 199, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cb5a040>>
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cb5a040>>
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
  File "/Library/Python/3.8/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cb5a040>>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cb5a040>>
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x10c8c2a90>
          └ <fastapi.applications.FastAPI object at 0x10bba4040>
  File "/Library/Python/3.8/site-packages/starlette/middleware/errors.py", line 181, in __call__
    raise exc from None
  File "/Library/Python/3.8/site-packages/starlette/middleware/errors.py", line 159, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x10caeff70>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cb5a040>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x10c8c2a30>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x10c8c2a90>
  File "/Library/Python/3.8/site-packages/starlette/middleware/base.py", line 25, in __call__
    response = await self.dispatch_func(request, self.call_next)
                     │    │             │        │    └ <function BaseHTTPMiddleware.call_next at 0x10c060940>
                     │    │             │        └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x10c8c2a30>
                     │    │             └ <starlette.requests.Request object at 0x10cb27670>
                     │    └ <function add_process_time_header at 0x10caefd30>
                     └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x10c8c2a30>

  File "./app/__init__.py", line 65, in add_process_time_header
    response = await call_next(request)
                     │         └ <starlette.requests.Request object at 0x10cb27670>
                     └ <bound method BaseHTTPMiddleware.call_next of <starlette.middleware.base.BaseHTTPMiddleware object at 0x10c8c2a30>>

  File "/Library/Python/3.8/site-packages/starlette/middleware/base.py", line 45, in call_next
    task.result()
    │    └ <method 'result' of '_asyncio.Task' objects>
    └ <Task finished name='Task-34' coro=<BaseHTTPMiddleware.call_next.<locals>.coro() done, defined at /Library/Python/3.8/site-pa...
  File "/Library/Python/3.8/site-packages/starlette/middleware/base.py", line 38, in coro
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method Queue.put of <Queue at 0x10cb5ad00 maxsize=0 tasks=1>>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cb5a040>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x10c8c2a00>
          └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x10c8c2a30>
  File "/Library/Python/3.8/site-packages/starlette/middleware/cors.py", line 78, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method Queue.put of <Queue at 0x10cb5ad00 maxsize=0 tasks=1>>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cb5a040>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x10c8c29a0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x10c8c2a00>
  File "/Library/Python/3.8/site-packages/starlette/exceptions.py", line 82, in __call__
    raise exc from None
  File "/Library/Python/3.8/site-packages/starlette/exceptions.py", line 71, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x10cbafdc0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cb5a040>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x10c894cd0>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x10c8c29a0>
  File "/Library/Python/3.8/site-packages/starlette/routing.py", line 580, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x10cbafdc0>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cb5a040>>
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │     └ <function Route.handle at 0x10c02eaf0>
          └ <fastapi.routing.APIRoute object at 0x10cae4880>
  File "/Library/Python/3.8/site-packages/starlette/routing.py", line 241, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x10cbafdc0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cb5a040>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <function request_response.<locals>.app at 0x10cae0ca0>
          └ <fastapi.routing.APIRoute object at 0x10cae4880>
  File "/Library/Python/3.8/site-packages/starlette/routing.py", line 52, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x10cb5aa00>
                     └ <function get_request_handler.<locals>.app at 0x10cae0c10>
  File "/Library/Python/3.8/site-packages/fastapi/routing.py", line 214, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x10c019b80>
  File "/Library/Python/3.8/site-packages/fastapi/routing.py", line 149, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'request': <starlette.requests.Request object at 0x10cb5aa00>}
                 │         └ <function action at 0x10c9c0670>
                 └ <fastapi.dependencies.models.Dependant object at 0x10cae4970>

  File "./app/routers/conversation.py", line 10, in action
    return await controller.index(request)
                 │          │     └ <starlette.requests.Request object at 0x10cb5aa00>
                 │          └ <staticmethod object at 0x10c9577c0>
                 └ <class 'app.controllers.Conversation.Conversation'>

  File "./app/controllers/Conversation.py", line 194, in index
    agent = WebhookClient(req)
            │             └ {'responseId': '50c6cea6-7452-4e54-acc4-079ef59a3f1a-046d94d0', 'queryResult': {'action': 'input.unknown', 'parameters': {}, ...
            └ <class 'dialogflow_fulfillment.webhook_client.WebhookClient'>

  File "/Library/Python/3.8/site-packages/dialogflow_fulfillment/webhook_client.py", line 52, in __init__
    self._process_request(request)
    │    │                └ {'responseId': '50c6cea6-7452-4e54-acc4-079ef59a3f1a-046d94d0', 'queryResult': {'action': 'input.unknown', 'parameters': {}, ...
    │    └ <function WebhookClient._process_request at 0x10c96d550>
    └ <dialogflow_fulfillment.webhook_client.WebhookClient object at 0x10cb5ad30>
  File "/Library/Python/3.8/site-packages/dialogflow_fulfillment/webhook_client.py", line 69, in _process_request
    self.query = query_result['queryText']
    │            └ {'action': 'input.unknown', 'parameters': {}, 'allRequiredParamsPresent': True, 'fulfillmentText': 'Maaf, tadi bilang apa?', ...
    └ <dialogflow_fulfillment.webhook_client.WebhookClient object at 0x10cb5ad30>

KeyError: 'queryText'
INFO     2021-07-27 22:25:37.056 request id: app - uvicorn.protocols.http.h11_impl:send - 66.249.83.91:0 - "POST /webhook HTTP/1.1" 500
ERROR    2021-07-27 22:25:37.060 request id: app - uvicorn.protocols.http.h11_impl:run_asgi - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 5
               │     └ 8
               └ <function _main at 0x10b3f20d0>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 5
           │    └ <function BaseProcess._bootstrap at 0x10b1c5b80>
           └ <SpawnProcess name='SpawnProcess-23' parent=7596 started>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x10b1c51f0>
    └ <SpawnProcess name='SpawnProcess-23' parent=7596 started>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x10b459100>, 'target': <bound method Server.run of <uvicorn.server.Server object...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-23' parent=7596 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-23' parent=7596 started>
    │    └ <function subprocess_started at 0x10ba31670>
    └ <SpawnProcess name='SpawnProcess-23' parent=7596 started>
  File "/Library/Python/3.8/site-packages/uvicorn/subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=4, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 5000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x10b4591f0>>
  File "/Library/Python/3.8/site-packages/uvicorn/server.py", line 50, in run
    loop.run_until_complete(self.serve(sockets=sockets))
    │    │                  │    │             └ [<socket.socket fd=4, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 5000)>]
    │    │                  │    └ <function Server.serve at 0x10ba2ec10>
    │    │                  └ <uvicorn.server.Server object at 0x10b4591f0>
    │    └ <function BaseEventLoop.run_until_complete at 0x10b6eb790>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/asyncio/base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x10b6eb700>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/asyncio/base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x10b6ed280>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/asyncio/base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x10b620160>
    └ <Handle <TaskWakeupMethWrapper object at 0x10cbe3220>(<Future finished result=None>)>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/asyncio/events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x10cbe3220>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x10cbe3220>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x10cbe3220>(<Future finished result=None>)>
> File "/Library/Python/3.8/site-packages/uvicorn/protocols/http/h11_impl.py", line 369, in run_asgi
    result = await app(self.scope, self.receive, self.send)
                   │   │    │      │    │        │    └ <function RequestResponseCycle.send at 0x10bba5310>
                   │   │    │      │    │        └ <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cbe3730>
                   │   │    │      │    └ <function RequestResponseCycle.receive at 0x10bba53a0>
                   │   │    │      └ <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cbe3730>
                   │   │    └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
                   │   └ <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cbe3730>
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x10bb51370>
  File "/Library/Python/3.8/site-packages/uvicorn/middleware/proxy_headers.py", line 59, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cbe3730>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cbe3730>>
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x10bba4040>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x10bb51370>
  File "/Library/Python/3.8/site-packages/fastapi/applications.py", line 199, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cbe3730>>
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cbe3730>>
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
  File "/Library/Python/3.8/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cbe3730>>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cbe3730>>
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x10c8c2a90>
          └ <fastapi.applications.FastAPI object at 0x10bba4040>
  File "/Library/Python/3.8/site-packages/starlette/middleware/errors.py", line 181, in __call__
    raise exc from None
  File "/Library/Python/3.8/site-packages/starlette/middleware/errors.py", line 159, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x10cbafe50>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cbe3730>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x10c8c2a30>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x10c8c2a90>
  File "/Library/Python/3.8/site-packages/starlette/middleware/base.py", line 25, in __call__
    response = await self.dispatch_func(request, self.call_next)
                     │    │             │        │    └ <function BaseHTTPMiddleware.call_next at 0x10c060940>
                     │    │             │        └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x10c8c2a30>
                     │    │             └ <starlette.requests.Request object at 0x10cbe3790>
                     │    └ <function add_process_time_header at 0x10caefd30>
                     └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x10c8c2a30>

  File "./app/__init__.py", line 65, in add_process_time_header
    response = await call_next(request)
                     │         └ <starlette.requests.Request object at 0x10cbe3790>
                     └ <bound method BaseHTTPMiddleware.call_next of <starlette.middleware.base.BaseHTTPMiddleware object at 0x10c8c2a30>>

  File "/Library/Python/3.8/site-packages/starlette/middleware/base.py", line 45, in call_next
    task.result()
    │    └ <method 'result' of '_asyncio.Task' objects>
    └ <Task finished name='Task-38' coro=<BaseHTTPMiddleware.call_next.<locals>.coro() done, defined at /Library/Python/3.8/site-pa...
  File "/Library/Python/3.8/site-packages/starlette/middleware/base.py", line 38, in coro
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method Queue.put of <Queue at 0x10cbe3160 maxsize=0 tasks=1>>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cbe3730>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x10c8c2a00>
          └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x10c8c2a30>
  File "/Library/Python/3.8/site-packages/starlette/middleware/cors.py", line 78, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method Queue.put of <Queue at 0x10cbe3160 maxsize=0 tasks=1>>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cbe3730>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x10c8c29a0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x10c8c2a00>
  File "/Library/Python/3.8/site-packages/starlette/exceptions.py", line 82, in __call__
    raise exc from None
  File "/Library/Python/3.8/site-packages/starlette/exceptions.py", line 71, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x10cbaff70>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cbe3730>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x10c894cd0>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x10c8c29a0>
  File "/Library/Python/3.8/site-packages/starlette/routing.py", line 580, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x10cbaff70>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cbe3730>>
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │     └ <function Route.handle at 0x10c02eaf0>
          └ <fastapi.routing.APIRoute object at 0x10cae4880>
  File "/Library/Python/3.8/site-packages/starlette/routing.py", line 241, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x10cbaff70>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cbe3730>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <function request_response.<locals>.app at 0x10cae0ca0>
          └ <fastapi.routing.APIRoute object at 0x10cae4880>
  File "/Library/Python/3.8/site-packages/starlette/routing.py", line 52, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x10cbe34f0>
                     └ <function get_request_handler.<locals>.app at 0x10cae0c10>
  File "/Library/Python/3.8/site-packages/fastapi/routing.py", line 214, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x10c019b80>
  File "/Library/Python/3.8/site-packages/fastapi/routing.py", line 149, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'request': <starlette.requests.Request object at 0x10cbe34f0>}
                 │         └ <function action at 0x10c9c0670>
                 └ <fastapi.dependencies.models.Dependant object at 0x10cae4970>

  File "./app/routers/conversation.py", line 10, in action
    return await controller.index(request)
                 │          │     └ <starlette.requests.Request object at 0x10cbe34f0>
                 │          └ <staticmethod object at 0x10c9577c0>
                 └ <class 'app.controllers.Conversation.Conversation'>

  File "./app/controllers/Conversation.py", line 195, in index
    login = Login(agent)
            │     └ <dialogflow_fulfillment.webhook_client.WebhookClient object at 0x10cbe38b0>
            └ <class 'app.libraries.Login.Login'>

TypeError: __init__() should return None, not 'dict'
ERROR    2021-07-27 22:25:37.093 request id: app - uvicorn.protocols.http.h11_impl:run_asgi - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 5
               │     └ 8
               └ <function _main at 0x10b3f20d0>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 5
           │    └ <function BaseProcess._bootstrap at 0x10b1c5b80>
           └ <SpawnProcess name='SpawnProcess-23' parent=7596 started>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x10b1c51f0>
    └ <SpawnProcess name='SpawnProcess-23' parent=7596 started>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x10b459100>, 'target': <bound method Server.run of <uvicorn.server.Server object...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-23' parent=7596 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-23' parent=7596 started>
    │    └ <function subprocess_started at 0x10ba31670>
    └ <SpawnProcess name='SpawnProcess-23' parent=7596 started>
  File "/Library/Python/3.8/site-packages/uvicorn/subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=4, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 5000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x10b4591f0>>
  File "/Library/Python/3.8/site-packages/uvicorn/server.py", line 50, in run
    loop.run_until_complete(self.serve(sockets=sockets))
    │    │                  │    │             └ [<socket.socket fd=4, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 5000)>]
    │    │                  │    └ <function Server.serve at 0x10ba2ec10>
    │    │                  └ <uvicorn.server.Server object at 0x10b4591f0>
    │    └ <function BaseEventLoop.run_until_complete at 0x10b6eb790>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/asyncio/base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x10b6eb700>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/asyncio/base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x10b6ed280>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/asyncio/base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x10b620160>
    └ <Handle <TaskWakeupMethWrapper object at 0x10cbe3220>(<Future finished result=None>)>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/asyncio/events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x10cbe3220>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x10cbe3220>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x10cbe3220>(<Future finished result=None>)>
> File "/Library/Python/3.8/site-packages/uvicorn/protocols/http/h11_impl.py", line 369, in run_asgi
    result = await app(self.scope, self.receive, self.send)
                   │   │    │      │    │        │    └ <function RequestResponseCycle.send at 0x10bba5310>
                   │   │    │      │    │        └ <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cbe3730>
                   │   │    │      │    └ <function RequestResponseCycle.receive at 0x10bba53a0>
                   │   │    │      └ <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cbe3730>
                   │   │    └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
                   │   └ <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cbe3730>
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x10bb51370>
  File "/Library/Python/3.8/site-packages/uvicorn/middleware/proxy_headers.py", line 59, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cbe3730>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cbe3730>>
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x10bba4040>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x10bb51370>
  File "/Library/Python/3.8/site-packages/fastapi/applications.py", line 199, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cbe3730>>
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cbe3730>>
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
  File "/Library/Python/3.8/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cbe3730>>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cbe3730>>
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x10c8c2a90>
          └ <fastapi.applications.FastAPI object at 0x10bba4040>
  File "/Library/Python/3.8/site-packages/starlette/middleware/errors.py", line 181, in __call__
    raise exc from None
  File "/Library/Python/3.8/site-packages/starlette/middleware/errors.py", line 159, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x10cbafe50>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cbe3730>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x10c8c2a30>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x10c8c2a90>
  File "/Library/Python/3.8/site-packages/starlette/middleware/base.py", line 25, in __call__
    response = await self.dispatch_func(request, self.call_next)
                     │    │             │        │    └ <function BaseHTTPMiddleware.call_next at 0x10c060940>
                     │    │             │        └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x10c8c2a30>
                     │    │             └ <starlette.requests.Request object at 0x10cbe3790>
                     │    └ <function add_process_time_header at 0x10caefd30>
                     └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x10c8c2a30>

  File "./app/__init__.py", line 65, in add_process_time_header
    response = await call_next(request)
                     │         └ <starlette.requests.Request object at 0x10cbe3790>
                     └ <bound method BaseHTTPMiddleware.call_next of <starlette.middleware.base.BaseHTTPMiddleware object at 0x10c8c2a30>>

  File "/Library/Python/3.8/site-packages/starlette/middleware/base.py", line 45, in call_next
    task.result()
    │    └ <method 'result' of '_asyncio.Task' objects>
    └ <Task finished name='Task-38' coro=<BaseHTTPMiddleware.call_next.<locals>.coro() done, defined at /Library/Python/3.8/site-pa...
  File "/Library/Python/3.8/site-packages/starlette/middleware/base.py", line 38, in coro
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method Queue.put of <Queue at 0x10cbe3160 maxsize=0 tasks=1>>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cbe3730>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x10c8c2a00>
          └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x10c8c2a30>
  File "/Library/Python/3.8/site-packages/starlette/middleware/cors.py", line 78, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method Queue.put of <Queue at 0x10cbe3160 maxsize=0 tasks=1>>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cbe3730>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x10c8c29a0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x10c8c2a00>
  File "/Library/Python/3.8/site-packages/starlette/exceptions.py", line 82, in __call__
    raise exc from None
  File "/Library/Python/3.8/site-packages/starlette/exceptions.py", line 71, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x10cbaff70>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cbe3730>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x10c894cd0>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x10c8c29a0>
  File "/Library/Python/3.8/site-packages/starlette/routing.py", line 580, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x10cbaff70>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cbe3730>>
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │     └ <function Route.handle at 0x10c02eaf0>
          └ <fastapi.routing.APIRoute object at 0x10cae4880>
  File "/Library/Python/3.8/site-packages/starlette/routing.py", line 241, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x10cbaff70>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cbe3730>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <function request_response.<locals>.app at 0x10cae0ca0>
          └ <fastapi.routing.APIRoute object at 0x10cae4880>
  File "/Library/Python/3.8/site-packages/starlette/routing.py", line 52, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x10cbe34f0>
                     └ <function get_request_handler.<locals>.app at 0x10cae0c10>
  File "/Library/Python/3.8/site-packages/fastapi/routing.py", line 214, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x10c019b80>
  File "/Library/Python/3.8/site-packages/fastapi/routing.py", line 149, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'request': <starlette.requests.Request object at 0x10cbe34f0>}
                 │         └ <function action at 0x10c9c0670>
                 └ <fastapi.dependencies.models.Dependant object at 0x10cae4970>

  File "./app/routers/conversation.py", line 10, in action
    return await controller.index(request)
                 │          │     └ <starlette.requests.Request object at 0x10cbe34f0>
                 │          └ <staticmethod object at 0x10c9577c0>
                 └ <class 'app.controllers.Conversation.Conversation'>

  File "./app/controllers/Conversation.py", line 195, in index
    login = Login(agent)
            │     └ <dialogflow_fulfillment.webhook_client.WebhookClient object at 0x10cbe38b0>
            └ <class 'app.libraries.Login.Login'>

TypeError: __init__() should return None, not 'dict'
ERROR    2021-07-27 22:25:37.112 request id: app - uvicorn.protocols.http.h11_impl:run_asgi - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 5
               │     └ 8
               └ <function _main at 0x10b3f20d0>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 5
           │    └ <function BaseProcess._bootstrap at 0x10b1c5b80>
           └ <SpawnProcess name='SpawnProcess-23' parent=7596 started>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x10b1c51f0>
    └ <SpawnProcess name='SpawnProcess-23' parent=7596 started>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x10b459100>, 'target': <bound method Server.run of <uvicorn.server.Server object...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-23' parent=7596 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-23' parent=7596 started>
    │    └ <function subprocess_started at 0x10ba31670>
    └ <SpawnProcess name='SpawnProcess-23' parent=7596 started>
  File "/Library/Python/3.8/site-packages/uvicorn/subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=4, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 5000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x10b4591f0>>
  File "/Library/Python/3.8/site-packages/uvicorn/server.py", line 50, in run
    loop.run_until_complete(self.serve(sockets=sockets))
    │    │                  │    │             └ [<socket.socket fd=4, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 5000)>]
    │    │                  │    └ <function Server.serve at 0x10ba2ec10>
    │    │                  └ <uvicorn.server.Server object at 0x10b4591f0>
    │    └ <function BaseEventLoop.run_until_complete at 0x10b6eb790>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/asyncio/base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x10b6eb700>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/asyncio/base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x10b6ed280>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/asyncio/base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x10b620160>
    └ <Handle <TaskWakeupMethWrapper object at 0x10cbe3220>(<Future finished result=None>)>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/asyncio/events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x10cbe3220>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x10cbe3220>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x10cbe3220>(<Future finished result=None>)>
> File "/Library/Python/3.8/site-packages/uvicorn/protocols/http/h11_impl.py", line 369, in run_asgi
    result = await app(self.scope, self.receive, self.send)
                   │   │    │      │    │        │    └ <function RequestResponseCycle.send at 0x10bba5310>
                   │   │    │      │    │        └ <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cbe3730>
                   │   │    │      │    └ <function RequestResponseCycle.receive at 0x10bba53a0>
                   │   │    │      └ <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cbe3730>
                   │   │    └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
                   │   └ <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cbe3730>
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x10bb51370>
  File "/Library/Python/3.8/site-packages/uvicorn/middleware/proxy_headers.py", line 59, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cbe3730>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cbe3730>>
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x10bba4040>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x10bb51370>
  File "/Library/Python/3.8/site-packages/fastapi/applications.py", line 199, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cbe3730>>
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cbe3730>>
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
  File "/Library/Python/3.8/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cbe3730>>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cbe3730>>
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x10c8c2a90>
          └ <fastapi.applications.FastAPI object at 0x10bba4040>
  File "/Library/Python/3.8/site-packages/starlette/middleware/errors.py", line 181, in __call__
    raise exc from None
  File "/Library/Python/3.8/site-packages/starlette/middleware/errors.py", line 159, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x10cbafe50>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cbe3730>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x10c8c2a30>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x10c8c2a90>
  File "/Library/Python/3.8/site-packages/starlette/middleware/base.py", line 25, in __call__
    response = await self.dispatch_func(request, self.call_next)
                     │    │             │        │    └ <function BaseHTTPMiddleware.call_next at 0x10c060940>
                     │    │             │        └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x10c8c2a30>
                     │    │             └ <starlette.requests.Request object at 0x10cbe3790>
                     │    └ <function add_process_time_header at 0x10caefd30>
                     └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x10c8c2a30>

  File "./app/__init__.py", line 65, in add_process_time_header
    response = await call_next(request)
                     │         └ <starlette.requests.Request object at 0x10cbe3790>
                     └ <bound method BaseHTTPMiddleware.call_next of <starlette.middleware.base.BaseHTTPMiddleware object at 0x10c8c2a30>>

  File "/Library/Python/3.8/site-packages/starlette/middleware/base.py", line 45, in call_next
    task.result()
    │    └ <method 'result' of '_asyncio.Task' objects>
    └ <Task finished name='Task-38' coro=<BaseHTTPMiddleware.call_next.<locals>.coro() done, defined at /Library/Python/3.8/site-pa...
  File "/Library/Python/3.8/site-packages/starlette/middleware/base.py", line 38, in coro
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method Queue.put of <Queue at 0x10cbe3160 maxsize=0 tasks=1>>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cbe3730>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x10c8c2a00>
          └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x10c8c2a30>
  File "/Library/Python/3.8/site-packages/starlette/middleware/cors.py", line 78, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method Queue.put of <Queue at 0x10cbe3160 maxsize=0 tasks=1>>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cbe3730>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x10c8c29a0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x10c8c2a00>
  File "/Library/Python/3.8/site-packages/starlette/exceptions.py", line 82, in __call__
    raise exc from None
  File "/Library/Python/3.8/site-packages/starlette/exceptions.py", line 71, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x10cbaff70>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cbe3730>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x10c894cd0>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x10c8c29a0>
  File "/Library/Python/3.8/site-packages/starlette/routing.py", line 580, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x10cbaff70>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cbe3730>>
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │     └ <function Route.handle at 0x10c02eaf0>
          └ <fastapi.routing.APIRoute object at 0x10cae4880>
  File "/Library/Python/3.8/site-packages/starlette/routing.py", line 241, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x10cbaff70>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cbe3730>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <function request_response.<locals>.app at 0x10cae0ca0>
          └ <fastapi.routing.APIRoute object at 0x10cae4880>
  File "/Library/Python/3.8/site-packages/starlette/routing.py", line 52, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x10cbe34f0>
                     └ <function get_request_handler.<locals>.app at 0x10cae0c10>
  File "/Library/Python/3.8/site-packages/fastapi/routing.py", line 214, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x10c019b80>
  File "/Library/Python/3.8/site-packages/fastapi/routing.py", line 149, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'request': <starlette.requests.Request object at 0x10cbe34f0>}
                 │         └ <function action at 0x10c9c0670>
                 └ <fastapi.dependencies.models.Dependant object at 0x10cae4970>

  File "./app/routers/conversation.py", line 10, in action
    return await controller.index(request)
                 │          │     └ <starlette.requests.Request object at 0x10cbe34f0>
                 │          └ <staticmethod object at 0x10c9577c0>
                 └ <class 'app.controllers.Conversation.Conversation'>

  File "./app/controllers/Conversation.py", line 195, in index
    login = Login(agent)
            │     └ <dialogflow_fulfillment.webhook_client.WebhookClient object at 0x10cbe38b0>
            └ <class 'app.libraries.Login.Login'>

TypeError: __init__() should return None, not 'dict'
INFO     2021-07-27 22:25:51.913 request id: app - uvicorn.protocols.http.h11_impl:send - 66.249.83.82:0 - "POST /webhook HTTP/1.1" 500
ERROR    2021-07-27 22:25:51.918 request id: app - uvicorn.protocols.http.h11_impl:run_asgi - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 5
               │     └ 8
               └ <function _main at 0x10b3f20d0>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 5
           │    └ <function BaseProcess._bootstrap at 0x10b1c5b80>
           └ <SpawnProcess name='SpawnProcess-23' parent=7596 started>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x10b1c51f0>
    └ <SpawnProcess name='SpawnProcess-23' parent=7596 started>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x10b459100>, 'target': <bound method Server.run of <uvicorn.server.Server object...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-23' parent=7596 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-23' parent=7596 started>
    │    └ <function subprocess_started at 0x10ba31670>
    └ <SpawnProcess name='SpawnProcess-23' parent=7596 started>
  File "/Library/Python/3.8/site-packages/uvicorn/subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=4, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 5000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x10b4591f0>>
  File "/Library/Python/3.8/site-packages/uvicorn/server.py", line 50, in run
    loop.run_until_complete(self.serve(sockets=sockets))
    │    │                  │    │             └ [<socket.socket fd=4, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 5000)>]
    │    │                  │    └ <function Server.serve at 0x10ba2ec10>
    │    │                  └ <uvicorn.server.Server object at 0x10b4591f0>
    │    └ <function BaseEventLoop.run_until_complete at 0x10b6eb790>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/asyncio/base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x10b6eb700>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/asyncio/base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x10b6ed280>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/asyncio/base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x10b620160>
    └ <Handle <TaskWakeupMethWrapper object at 0x10cbeb0a0>(<Future finished result=None>)>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/asyncio/events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x10cbeb0a0>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x10cbeb0a0>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x10cbeb0a0>(<Future finished result=None>)>
> File "/Library/Python/3.8/site-packages/uvicorn/protocols/http/h11_impl.py", line 369, in run_asgi
    result = await app(self.scope, self.receive, self.send)
                   │   │    │      │    │        │    └ <function RequestResponseCycle.send at 0x10bba5310>
                   │   │    │      │    │        └ <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cbeb400>
                   │   │    │      │    └ <function RequestResponseCycle.receive at 0x10bba53a0>
                   │   │    │      └ <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cbeb400>
                   │   │    └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
                   │   └ <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cbeb400>
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x10bb51370>
  File "/Library/Python/3.8/site-packages/uvicorn/middleware/proxy_headers.py", line 59, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cbeb400>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cbeb400>>
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x10bba4040>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x10bb51370>
  File "/Library/Python/3.8/site-packages/fastapi/applications.py", line 199, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cbeb400>>
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cbeb400>>
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
  File "/Library/Python/3.8/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cbeb400>>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cbeb400>>
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x10c8c2a90>
          └ <fastapi.applications.FastAPI object at 0x10bba4040>
  File "/Library/Python/3.8/site-packages/starlette/middleware/errors.py", line 181, in __call__
    raise exc from None
  File "/Library/Python/3.8/site-packages/starlette/middleware/errors.py", line 159, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x10cbe90d0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cbeb400>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x10c8c2a30>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x10c8c2a90>
  File "/Library/Python/3.8/site-packages/starlette/middleware/base.py", line 25, in __call__
    response = await self.dispatch_func(request, self.call_next)
                     │    │             │        │    └ <function BaseHTTPMiddleware.call_next at 0x10c060940>
                     │    │             │        └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x10c8c2a30>
                     │    │             └ <starlette.requests.Request object at 0x10cbe3fd0>
                     │    └ <function add_process_time_header at 0x10caefd30>
                     └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x10c8c2a30>

  File "./app/__init__.py", line 65, in add_process_time_header
    response = await call_next(request)
                     │         └ <starlette.requests.Request object at 0x10cbe3fd0>
                     └ <bound method BaseHTTPMiddleware.call_next of <starlette.middleware.base.BaseHTTPMiddleware object at 0x10c8c2a30>>

  File "/Library/Python/3.8/site-packages/starlette/middleware/base.py", line 45, in call_next
    task.result()
    │    └ <method 'result' of '_asyncio.Task' objects>
    └ <Task finished name='Task-42' coro=<BaseHTTPMiddleware.call_next.<locals>.coro() done, defined at /Library/Python/3.8/site-pa...
  File "/Library/Python/3.8/site-packages/starlette/middleware/base.py", line 38, in coro
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method Queue.put of <Queue at 0x10cbeb460 maxsize=0 tasks=1>>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cbeb400>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x10c8c2a00>
          └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x10c8c2a30>
  File "/Library/Python/3.8/site-packages/starlette/middleware/cors.py", line 78, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method Queue.put of <Queue at 0x10cbeb460 maxsize=0 tasks=1>>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cbeb400>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x10c8c29a0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x10c8c2a00>
  File "/Library/Python/3.8/site-packages/starlette/exceptions.py", line 82, in __call__
    raise exc from None
  File "/Library/Python/3.8/site-packages/starlette/exceptions.py", line 71, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x10cbe91f0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cbeb400>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x10c894cd0>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x10c8c29a0>
  File "/Library/Python/3.8/site-packages/starlette/routing.py", line 580, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x10cbe91f0>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cbeb400>>
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │     └ <function Route.handle at 0x10c02eaf0>
          └ <fastapi.routing.APIRoute object at 0x10cae4880>
  File "/Library/Python/3.8/site-packages/starlette/routing.py", line 241, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x10cbe91f0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cbeb400>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <function request_response.<locals>.app at 0x10cae0ca0>
          └ <fastapi.routing.APIRoute object at 0x10cae4880>
  File "/Library/Python/3.8/site-packages/starlette/routing.py", line 52, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x10cbeb190>
                     └ <function get_request_handler.<locals>.app at 0x10cae0c10>
  File "/Library/Python/3.8/site-packages/fastapi/routing.py", line 214, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x10c019b80>
  File "/Library/Python/3.8/site-packages/fastapi/routing.py", line 149, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'request': <starlette.requests.Request object at 0x10cbeb190>}
                 │         └ <function action at 0x10c9c0670>
                 └ <fastapi.dependencies.models.Dependant object at 0x10cae4970>

  File "./app/routers/conversation.py", line 10, in action
    return await controller.index(request)
                 │          │     └ <starlette.requests.Request object at 0x10cbeb190>
                 │          └ <staticmethod object at 0x10c9577c0>
                 └ <class 'app.controllers.Conversation.Conversation'>

  File "./app/controllers/Conversation.py", line 194, in index
    agent = WebhookClient(req)
            │             └ {'responseId': 'd9157f15-626a-47ac-a017-b92bd1a19bcf-046d94d0', 'queryResult': {'action': 'input.unknown', 'parameters': {}, ...
            └ <class 'dialogflow_fulfillment.webhook_client.WebhookClient'>

  File "/Library/Python/3.8/site-packages/dialogflow_fulfillment/webhook_client.py", line 52, in __init__
    self._process_request(request)
    │    │                └ {'responseId': 'd9157f15-626a-47ac-a017-b92bd1a19bcf-046d94d0', 'queryResult': {'action': 'input.unknown', 'parameters': {}, ...
    │    └ <function WebhookClient._process_request at 0x10c96d550>
    └ <dialogflow_fulfillment.webhook_client.WebhookClient object at 0x10cbeb580>
  File "/Library/Python/3.8/site-packages/dialogflow_fulfillment/webhook_client.py", line 69, in _process_request
    self.query = query_result['queryText']
    │            └ {'action': 'input.unknown', 'parameters': {}, 'allRequiredParamsPresent': True, 'fulfillmentText': 'Evita tidak dengar Anda b...
    └ <dialogflow_fulfillment.webhook_client.WebhookClient object at 0x10cbeb580>

KeyError: 'queryText'
ERROR    2021-07-27 22:25:51.952 request id: app - uvicorn.protocols.http.h11_impl:run_asgi - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 5
               │     └ 8
               └ <function _main at 0x10b3f20d0>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 5
           │    └ <function BaseProcess._bootstrap at 0x10b1c5b80>
           └ <SpawnProcess name='SpawnProcess-23' parent=7596 started>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x10b1c51f0>
    └ <SpawnProcess name='SpawnProcess-23' parent=7596 started>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x10b459100>, 'target': <bound method Server.run of <uvicorn.server.Server object...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-23' parent=7596 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-23' parent=7596 started>
    │    └ <function subprocess_started at 0x10ba31670>
    └ <SpawnProcess name='SpawnProcess-23' parent=7596 started>
  File "/Library/Python/3.8/site-packages/uvicorn/subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=4, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 5000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x10b4591f0>>
  File "/Library/Python/3.8/site-packages/uvicorn/server.py", line 50, in run
    loop.run_until_complete(self.serve(sockets=sockets))
    │    │                  │    │             └ [<socket.socket fd=4, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 5000)>]
    │    │                  │    └ <function Server.serve at 0x10ba2ec10>
    │    │                  └ <uvicorn.server.Server object at 0x10b4591f0>
    │    └ <function BaseEventLoop.run_until_complete at 0x10b6eb790>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/asyncio/base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x10b6eb700>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/asyncio/base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x10b6ed280>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/asyncio/base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x10b620160>
    └ <Handle <TaskWakeupMethWrapper object at 0x10cbeb0a0>(<Future finished result=None>)>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/asyncio/events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x10cbeb0a0>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x10cbeb0a0>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x10cbeb0a0>(<Future finished result=None>)>
> File "/Library/Python/3.8/site-packages/uvicorn/protocols/http/h11_impl.py", line 369, in run_asgi
    result = await app(self.scope, self.receive, self.send)
                   │   │    │      │    │        │    └ <function RequestResponseCycle.send at 0x10bba5310>
                   │   │    │      │    │        └ <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cbeb400>
                   │   │    │      │    └ <function RequestResponseCycle.receive at 0x10bba53a0>
                   │   │    │      └ <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cbeb400>
                   │   │    └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
                   │   └ <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cbeb400>
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x10bb51370>
  File "/Library/Python/3.8/site-packages/uvicorn/middleware/proxy_headers.py", line 59, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cbeb400>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cbeb400>>
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x10bba4040>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x10bb51370>
  File "/Library/Python/3.8/site-packages/fastapi/applications.py", line 199, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cbeb400>>
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cbeb400>>
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
  File "/Library/Python/3.8/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cbeb400>>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cbeb400>>
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x10c8c2a90>
          └ <fastapi.applications.FastAPI object at 0x10bba4040>
  File "/Library/Python/3.8/site-packages/starlette/middleware/errors.py", line 181, in __call__
    raise exc from None
  File "/Library/Python/3.8/site-packages/starlette/middleware/errors.py", line 159, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x10cbe90d0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cbeb400>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x10c8c2a30>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x10c8c2a90>
  File "/Library/Python/3.8/site-packages/starlette/middleware/base.py", line 25, in __call__
    response = await self.dispatch_func(request, self.call_next)
                     │    │             │        │    └ <function BaseHTTPMiddleware.call_next at 0x10c060940>
                     │    │             │        └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x10c8c2a30>
                     │    │             └ <starlette.requests.Request object at 0x10cbe3fd0>
                     │    └ <function add_process_time_header at 0x10caefd30>
                     └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x10c8c2a30>

  File "./app/__init__.py", line 65, in add_process_time_header
    response = await call_next(request)
                     │         └ <starlette.requests.Request object at 0x10cbe3fd0>
                     └ <bound method BaseHTTPMiddleware.call_next of <starlette.middleware.base.BaseHTTPMiddleware object at 0x10c8c2a30>>

  File "/Library/Python/3.8/site-packages/starlette/middleware/base.py", line 45, in call_next
    task.result()
    │    └ <method 'result' of '_asyncio.Task' objects>
    └ <Task finished name='Task-42' coro=<BaseHTTPMiddleware.call_next.<locals>.coro() done, defined at /Library/Python/3.8/site-pa...
  File "/Library/Python/3.8/site-packages/starlette/middleware/base.py", line 38, in coro
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method Queue.put of <Queue at 0x10cbeb460 maxsize=0 tasks=1>>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cbeb400>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x10c8c2a00>
          └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x10c8c2a30>
  File "/Library/Python/3.8/site-packages/starlette/middleware/cors.py", line 78, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method Queue.put of <Queue at 0x10cbeb460 maxsize=0 tasks=1>>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cbeb400>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x10c8c29a0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x10c8c2a00>
  File "/Library/Python/3.8/site-packages/starlette/exceptions.py", line 82, in __call__
    raise exc from None
  File "/Library/Python/3.8/site-packages/starlette/exceptions.py", line 71, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x10cbe91f0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cbeb400>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x10c894cd0>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x10c8c29a0>
  File "/Library/Python/3.8/site-packages/starlette/routing.py", line 580, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x10cbe91f0>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cbeb400>>
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │     └ <function Route.handle at 0x10c02eaf0>
          └ <fastapi.routing.APIRoute object at 0x10cae4880>
  File "/Library/Python/3.8/site-packages/starlette/routing.py", line 241, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x10cbe91f0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cbeb400>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <function request_response.<locals>.app at 0x10cae0ca0>
          └ <fastapi.routing.APIRoute object at 0x10cae4880>
  File "/Library/Python/3.8/site-packages/starlette/routing.py", line 52, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x10cbeb190>
                     └ <function get_request_handler.<locals>.app at 0x10cae0c10>
  File "/Library/Python/3.8/site-packages/fastapi/routing.py", line 214, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x10c019b80>
  File "/Library/Python/3.8/site-packages/fastapi/routing.py", line 149, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'request': <starlette.requests.Request object at 0x10cbeb190>}
                 │         └ <function action at 0x10c9c0670>
                 └ <fastapi.dependencies.models.Dependant object at 0x10cae4970>

  File "./app/routers/conversation.py", line 10, in action
    return await controller.index(request)
                 │          │     └ <starlette.requests.Request object at 0x10cbeb190>
                 │          └ <staticmethod object at 0x10c9577c0>
                 └ <class 'app.controllers.Conversation.Conversation'>

  File "./app/controllers/Conversation.py", line 194, in index
    agent = WebhookClient(req)
            │             └ {'responseId': 'd9157f15-626a-47ac-a017-b92bd1a19bcf-046d94d0', 'queryResult': {'action': 'input.unknown', 'parameters': {}, ...
            └ <class 'dialogflow_fulfillment.webhook_client.WebhookClient'>

  File "/Library/Python/3.8/site-packages/dialogflow_fulfillment/webhook_client.py", line 52, in __init__
    self._process_request(request)
    │    │                └ {'responseId': 'd9157f15-626a-47ac-a017-b92bd1a19bcf-046d94d0', 'queryResult': {'action': 'input.unknown', 'parameters': {}, ...
    │    └ <function WebhookClient._process_request at 0x10c96d550>
    └ <dialogflow_fulfillment.webhook_client.WebhookClient object at 0x10cbeb580>
  File "/Library/Python/3.8/site-packages/dialogflow_fulfillment/webhook_client.py", line 69, in _process_request
    self.query = query_result['queryText']
    │            └ {'action': 'input.unknown', 'parameters': {}, 'allRequiredParamsPresent': True, 'fulfillmentText': 'Evita tidak dengar Anda b...
    └ <dialogflow_fulfillment.webhook_client.WebhookClient object at 0x10cbeb580>

KeyError: 'queryText'
ERROR    2021-07-27 22:25:51.974 request id: app - uvicorn.protocols.http.h11_impl:run_asgi - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 5
               │     └ 8
               └ <function _main at 0x10b3f20d0>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 5
           │    └ <function BaseProcess._bootstrap at 0x10b1c5b80>
           └ <SpawnProcess name='SpawnProcess-23' parent=7596 started>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x10b1c51f0>
    └ <SpawnProcess name='SpawnProcess-23' parent=7596 started>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x10b459100>, 'target': <bound method Server.run of <uvicorn.server.Server object...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-23' parent=7596 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-23' parent=7596 started>
    │    └ <function subprocess_started at 0x10ba31670>
    └ <SpawnProcess name='SpawnProcess-23' parent=7596 started>
  File "/Library/Python/3.8/site-packages/uvicorn/subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=4, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 5000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x10b4591f0>>
  File "/Library/Python/3.8/site-packages/uvicorn/server.py", line 50, in run
    loop.run_until_complete(self.serve(sockets=sockets))
    │    │                  │    │             └ [<socket.socket fd=4, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 5000)>]
    │    │                  │    └ <function Server.serve at 0x10ba2ec10>
    │    │                  └ <uvicorn.server.Server object at 0x10b4591f0>
    │    └ <function BaseEventLoop.run_until_complete at 0x10b6eb790>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/asyncio/base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x10b6eb700>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/asyncio/base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x10b6ed280>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/asyncio/base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x10b620160>
    └ <Handle <TaskWakeupMethWrapper object at 0x10cbeb0a0>(<Future finished result=None>)>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/asyncio/events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x10cbeb0a0>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x10cbeb0a0>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x10cbeb0a0>(<Future finished result=None>)>
> File "/Library/Python/3.8/site-packages/uvicorn/protocols/http/h11_impl.py", line 369, in run_asgi
    result = await app(self.scope, self.receive, self.send)
                   │   │    │      │    │        │    └ <function RequestResponseCycle.send at 0x10bba5310>
                   │   │    │      │    │        └ <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cbeb400>
                   │   │    │      │    └ <function RequestResponseCycle.receive at 0x10bba53a0>
                   │   │    │      └ <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cbeb400>
                   │   │    └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
                   │   └ <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cbeb400>
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x10bb51370>
  File "/Library/Python/3.8/site-packages/uvicorn/middleware/proxy_headers.py", line 59, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cbeb400>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cbeb400>>
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x10bba4040>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x10bb51370>
  File "/Library/Python/3.8/site-packages/fastapi/applications.py", line 199, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cbeb400>>
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cbeb400>>
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
  File "/Library/Python/3.8/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cbeb400>>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cbeb400>>
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x10c8c2a90>
          └ <fastapi.applications.FastAPI object at 0x10bba4040>
  File "/Library/Python/3.8/site-packages/starlette/middleware/errors.py", line 181, in __call__
    raise exc from None
  File "/Library/Python/3.8/site-packages/starlette/middleware/errors.py", line 159, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x10cbe90d0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cbeb400>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x10c8c2a30>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x10c8c2a90>
  File "/Library/Python/3.8/site-packages/starlette/middleware/base.py", line 25, in __call__
    response = await self.dispatch_func(request, self.call_next)
                     │    │             │        │    └ <function BaseHTTPMiddleware.call_next at 0x10c060940>
                     │    │             │        └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x10c8c2a30>
                     │    │             └ <starlette.requests.Request object at 0x10cbe3fd0>
                     │    └ <function add_process_time_header at 0x10caefd30>
                     └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x10c8c2a30>

  File "./app/__init__.py", line 65, in add_process_time_header
    response = await call_next(request)
                     │         └ <starlette.requests.Request object at 0x10cbe3fd0>
                     └ <bound method BaseHTTPMiddleware.call_next of <starlette.middleware.base.BaseHTTPMiddleware object at 0x10c8c2a30>>

  File "/Library/Python/3.8/site-packages/starlette/middleware/base.py", line 45, in call_next
    task.result()
    │    └ <method 'result' of '_asyncio.Task' objects>
    └ <Task finished name='Task-42' coro=<BaseHTTPMiddleware.call_next.<locals>.coro() done, defined at /Library/Python/3.8/site-pa...
  File "/Library/Python/3.8/site-packages/starlette/middleware/base.py", line 38, in coro
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method Queue.put of <Queue at 0x10cbeb460 maxsize=0 tasks=1>>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cbeb400>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x10c8c2a00>
          └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x10c8c2a30>
  File "/Library/Python/3.8/site-packages/starlette/middleware/cors.py", line 78, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method Queue.put of <Queue at 0x10cbeb460 maxsize=0 tasks=1>>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cbeb400>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x10c8c29a0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x10c8c2a00>
  File "/Library/Python/3.8/site-packages/starlette/exceptions.py", line 82, in __call__
    raise exc from None
  File "/Library/Python/3.8/site-packages/starlette/exceptions.py", line 71, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x10cbe91f0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cbeb400>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x10c894cd0>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x10c8c29a0>
  File "/Library/Python/3.8/site-packages/starlette/routing.py", line 580, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x10cbe91f0>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cbeb400>>
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │     └ <function Route.handle at 0x10c02eaf0>
          └ <fastapi.routing.APIRoute object at 0x10cae4880>
  File "/Library/Python/3.8/site-packages/starlette/routing.py", line 241, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x10cbe91f0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cbeb400>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <function request_response.<locals>.app at 0x10cae0ca0>
          └ <fastapi.routing.APIRoute object at 0x10cae4880>
  File "/Library/Python/3.8/site-packages/starlette/routing.py", line 52, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x10cbeb190>
                     └ <function get_request_handler.<locals>.app at 0x10cae0c10>
  File "/Library/Python/3.8/site-packages/fastapi/routing.py", line 214, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x10c019b80>
  File "/Library/Python/3.8/site-packages/fastapi/routing.py", line 149, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'request': <starlette.requests.Request object at 0x10cbeb190>}
                 │         └ <function action at 0x10c9c0670>
                 └ <fastapi.dependencies.models.Dependant object at 0x10cae4970>

  File "./app/routers/conversation.py", line 10, in action
    return await controller.index(request)
                 │          │     └ <starlette.requests.Request object at 0x10cbeb190>
                 │          └ <staticmethod object at 0x10c9577c0>
                 └ <class 'app.controllers.Conversation.Conversation'>

  File "./app/controllers/Conversation.py", line 194, in index
    agent = WebhookClient(req)
            │             └ {'responseId': 'd9157f15-626a-47ac-a017-b92bd1a19bcf-046d94d0', 'queryResult': {'action': 'input.unknown', 'parameters': {}, ...
            └ <class 'dialogflow_fulfillment.webhook_client.WebhookClient'>

  File "/Library/Python/3.8/site-packages/dialogflow_fulfillment/webhook_client.py", line 52, in __init__
    self._process_request(request)
    │    │                └ {'responseId': 'd9157f15-626a-47ac-a017-b92bd1a19bcf-046d94d0', 'queryResult': {'action': 'input.unknown', 'parameters': {}, ...
    │    └ <function WebhookClient._process_request at 0x10c96d550>
    └ <dialogflow_fulfillment.webhook_client.WebhookClient object at 0x10cbeb580>
  File "/Library/Python/3.8/site-packages/dialogflow_fulfillment/webhook_client.py", line 69, in _process_request
    self.query = query_result['queryText']
    │            └ {'action': 'input.unknown', 'parameters': {}, 'allRequiredParamsPresent': True, 'fulfillmentText': 'Evita tidak dengar Anda b...
    └ <dialogflow_fulfillment.webhook_client.WebhookClient object at 0x10cbeb580>

KeyError: 'queryText'
INFO     2021-07-27 22:28:30.678 request id: app - uvicorn.protocols.http.h11_impl:send - 66.249.83.83:0 - "POST /webhook HTTP/1.1" 200
INFO     2021-07-27 22:28:37.507 request id: app - uvicorn.protocols.http.h11_impl:send - 66.249.83.83:0 - "POST /webhook HTTP/1.1" 500
ERROR    2021-07-27 22:28:37.509 request id: app - uvicorn.protocols.http.h11_impl:run_asgi - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 5
               │     └ 8
               └ <function _main at 0x10b3f20d0>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 5
           │    └ <function BaseProcess._bootstrap at 0x10b1c5b80>
           └ <SpawnProcess name='SpawnProcess-23' parent=7596 started>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x10b1c51f0>
    └ <SpawnProcess name='SpawnProcess-23' parent=7596 started>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x10b459100>, 'target': <bound method Server.run of <uvicorn.server.Server object...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-23' parent=7596 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-23' parent=7596 started>
    │    └ <function subprocess_started at 0x10ba31670>
    └ <SpawnProcess name='SpawnProcess-23' parent=7596 started>
  File "/Library/Python/3.8/site-packages/uvicorn/subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=4, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 5000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x10b4591f0>>
  File "/Library/Python/3.8/site-packages/uvicorn/server.py", line 50, in run
    loop.run_until_complete(self.serve(sockets=sockets))
    │    │                  │    │             └ [<socket.socket fd=4, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 5000)>]
    │    │                  │    └ <function Server.serve at 0x10ba2ec10>
    │    │                  └ <uvicorn.server.Server object at 0x10b4591f0>
    │    └ <function BaseEventLoop.run_until_complete at 0x10b6eb790>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/asyncio/base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x10b6eb700>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/asyncio/base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x10b6ed280>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/asyncio/base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x10b620160>
    └ <Handle <TaskWakeupMethWrapper object at 0x10cbe32b0>(<Future finished result=None>)>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/asyncio/events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x10cbe32b0>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x10cbe32b0>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x10cbe32b0>(<Future finished result=None>)>
> File "/Library/Python/3.8/site-packages/uvicorn/protocols/http/h11_impl.py", line 369, in run_asgi
    result = await app(self.scope, self.receive, self.send)
                   │   │    │      │    │        │    └ <function RequestResponseCycle.send at 0x10bba5310>
                   │   │    │      │    │        └ <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cbe3370>
                   │   │    │      │    └ <function RequestResponseCycle.receive at 0x10bba53a0>
                   │   │    │      └ <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cbe3370>
                   │   │    └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
                   │   └ <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cbe3370>
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x10bb51370>
  File "/Library/Python/3.8/site-packages/uvicorn/middleware/proxy_headers.py", line 59, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cbe3370>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cbe3370>>
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x10bba4040>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x10bb51370>
  File "/Library/Python/3.8/site-packages/fastapi/applications.py", line 199, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cbe3370>>
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cbe3370>>
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
  File "/Library/Python/3.8/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cbe3370>>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cbe3370>>
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x10c8c2a90>
          └ <fastapi.applications.FastAPI object at 0x10bba4040>
  File "/Library/Python/3.8/site-packages/starlette/middleware/errors.py", line 181, in __call__
    raise exc from None
  File "/Library/Python/3.8/site-packages/starlette/middleware/errors.py", line 159, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x10cbafee0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cbe3370>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x10c8c2a30>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x10c8c2a90>
  File "/Library/Python/3.8/site-packages/starlette/middleware/base.py", line 25, in __call__
    response = await self.dispatch_func(request, self.call_next)
                     │    │             │        │    └ <function BaseHTTPMiddleware.call_next at 0x10c060940>
                     │    │             │        └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x10c8c2a30>
                     │    │             └ <starlette.requests.Request object at 0x10cbe3550>
                     │    └ <function add_process_time_header at 0x10caefd30>
                     └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x10c8c2a30>

  File "./app/__init__.py", line 65, in add_process_time_header
    response = await call_next(request)
                     │         └ <starlette.requests.Request object at 0x10cbe3550>
                     └ <bound method BaseHTTPMiddleware.call_next of <starlette.middleware.base.BaseHTTPMiddleware object at 0x10c8c2a30>>

  File "/Library/Python/3.8/site-packages/starlette/middleware/base.py", line 45, in call_next
    task.result()
    │    └ <method 'result' of '_asyncio.Task' objects>
    └ <Task finished name='Task-52' coro=<BaseHTTPMiddleware.call_next.<locals>.coro() done, defined at /Library/Python/3.8/site-pa...
  File "/Library/Python/3.8/site-packages/starlette/middleware/base.py", line 38, in coro
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method Queue.put of <Queue at 0x10cbe3f40 maxsize=0 tasks=1>>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cbe3370>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x10c8c2a00>
          └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x10c8c2a30>
  File "/Library/Python/3.8/site-packages/starlette/middleware/cors.py", line 78, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method Queue.put of <Queue at 0x10cbe3f40 maxsize=0 tasks=1>>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cbe3370>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x10c8c29a0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x10c8c2a00>
  File "/Library/Python/3.8/site-packages/starlette/exceptions.py", line 82, in __call__
    raise exc from None
  File "/Library/Python/3.8/site-packages/starlette/exceptions.py", line 71, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x10cbafdc0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cbe3370>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x10c894cd0>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x10c8c29a0>
  File "/Library/Python/3.8/site-packages/starlette/routing.py", line 580, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x10cbafdc0>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cbe3370>>
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │     └ <function Route.handle at 0x10c02eaf0>
          └ <fastapi.routing.APIRoute object at 0x10cae4880>
  File "/Library/Python/3.8/site-packages/starlette/routing.py", line 241, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x10cbafdc0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cbe3370>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <function request_response.<locals>.app at 0x10cae0ca0>
          └ <fastapi.routing.APIRoute object at 0x10cae4880>
  File "/Library/Python/3.8/site-packages/starlette/routing.py", line 52, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x10cbe39a0>
                     └ <function get_request_handler.<locals>.app at 0x10cae0c10>
  File "/Library/Python/3.8/site-packages/fastapi/routing.py", line 214, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x10c019b80>
  File "/Library/Python/3.8/site-packages/fastapi/routing.py", line 149, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'request': <starlette.requests.Request object at 0x10cbe39a0>}
                 │         └ <function action at 0x10c9c0670>
                 └ <fastapi.dependencies.models.Dependant object at 0x10cae4970>

  File "./app/routers/conversation.py", line 10, in action
    return await controller.index(request)
                 │          │     └ <starlette.requests.Request object at 0x10cbe39a0>
                 │          └ <staticmethod object at 0x10c9577c0>
                 └ <class 'app.controllers.Conversation.Conversation'>

  File "./app/controllers/Conversation.py", line 194, in index
    agent = WebhookClient(req)
            │             └ {'responseId': '3215ec24-91af-438b-a1af-94d531ce852e-046d94d0', 'queryResult': {'action': 'input.unknown', 'parameters': {}, ...
            └ <class 'dialogflow_fulfillment.webhook_client.WebhookClient'>

  File "/Library/Python/3.8/site-packages/dialogflow_fulfillment/webhook_client.py", line 52, in __init__
    self._process_request(request)
    │    │                └ {'responseId': '3215ec24-91af-438b-a1af-94d531ce852e-046d94d0', 'queryResult': {'action': 'input.unknown', 'parameters': {}, ...
    │    └ <function WebhookClient._process_request at 0x10c96d550>
    └ <dialogflow_fulfillment.webhook_client.WebhookClient object at 0x10c8c2b50>
  File "/Library/Python/3.8/site-packages/dialogflow_fulfillment/webhook_client.py", line 69, in _process_request
    self.query = query_result['queryText']
    │            └ {'action': 'input.unknown', 'parameters': {}, 'allRequiredParamsPresent': True, 'fulfillmentText': 'Evita tidak mengerti. Bis...
    └ <dialogflow_fulfillment.webhook_client.WebhookClient object at 0x10c8c2b50>

KeyError: 'queryText'
ERROR    2021-07-27 22:28:37.533 request id: app - uvicorn.protocols.http.h11_impl:run_asgi - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 5
               │     └ 8
               └ <function _main at 0x10b3f20d0>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 5
           │    └ <function BaseProcess._bootstrap at 0x10b1c5b80>
           └ <SpawnProcess name='SpawnProcess-23' parent=7596 started>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x10b1c51f0>
    └ <SpawnProcess name='SpawnProcess-23' parent=7596 started>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x10b459100>, 'target': <bound method Server.run of <uvicorn.server.Server object...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-23' parent=7596 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-23' parent=7596 started>
    │    └ <function subprocess_started at 0x10ba31670>
    └ <SpawnProcess name='SpawnProcess-23' parent=7596 started>
  File "/Library/Python/3.8/site-packages/uvicorn/subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=4, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 5000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x10b4591f0>>
  File "/Library/Python/3.8/site-packages/uvicorn/server.py", line 50, in run
    loop.run_until_complete(self.serve(sockets=sockets))
    │    │                  │    │             └ [<socket.socket fd=4, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 5000)>]
    │    │                  │    └ <function Server.serve at 0x10ba2ec10>
    │    │                  └ <uvicorn.server.Server object at 0x10b4591f0>
    │    └ <function BaseEventLoop.run_until_complete at 0x10b6eb790>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/asyncio/base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x10b6eb700>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/asyncio/base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x10b6ed280>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/asyncio/base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x10b620160>
    └ <Handle <TaskWakeupMethWrapper object at 0x10cbe32b0>(<Future finished result=None>)>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/asyncio/events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x10cbe32b0>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x10cbe32b0>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x10cbe32b0>(<Future finished result=None>)>
> File "/Library/Python/3.8/site-packages/uvicorn/protocols/http/h11_impl.py", line 369, in run_asgi
    result = await app(self.scope, self.receive, self.send)
                   │   │    │      │    │        │    └ <function RequestResponseCycle.send at 0x10bba5310>
                   │   │    │      │    │        └ <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cbe3370>
                   │   │    │      │    └ <function RequestResponseCycle.receive at 0x10bba53a0>
                   │   │    │      └ <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cbe3370>
                   │   │    └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
                   │   └ <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cbe3370>
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x10bb51370>
  File "/Library/Python/3.8/site-packages/uvicorn/middleware/proxy_headers.py", line 59, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cbe3370>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cbe3370>>
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x10bba4040>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x10bb51370>
  File "/Library/Python/3.8/site-packages/fastapi/applications.py", line 199, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cbe3370>>
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cbe3370>>
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
  File "/Library/Python/3.8/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cbe3370>>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cbe3370>>
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x10c8c2a90>
          └ <fastapi.applications.FastAPI object at 0x10bba4040>
  File "/Library/Python/3.8/site-packages/starlette/middleware/errors.py", line 181, in __call__
    raise exc from None
  File "/Library/Python/3.8/site-packages/starlette/middleware/errors.py", line 159, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x10cbafee0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cbe3370>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x10c8c2a30>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x10c8c2a90>
  File "/Library/Python/3.8/site-packages/starlette/middleware/base.py", line 25, in __call__
    response = await self.dispatch_func(request, self.call_next)
                     │    │             │        │    └ <function BaseHTTPMiddleware.call_next at 0x10c060940>
                     │    │             │        └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x10c8c2a30>
                     │    │             └ <starlette.requests.Request object at 0x10cbe3550>
                     │    └ <function add_process_time_header at 0x10caefd30>
                     └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x10c8c2a30>

  File "./app/__init__.py", line 65, in add_process_time_header
    response = await call_next(request)
                     │         └ <starlette.requests.Request object at 0x10cbe3550>
                     └ <bound method BaseHTTPMiddleware.call_next of <starlette.middleware.base.BaseHTTPMiddleware object at 0x10c8c2a30>>

  File "/Library/Python/3.8/site-packages/starlette/middleware/base.py", line 45, in call_next
    task.result()
    │    └ <method 'result' of '_asyncio.Task' objects>
    └ <Task finished name='Task-52' coro=<BaseHTTPMiddleware.call_next.<locals>.coro() done, defined at /Library/Python/3.8/site-pa...
  File "/Library/Python/3.8/site-packages/starlette/middleware/base.py", line 38, in coro
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method Queue.put of <Queue at 0x10cbe3f40 maxsize=0 tasks=1>>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cbe3370>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x10c8c2a00>
          └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x10c8c2a30>
  File "/Library/Python/3.8/site-packages/starlette/middleware/cors.py", line 78, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method Queue.put of <Queue at 0x10cbe3f40 maxsize=0 tasks=1>>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cbe3370>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x10c8c29a0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x10c8c2a00>
  File "/Library/Python/3.8/site-packages/starlette/exceptions.py", line 82, in __call__
    raise exc from None
  File "/Library/Python/3.8/site-packages/starlette/exceptions.py", line 71, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x10cbafdc0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cbe3370>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x10c894cd0>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x10c8c29a0>
  File "/Library/Python/3.8/site-packages/starlette/routing.py", line 580, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x10cbafdc0>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cbe3370>>
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │     └ <function Route.handle at 0x10c02eaf0>
          └ <fastapi.routing.APIRoute object at 0x10cae4880>
  File "/Library/Python/3.8/site-packages/starlette/routing.py", line 241, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x10cbafdc0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cbe3370>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <function request_response.<locals>.app at 0x10cae0ca0>
          └ <fastapi.routing.APIRoute object at 0x10cae4880>
  File "/Library/Python/3.8/site-packages/starlette/routing.py", line 52, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x10cbe39a0>
                     └ <function get_request_handler.<locals>.app at 0x10cae0c10>
  File "/Library/Python/3.8/site-packages/fastapi/routing.py", line 214, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x10c019b80>
  File "/Library/Python/3.8/site-packages/fastapi/routing.py", line 149, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'request': <starlette.requests.Request object at 0x10cbe39a0>}
                 │         └ <function action at 0x10c9c0670>
                 └ <fastapi.dependencies.models.Dependant object at 0x10cae4970>

  File "./app/routers/conversation.py", line 10, in action
    return await controller.index(request)
                 │          │     └ <starlette.requests.Request object at 0x10cbe39a0>
                 │          └ <staticmethod object at 0x10c9577c0>
                 └ <class 'app.controllers.Conversation.Conversation'>

  File "./app/controllers/Conversation.py", line 194, in index
    agent = WebhookClient(req)
            │             └ {'responseId': '3215ec24-91af-438b-a1af-94d531ce852e-046d94d0', 'queryResult': {'action': 'input.unknown', 'parameters': {}, ...
            └ <class 'dialogflow_fulfillment.webhook_client.WebhookClient'>

  File "/Library/Python/3.8/site-packages/dialogflow_fulfillment/webhook_client.py", line 52, in __init__
    self._process_request(request)
    │    │                └ {'responseId': '3215ec24-91af-438b-a1af-94d531ce852e-046d94d0', 'queryResult': {'action': 'input.unknown', 'parameters': {}, ...
    │    └ <function WebhookClient._process_request at 0x10c96d550>
    └ <dialogflow_fulfillment.webhook_client.WebhookClient object at 0x10c8c2b50>
  File "/Library/Python/3.8/site-packages/dialogflow_fulfillment/webhook_client.py", line 69, in _process_request
    self.query = query_result['queryText']
    │            └ {'action': 'input.unknown', 'parameters': {}, 'allRequiredParamsPresent': True, 'fulfillmentText': 'Evita tidak mengerti. Bis...
    └ <dialogflow_fulfillment.webhook_client.WebhookClient object at 0x10c8c2b50>

KeyError: 'queryText'
ERROR    2021-07-27 22:28:37.549 request id: app - uvicorn.protocols.http.h11_impl:run_asgi - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 5
               │     └ 8
               └ <function _main at 0x10b3f20d0>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 5
           │    └ <function BaseProcess._bootstrap at 0x10b1c5b80>
           └ <SpawnProcess name='SpawnProcess-23' parent=7596 started>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x10b1c51f0>
    └ <SpawnProcess name='SpawnProcess-23' parent=7596 started>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x10b459100>, 'target': <bound method Server.run of <uvicorn.server.Server object...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-23' parent=7596 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-23' parent=7596 started>
    │    └ <function subprocess_started at 0x10ba31670>
    └ <SpawnProcess name='SpawnProcess-23' parent=7596 started>
  File "/Library/Python/3.8/site-packages/uvicorn/subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=4, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 5000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x10b4591f0>>
  File "/Library/Python/3.8/site-packages/uvicorn/server.py", line 50, in run
    loop.run_until_complete(self.serve(sockets=sockets))
    │    │                  │    │             └ [<socket.socket fd=4, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 5000)>]
    │    │                  │    └ <function Server.serve at 0x10ba2ec10>
    │    │                  └ <uvicorn.server.Server object at 0x10b4591f0>
    │    └ <function BaseEventLoop.run_until_complete at 0x10b6eb790>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/asyncio/base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x10b6eb700>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/asyncio/base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x10b6ed280>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/asyncio/base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x10b620160>
    └ <Handle <TaskWakeupMethWrapper object at 0x10cbe32b0>(<Future finished result=None>)>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/asyncio/events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x10cbe32b0>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x10cbe32b0>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x10cbe32b0>(<Future finished result=None>)>
> File "/Library/Python/3.8/site-packages/uvicorn/protocols/http/h11_impl.py", line 369, in run_asgi
    result = await app(self.scope, self.receive, self.send)
                   │   │    │      │    │        │    └ <function RequestResponseCycle.send at 0x10bba5310>
                   │   │    │      │    │        └ <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cbe3370>
                   │   │    │      │    └ <function RequestResponseCycle.receive at 0x10bba53a0>
                   │   │    │      └ <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cbe3370>
                   │   │    └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
                   │   └ <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cbe3370>
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x10bb51370>
  File "/Library/Python/3.8/site-packages/uvicorn/middleware/proxy_headers.py", line 59, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cbe3370>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cbe3370>>
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x10bba4040>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x10bb51370>
  File "/Library/Python/3.8/site-packages/fastapi/applications.py", line 199, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cbe3370>>
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cbe3370>>
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
  File "/Library/Python/3.8/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cbe3370>>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cbe3370>>
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x10c8c2a90>
          └ <fastapi.applications.FastAPI object at 0x10bba4040>
  File "/Library/Python/3.8/site-packages/starlette/middleware/errors.py", line 181, in __call__
    raise exc from None
  File "/Library/Python/3.8/site-packages/starlette/middleware/errors.py", line 159, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x10cbafee0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cbe3370>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x10c8c2a30>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x10c8c2a90>
  File "/Library/Python/3.8/site-packages/starlette/middleware/base.py", line 25, in __call__
    response = await self.dispatch_func(request, self.call_next)
                     │    │             │        │    └ <function BaseHTTPMiddleware.call_next at 0x10c060940>
                     │    │             │        └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x10c8c2a30>
                     │    │             └ <starlette.requests.Request object at 0x10cbe3550>
                     │    └ <function add_process_time_header at 0x10caefd30>
                     └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x10c8c2a30>

  File "./app/__init__.py", line 65, in add_process_time_header
    response = await call_next(request)
                     │         └ <starlette.requests.Request object at 0x10cbe3550>
                     └ <bound method BaseHTTPMiddleware.call_next of <starlette.middleware.base.BaseHTTPMiddleware object at 0x10c8c2a30>>

  File "/Library/Python/3.8/site-packages/starlette/middleware/base.py", line 45, in call_next
    task.result()
    │    └ <method 'result' of '_asyncio.Task' objects>
    └ <Task finished name='Task-52' coro=<BaseHTTPMiddleware.call_next.<locals>.coro() done, defined at /Library/Python/3.8/site-pa...
  File "/Library/Python/3.8/site-packages/starlette/middleware/base.py", line 38, in coro
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method Queue.put of <Queue at 0x10cbe3f40 maxsize=0 tasks=1>>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cbe3370>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x10c8c2a00>
          └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x10c8c2a30>
  File "/Library/Python/3.8/site-packages/starlette/middleware/cors.py", line 78, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method Queue.put of <Queue at 0x10cbe3f40 maxsize=0 tasks=1>>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cbe3370>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x10c8c29a0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x10c8c2a00>
  File "/Library/Python/3.8/site-packages/starlette/exceptions.py", line 82, in __call__
    raise exc from None
  File "/Library/Python/3.8/site-packages/starlette/exceptions.py", line 71, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x10cbafdc0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cbe3370>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x10c894cd0>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x10c8c29a0>
  File "/Library/Python/3.8/site-packages/starlette/routing.py", line 580, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x10cbafdc0>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cbe3370>>
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │     └ <function Route.handle at 0x10c02eaf0>
          └ <fastapi.routing.APIRoute object at 0x10cae4880>
  File "/Library/Python/3.8/site-packages/starlette/routing.py", line 241, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x10cbafdc0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cbe3370>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <function request_response.<locals>.app at 0x10cae0ca0>
          └ <fastapi.routing.APIRoute object at 0x10cae4880>
  File "/Library/Python/3.8/site-packages/starlette/routing.py", line 52, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x10cbe39a0>
                     └ <function get_request_handler.<locals>.app at 0x10cae0c10>
  File "/Library/Python/3.8/site-packages/fastapi/routing.py", line 214, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x10c019b80>
  File "/Library/Python/3.8/site-packages/fastapi/routing.py", line 149, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'request': <starlette.requests.Request object at 0x10cbe39a0>}
                 │         └ <function action at 0x10c9c0670>
                 └ <fastapi.dependencies.models.Dependant object at 0x10cae4970>

  File "./app/routers/conversation.py", line 10, in action
    return await controller.index(request)
                 │          │     └ <starlette.requests.Request object at 0x10cbe39a0>
                 │          └ <staticmethod object at 0x10c9577c0>
                 └ <class 'app.controllers.Conversation.Conversation'>

  File "./app/controllers/Conversation.py", line 194, in index
    agent = WebhookClient(req)
            │             └ {'responseId': '3215ec24-91af-438b-a1af-94d531ce852e-046d94d0', 'queryResult': {'action': 'input.unknown', 'parameters': {}, ...
            └ <class 'dialogflow_fulfillment.webhook_client.WebhookClient'>

  File "/Library/Python/3.8/site-packages/dialogflow_fulfillment/webhook_client.py", line 52, in __init__
    self._process_request(request)
    │    │                └ {'responseId': '3215ec24-91af-438b-a1af-94d531ce852e-046d94d0', 'queryResult': {'action': 'input.unknown', 'parameters': {}, ...
    │    └ <function WebhookClient._process_request at 0x10c96d550>
    └ <dialogflow_fulfillment.webhook_client.WebhookClient object at 0x10c8c2b50>
  File "/Library/Python/3.8/site-packages/dialogflow_fulfillment/webhook_client.py", line 69, in _process_request
    self.query = query_result['queryText']
    │            └ {'action': 'input.unknown', 'parameters': {}, 'allRequiredParamsPresent': True, 'fulfillmentText': 'Evita tidak mengerti. Bis...
    └ <dialogflow_fulfillment.webhook_client.WebhookClient object at 0x10c8c2b50>

KeyError: 'queryText'
INFO     2021-07-27 22:28:58.117 request id: app - uvicorn.protocols.http.h11_impl:send - 66.249.83.83:0 - "POST /webhook HTTP/1.1" 500
ERROR    2021-07-27 22:28:58.121 request id: app - uvicorn.protocols.http.h11_impl:run_asgi - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 5
               │     └ 8
               └ <function _main at 0x10b3f20d0>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 5
           │    └ <function BaseProcess._bootstrap at 0x10b1c5b80>
           └ <SpawnProcess name='SpawnProcess-23' parent=7596 started>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x10b1c51f0>
    └ <SpawnProcess name='SpawnProcess-23' parent=7596 started>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x10b459100>, 'target': <bound method Server.run of <uvicorn.server.Server object...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-23' parent=7596 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-23' parent=7596 started>
    │    └ <function subprocess_started at 0x10ba31670>
    └ <SpawnProcess name='SpawnProcess-23' parent=7596 started>
  File "/Library/Python/3.8/site-packages/uvicorn/subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=4, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 5000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x10b4591f0>>
  File "/Library/Python/3.8/site-packages/uvicorn/server.py", line 50, in run
    loop.run_until_complete(self.serve(sockets=sockets))
    │    │                  │    │             └ [<socket.socket fd=4, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 5000)>]
    │    │                  │    └ <function Server.serve at 0x10ba2ec10>
    │    │                  └ <uvicorn.server.Server object at 0x10b4591f0>
    │    └ <function BaseEventLoop.run_until_complete at 0x10b6eb790>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/asyncio/base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x10b6eb700>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/asyncio/base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x10b6ed280>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/asyncio/base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x10b620160>
    └ <Handle <TaskWakeupMethWrapper object at 0x10cb5aa60>(<Future finished result=None>)>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/asyncio/events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x10cb5aa60>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x10cb5aa60>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x10cb5aa60>(<Future finished result=None>)>
> File "/Library/Python/3.8/site-packages/uvicorn/protocols/http/h11_impl.py", line 369, in run_asgi
    result = await app(self.scope, self.receive, self.send)
                   │   │    │      │    │        │    └ <function RequestResponseCycle.send at 0x10bba5310>
                   │   │    │      │    │        └ <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cb5a9a0>
                   │   │    │      │    └ <function RequestResponseCycle.receive at 0x10bba53a0>
                   │   │    │      └ <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cb5a9a0>
                   │   │    └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
                   │   └ <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cb5a9a0>
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x10bb51370>
  File "/Library/Python/3.8/site-packages/uvicorn/middleware/proxy_headers.py", line 59, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cb5a9a0>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cb5a9a0>>
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x10bba4040>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x10bb51370>
  File "/Library/Python/3.8/site-packages/fastapi/applications.py", line 199, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cb5a9a0>>
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cb5a9a0>>
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
  File "/Library/Python/3.8/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cb5a9a0>>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cb5a9a0>>
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x10c8c2a90>
          └ <fastapi.applications.FastAPI object at 0x10bba4040>
  File "/Library/Python/3.8/site-packages/starlette/middleware/errors.py", line 181, in __call__
    raise exc from None
  File "/Library/Python/3.8/site-packages/starlette/middleware/errors.py", line 159, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x10cb21430>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cb5a9a0>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x10c8c2a30>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x10c8c2a90>
  File "/Library/Python/3.8/site-packages/starlette/middleware/base.py", line 25, in __call__
    response = await self.dispatch_func(request, self.call_next)
                     │    │             │        │    └ <function BaseHTTPMiddleware.call_next at 0x10c060940>
                     │    │             │        └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x10c8c2a30>
                     │    │             └ <starlette.requests.Request object at 0x10cb5aac0>
                     │    └ <function add_process_time_header at 0x10caefd30>
                     └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x10c8c2a30>

  File "./app/__init__.py", line 65, in add_process_time_header
    response = await call_next(request)
                     │         └ <starlette.requests.Request object at 0x10cb5aac0>
                     └ <bound method BaseHTTPMiddleware.call_next of <starlette.middleware.base.BaseHTTPMiddleware object at 0x10c8c2a30>>

  File "/Library/Python/3.8/site-packages/starlette/middleware/base.py", line 45, in call_next
    task.result()
    │    └ <method 'result' of '_asyncio.Task' objects>
    └ <Task finished name='Task-56' coro=<BaseHTTPMiddleware.call_next.<locals>.coro() done, defined at /Library/Python/3.8/site-pa...
  File "/Library/Python/3.8/site-packages/starlette/middleware/base.py", line 38, in coro
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method Queue.put of <Queue at 0x10cb5a910 maxsize=0 tasks=1>>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cb5a9a0>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x10c8c2a00>
          └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x10c8c2a30>
  File "/Library/Python/3.8/site-packages/starlette/middleware/cors.py", line 78, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method Queue.put of <Queue at 0x10cb5a910 maxsize=0 tasks=1>>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cb5a9a0>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x10c8c29a0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x10c8c2a00>
  File "/Library/Python/3.8/site-packages/starlette/exceptions.py", line 82, in __call__
    raise exc from None
  File "/Library/Python/3.8/site-packages/starlette/exceptions.py", line 71, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x10cb214c0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cb5a9a0>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x10c894cd0>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x10c8c29a0>
  File "/Library/Python/3.8/site-packages/starlette/routing.py", line 580, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x10cb214c0>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cb5a9a0>>
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │     └ <function Route.handle at 0x10c02eaf0>
          └ <fastapi.routing.APIRoute object at 0x10cae4880>
  File "/Library/Python/3.8/site-packages/starlette/routing.py", line 241, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x10cb214c0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cb5a9a0>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <function request_response.<locals>.app at 0x10cae0ca0>
          └ <fastapi.routing.APIRoute object at 0x10cae4880>
  File "/Library/Python/3.8/site-packages/starlette/routing.py", line 52, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x10cb5ad30>
                     └ <function get_request_handler.<locals>.app at 0x10cae0c10>
  File "/Library/Python/3.8/site-packages/fastapi/routing.py", line 214, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x10c019b80>
  File "/Library/Python/3.8/site-packages/fastapi/routing.py", line 149, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'request': <starlette.requests.Request object at 0x10cb5ad30>}
                 │         └ <function action at 0x10c9c0670>
                 └ <fastapi.dependencies.models.Dependant object at 0x10cae4970>

  File "./app/routers/conversation.py", line 10, in action
    return await controller.index(request)
                 │          │     └ <starlette.requests.Request object at 0x10cb5ad30>
                 │          └ <staticmethod object at 0x10c9577c0>
                 └ <class 'app.controllers.Conversation.Conversation'>

  File "./app/controllers/Conversation.py", line 195, in index
    login = Login(agent)
            │     └ <dialogflow_fulfillment.webhook_client.WebhookClient object at 0x10cb114f0>
            └ <class 'app.libraries.Login.Login'>

TypeError: __init__() should return None, not 'dict'
ERROR    2021-07-27 22:28:58.145 request id: app - uvicorn.protocols.http.h11_impl:run_asgi - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 5
               │     └ 8
               └ <function _main at 0x10b3f20d0>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 5
           │    └ <function BaseProcess._bootstrap at 0x10b1c5b80>
           └ <SpawnProcess name='SpawnProcess-23' parent=7596 started>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x10b1c51f0>
    └ <SpawnProcess name='SpawnProcess-23' parent=7596 started>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x10b459100>, 'target': <bound method Server.run of <uvicorn.server.Server object...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-23' parent=7596 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-23' parent=7596 started>
    │    └ <function subprocess_started at 0x10ba31670>
    └ <SpawnProcess name='SpawnProcess-23' parent=7596 started>
  File "/Library/Python/3.8/site-packages/uvicorn/subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=4, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 5000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x10b4591f0>>
  File "/Library/Python/3.8/site-packages/uvicorn/server.py", line 50, in run
    loop.run_until_complete(self.serve(sockets=sockets))
    │    │                  │    │             └ [<socket.socket fd=4, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 5000)>]
    │    │                  │    └ <function Server.serve at 0x10ba2ec10>
    │    │                  └ <uvicorn.server.Server object at 0x10b4591f0>
    │    └ <function BaseEventLoop.run_until_complete at 0x10b6eb790>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/asyncio/base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x10b6eb700>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/asyncio/base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x10b6ed280>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/asyncio/base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x10b620160>
    └ <Handle <TaskWakeupMethWrapper object at 0x10cb5aa60>(<Future finished result=None>)>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/asyncio/events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x10cb5aa60>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x10cb5aa60>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x10cb5aa60>(<Future finished result=None>)>
> File "/Library/Python/3.8/site-packages/uvicorn/protocols/http/h11_impl.py", line 369, in run_asgi
    result = await app(self.scope, self.receive, self.send)
                   │   │    │      │    │        │    └ <function RequestResponseCycle.send at 0x10bba5310>
                   │   │    │      │    │        └ <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cb5a9a0>
                   │   │    │      │    └ <function RequestResponseCycle.receive at 0x10bba53a0>
                   │   │    │      └ <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cb5a9a0>
                   │   │    └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
                   │   └ <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cb5a9a0>
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x10bb51370>
  File "/Library/Python/3.8/site-packages/uvicorn/middleware/proxy_headers.py", line 59, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cb5a9a0>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cb5a9a0>>
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x10bba4040>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x10bb51370>
  File "/Library/Python/3.8/site-packages/fastapi/applications.py", line 199, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cb5a9a0>>
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cb5a9a0>>
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
  File "/Library/Python/3.8/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cb5a9a0>>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cb5a9a0>>
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x10c8c2a90>
          └ <fastapi.applications.FastAPI object at 0x10bba4040>
  File "/Library/Python/3.8/site-packages/starlette/middleware/errors.py", line 181, in __call__
    raise exc from None
  File "/Library/Python/3.8/site-packages/starlette/middleware/errors.py", line 159, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x10cb21430>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cb5a9a0>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x10c8c2a30>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x10c8c2a90>
  File "/Library/Python/3.8/site-packages/starlette/middleware/base.py", line 25, in __call__
    response = await self.dispatch_func(request, self.call_next)
                     │    │             │        │    └ <function BaseHTTPMiddleware.call_next at 0x10c060940>
                     │    │             │        └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x10c8c2a30>
                     │    │             └ <starlette.requests.Request object at 0x10cb5aac0>
                     │    └ <function add_process_time_header at 0x10caefd30>
                     └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x10c8c2a30>

  File "./app/__init__.py", line 65, in add_process_time_header
    response = await call_next(request)
                     │         └ <starlette.requests.Request object at 0x10cb5aac0>
                     └ <bound method BaseHTTPMiddleware.call_next of <starlette.middleware.base.BaseHTTPMiddleware object at 0x10c8c2a30>>

  File "/Library/Python/3.8/site-packages/starlette/middleware/base.py", line 45, in call_next
    task.result()
    │    └ <method 'result' of '_asyncio.Task' objects>
    └ <Task finished name='Task-56' coro=<BaseHTTPMiddleware.call_next.<locals>.coro() done, defined at /Library/Python/3.8/site-pa...
  File "/Library/Python/3.8/site-packages/starlette/middleware/base.py", line 38, in coro
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method Queue.put of <Queue at 0x10cb5a910 maxsize=0 tasks=1>>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cb5a9a0>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x10c8c2a00>
          └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x10c8c2a30>
  File "/Library/Python/3.8/site-packages/starlette/middleware/cors.py", line 78, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method Queue.put of <Queue at 0x10cb5a910 maxsize=0 tasks=1>>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cb5a9a0>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x10c8c29a0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x10c8c2a00>
  File "/Library/Python/3.8/site-packages/starlette/exceptions.py", line 82, in __call__
    raise exc from None
  File "/Library/Python/3.8/site-packages/starlette/exceptions.py", line 71, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x10cb214c0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cb5a9a0>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x10c894cd0>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x10c8c29a0>
  File "/Library/Python/3.8/site-packages/starlette/routing.py", line 580, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x10cb214c0>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cb5a9a0>>
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │     └ <function Route.handle at 0x10c02eaf0>
          └ <fastapi.routing.APIRoute object at 0x10cae4880>
  File "/Library/Python/3.8/site-packages/starlette/routing.py", line 241, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x10cb214c0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cb5a9a0>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <function request_response.<locals>.app at 0x10cae0ca0>
          └ <fastapi.routing.APIRoute object at 0x10cae4880>
  File "/Library/Python/3.8/site-packages/starlette/routing.py", line 52, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x10cb5ad30>
                     └ <function get_request_handler.<locals>.app at 0x10cae0c10>
  File "/Library/Python/3.8/site-packages/fastapi/routing.py", line 214, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x10c019b80>
  File "/Library/Python/3.8/site-packages/fastapi/routing.py", line 149, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'request': <starlette.requests.Request object at 0x10cb5ad30>}
                 │         └ <function action at 0x10c9c0670>
                 └ <fastapi.dependencies.models.Dependant object at 0x10cae4970>

  File "./app/routers/conversation.py", line 10, in action
    return await controller.index(request)
                 │          │     └ <starlette.requests.Request object at 0x10cb5ad30>
                 │          └ <staticmethod object at 0x10c9577c0>
                 └ <class 'app.controllers.Conversation.Conversation'>

  File "./app/controllers/Conversation.py", line 195, in index
    login = Login(agent)
            │     └ <dialogflow_fulfillment.webhook_client.WebhookClient object at 0x10cb114f0>
            └ <class 'app.libraries.Login.Login'>

TypeError: __init__() should return None, not 'dict'
ERROR    2021-07-27 22:28:58.162 request id: app - uvicorn.protocols.http.h11_impl:run_asgi - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 5
               │     └ 8
               └ <function _main at 0x10b3f20d0>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 5
           │    └ <function BaseProcess._bootstrap at 0x10b1c5b80>
           └ <SpawnProcess name='SpawnProcess-23' parent=7596 started>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x10b1c51f0>
    └ <SpawnProcess name='SpawnProcess-23' parent=7596 started>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x10b459100>, 'target': <bound method Server.run of <uvicorn.server.Server object...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-23' parent=7596 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-23' parent=7596 started>
    │    └ <function subprocess_started at 0x10ba31670>
    └ <SpawnProcess name='SpawnProcess-23' parent=7596 started>
  File "/Library/Python/3.8/site-packages/uvicorn/subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=4, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 5000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x10b4591f0>>
  File "/Library/Python/3.8/site-packages/uvicorn/server.py", line 50, in run
    loop.run_until_complete(self.serve(sockets=sockets))
    │    │                  │    │             └ [<socket.socket fd=4, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 5000)>]
    │    │                  │    └ <function Server.serve at 0x10ba2ec10>
    │    │                  └ <uvicorn.server.Server object at 0x10b4591f0>
    │    └ <function BaseEventLoop.run_until_complete at 0x10b6eb790>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/asyncio/base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x10b6eb700>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/asyncio/base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x10b6ed280>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/asyncio/base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x10b620160>
    └ <Handle <TaskWakeupMethWrapper object at 0x10cb5aa60>(<Future finished result=None>)>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/asyncio/events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x10cb5aa60>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x10cb5aa60>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x10cb5aa60>(<Future finished result=None>)>
> File "/Library/Python/3.8/site-packages/uvicorn/protocols/http/h11_impl.py", line 369, in run_asgi
    result = await app(self.scope, self.receive, self.send)
                   │   │    │      │    │        │    └ <function RequestResponseCycle.send at 0x10bba5310>
                   │   │    │      │    │        └ <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cb5a9a0>
                   │   │    │      │    └ <function RequestResponseCycle.receive at 0x10bba53a0>
                   │   │    │      └ <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cb5a9a0>
                   │   │    └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
                   │   └ <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cb5a9a0>
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x10bb51370>
  File "/Library/Python/3.8/site-packages/uvicorn/middleware/proxy_headers.py", line 59, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cb5a9a0>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cb5a9a0>>
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x10bba4040>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x10bb51370>
  File "/Library/Python/3.8/site-packages/fastapi/applications.py", line 199, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cb5a9a0>>
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cb5a9a0>>
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
  File "/Library/Python/3.8/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cb5a9a0>>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cb5a9a0>>
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x10c8c2a90>
          └ <fastapi.applications.FastAPI object at 0x10bba4040>
  File "/Library/Python/3.8/site-packages/starlette/middleware/errors.py", line 181, in __call__
    raise exc from None
  File "/Library/Python/3.8/site-packages/starlette/middleware/errors.py", line 159, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x10cb21430>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cb5a9a0>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x10c8c2a30>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x10c8c2a90>
  File "/Library/Python/3.8/site-packages/starlette/middleware/base.py", line 25, in __call__
    response = await self.dispatch_func(request, self.call_next)
                     │    │             │        │    └ <function BaseHTTPMiddleware.call_next at 0x10c060940>
                     │    │             │        └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x10c8c2a30>
                     │    │             └ <starlette.requests.Request object at 0x10cb5aac0>
                     │    └ <function add_process_time_header at 0x10caefd30>
                     └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x10c8c2a30>

  File "./app/__init__.py", line 65, in add_process_time_header
    response = await call_next(request)
                     │         └ <starlette.requests.Request object at 0x10cb5aac0>
                     └ <bound method BaseHTTPMiddleware.call_next of <starlette.middleware.base.BaseHTTPMiddleware object at 0x10c8c2a30>>

  File "/Library/Python/3.8/site-packages/starlette/middleware/base.py", line 45, in call_next
    task.result()
    │    └ <method 'result' of '_asyncio.Task' objects>
    └ <Task finished name='Task-56' coro=<BaseHTTPMiddleware.call_next.<locals>.coro() done, defined at /Library/Python/3.8/site-pa...
  File "/Library/Python/3.8/site-packages/starlette/middleware/base.py", line 38, in coro
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method Queue.put of <Queue at 0x10cb5a910 maxsize=0 tasks=1>>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cb5a9a0>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x10c8c2a00>
          └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x10c8c2a30>
  File "/Library/Python/3.8/site-packages/starlette/middleware/cors.py", line 78, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method Queue.put of <Queue at 0x10cb5a910 maxsize=0 tasks=1>>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cb5a9a0>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x10c8c29a0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x10c8c2a00>
  File "/Library/Python/3.8/site-packages/starlette/exceptions.py", line 82, in __call__
    raise exc from None
  File "/Library/Python/3.8/site-packages/starlette/exceptions.py", line 71, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x10cb214c0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cb5a9a0>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x10c894cd0>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x10c8c29a0>
  File "/Library/Python/3.8/site-packages/starlette/routing.py", line 580, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x10cb214c0>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cb5a9a0>>
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │     └ <function Route.handle at 0x10c02eaf0>
          └ <fastapi.routing.APIRoute object at 0x10cae4880>
  File "/Library/Python/3.8/site-packages/starlette/routing.py", line 241, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x10cb214c0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cb5a9a0>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <function request_response.<locals>.app at 0x10cae0ca0>
          └ <fastapi.routing.APIRoute object at 0x10cae4880>
  File "/Library/Python/3.8/site-packages/starlette/routing.py", line 52, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x10cb5ad30>
                     └ <function get_request_handler.<locals>.app at 0x10cae0c10>
  File "/Library/Python/3.8/site-packages/fastapi/routing.py", line 214, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x10c019b80>
  File "/Library/Python/3.8/site-packages/fastapi/routing.py", line 149, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'request': <starlette.requests.Request object at 0x10cb5ad30>}
                 │         └ <function action at 0x10c9c0670>
                 └ <fastapi.dependencies.models.Dependant object at 0x10cae4970>

  File "./app/routers/conversation.py", line 10, in action
    return await controller.index(request)
                 │          │     └ <starlette.requests.Request object at 0x10cb5ad30>
                 │          └ <staticmethod object at 0x10c9577c0>
                 └ <class 'app.controllers.Conversation.Conversation'>

  File "./app/controllers/Conversation.py", line 195, in index
    login = Login(agent)
            │     └ <dialogflow_fulfillment.webhook_client.WebhookClient object at 0x10cb114f0>
            └ <class 'app.libraries.Login.Login'>

TypeError: __init__() should return None, not 'dict'
INFO     2021-07-27 22:29:09.344 request id: app - uvicorn.protocols.http.h11_impl:send - 66.249.83.82:0 - "POST /webhook HTTP/1.1" 500
ERROR    2021-07-27 22:29:09.348 request id: app - uvicorn.protocols.http.h11_impl:run_asgi - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 5
               │     └ 8
               └ <function _main at 0x10b3f20d0>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 5
           │    └ <function BaseProcess._bootstrap at 0x10b1c5b80>
           └ <SpawnProcess name='SpawnProcess-23' parent=7596 started>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x10b1c51f0>
    └ <SpawnProcess name='SpawnProcess-23' parent=7596 started>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x10b459100>, 'target': <bound method Server.run of <uvicorn.server.Server object...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-23' parent=7596 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-23' parent=7596 started>
    │    └ <function subprocess_started at 0x10ba31670>
    └ <SpawnProcess name='SpawnProcess-23' parent=7596 started>
  File "/Library/Python/3.8/site-packages/uvicorn/subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=4, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 5000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x10b4591f0>>
  File "/Library/Python/3.8/site-packages/uvicorn/server.py", line 50, in run
    loop.run_until_complete(self.serve(sockets=sockets))
    │    │                  │    │             └ [<socket.socket fd=4, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 5000)>]
    │    │                  │    └ <function Server.serve at 0x10ba2ec10>
    │    │                  └ <uvicorn.server.Server object at 0x10b4591f0>
    │    └ <function BaseEventLoop.run_until_complete at 0x10b6eb790>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/asyncio/base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x10b6eb700>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/asyncio/base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x10b6ed280>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/asyncio/base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x10b620160>
    └ <Handle <TaskWakeupMethWrapper object at 0x10cb272e0>(<Future finished result=None>)>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/asyncio/events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x10cb272e0>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x10cb272e0>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x10cb272e0>(<Future finished result=None>)>
> File "/Library/Python/3.8/site-packages/uvicorn/protocols/http/h11_impl.py", line 369, in run_asgi
    result = await app(self.scope, self.receive, self.send)
                   │   │    │      │    │        │    └ <function RequestResponseCycle.send at 0x10bba5310>
                   │   │    │      │    │        └ <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cb27ca0>
                   │   │    │      │    └ <function RequestResponseCycle.receive at 0x10bba53a0>
                   │   │    │      └ <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cb27ca0>
                   │   │    └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
                   │   └ <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cb27ca0>
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x10bb51370>
  File "/Library/Python/3.8/site-packages/uvicorn/middleware/proxy_headers.py", line 59, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cb27ca0>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cb27ca0>>
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x10bba4040>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x10bb51370>
  File "/Library/Python/3.8/site-packages/fastapi/applications.py", line 199, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cb27ca0>>
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cb27ca0>>
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
  File "/Library/Python/3.8/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cb27ca0>>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cb27ca0>>
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x10c8c2a90>
          └ <fastapi.applications.FastAPI object at 0x10bba4040>
  File "/Library/Python/3.8/site-packages/starlette/middleware/errors.py", line 181, in __call__
    raise exc from None
  File "/Library/Python/3.8/site-packages/starlette/middleware/errors.py", line 159, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x10cbe93a0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cb27ca0>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x10c8c2a30>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x10c8c2a90>
  File "/Library/Python/3.8/site-packages/starlette/middleware/base.py", line 25, in __call__
    response = await self.dispatch_func(request, self.call_next)
                     │    │             │        │    └ <function BaseHTTPMiddleware.call_next at 0x10c060940>
                     │    │             │        └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x10c8c2a30>
                     │    │             └ <starlette.requests.Request object at 0x10cb278b0>
                     │    └ <function add_process_time_header at 0x10caefd30>
                     └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x10c8c2a30>

  File "./app/__init__.py", line 65, in add_process_time_header
    response = await call_next(request)
                     │         └ <starlette.requests.Request object at 0x10cb278b0>
                     └ <bound method BaseHTTPMiddleware.call_next of <starlette.middleware.base.BaseHTTPMiddleware object at 0x10c8c2a30>>

  File "/Library/Python/3.8/site-packages/starlette/middleware/base.py", line 45, in call_next
    task.result()
    │    └ <method 'result' of '_asyncio.Task' objects>
    └ <Task finished name='Task-60' coro=<BaseHTTPMiddleware.call_next.<locals>.coro() done, defined at /Library/Python/3.8/site-pa...
  File "/Library/Python/3.8/site-packages/starlette/middleware/base.py", line 38, in coro
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method Queue.put of <Queue at 0x10cb27af0 maxsize=0 tasks=1>>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cb27ca0>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x10c8c2a00>
          └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x10c8c2a30>
  File "/Library/Python/3.8/site-packages/starlette/middleware/cors.py", line 78, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method Queue.put of <Queue at 0x10cb27af0 maxsize=0 tasks=1>>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cb27ca0>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x10c8c29a0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x10c8c2a00>
  File "/Library/Python/3.8/site-packages/starlette/exceptions.py", line 82, in __call__
    raise exc from None
  File "/Library/Python/3.8/site-packages/starlette/exceptions.py", line 71, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x10cbe90d0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cb27ca0>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x10c894cd0>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x10c8c29a0>
  File "/Library/Python/3.8/site-packages/starlette/routing.py", line 580, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x10cbe90d0>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cb27ca0>>
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │     └ <function Route.handle at 0x10c02eaf0>
          └ <fastapi.routing.APIRoute object at 0x10cae4880>
  File "/Library/Python/3.8/site-packages/starlette/routing.py", line 241, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x10cbe90d0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cb27ca0>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <function request_response.<locals>.app at 0x10cae0ca0>
          └ <fastapi.routing.APIRoute object at 0x10cae4880>
  File "/Library/Python/3.8/site-packages/starlette/routing.py", line 52, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x10cb27400>
                     └ <function get_request_handler.<locals>.app at 0x10cae0c10>
  File "/Library/Python/3.8/site-packages/fastapi/routing.py", line 214, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x10c019b80>
  File "/Library/Python/3.8/site-packages/fastapi/routing.py", line 149, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'request': <starlette.requests.Request object at 0x10cb27400>}
                 │         └ <function action at 0x10c9c0670>
                 └ <fastapi.dependencies.models.Dependant object at 0x10cae4970>

  File "./app/routers/conversation.py", line 10, in action
    return await controller.index(request)
                 │          │     └ <starlette.requests.Request object at 0x10cb27400>
                 │          └ <staticmethod object at 0x10c9577c0>
                 └ <class 'app.controllers.Conversation.Conversation'>

  File "./app/controllers/Conversation.py", line 194, in index
    agent = WebhookClient(req)
            │             └ {'responseId': '097cad17-c641-44c2-8183-37eeac4052d1-046d94d0', 'queryResult': {'action': 'input.unknown', 'parameters': {}, ...
            └ <class 'dialogflow_fulfillment.webhook_client.WebhookClient'>

  File "/Library/Python/3.8/site-packages/dialogflow_fulfillment/webhook_client.py", line 52, in __init__
    self._process_request(request)
    │    │                └ {'responseId': '097cad17-c641-44c2-8183-37eeac4052d1-046d94d0', 'queryResult': {'action': 'input.unknown', 'parameters': {}, ...
    │    └ <function WebhookClient._process_request at 0x10c96d550>
    └ <dialogflow_fulfillment.webhook_client.WebhookClient object at 0x10cb27ee0>
  File "/Library/Python/3.8/site-packages/dialogflow_fulfillment/webhook_client.py", line 69, in _process_request
    self.query = query_result['queryText']
    │            └ {'action': 'input.unknown', 'parameters': {}, 'allRequiredParamsPresent': True, 'fulfillmentText': 'Evita tidak dengar.', 'fu...
    └ <dialogflow_fulfillment.webhook_client.WebhookClient object at 0x10cb27ee0>

KeyError: 'queryText'
ERROR    2021-07-27 22:29:09.379 request id: app - uvicorn.protocols.http.h11_impl:run_asgi - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 5
               │     └ 8
               └ <function _main at 0x10b3f20d0>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 5
           │    └ <function BaseProcess._bootstrap at 0x10b1c5b80>
           └ <SpawnProcess name='SpawnProcess-23' parent=7596 started>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x10b1c51f0>
    └ <SpawnProcess name='SpawnProcess-23' parent=7596 started>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x10b459100>, 'target': <bound method Server.run of <uvicorn.server.Server object...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-23' parent=7596 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-23' parent=7596 started>
    │    └ <function subprocess_started at 0x10ba31670>
    └ <SpawnProcess name='SpawnProcess-23' parent=7596 started>
  File "/Library/Python/3.8/site-packages/uvicorn/subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=4, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 5000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x10b4591f0>>
  File "/Library/Python/3.8/site-packages/uvicorn/server.py", line 50, in run
    loop.run_until_complete(self.serve(sockets=sockets))
    │    │                  │    │             └ [<socket.socket fd=4, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 5000)>]
    │    │                  │    └ <function Server.serve at 0x10ba2ec10>
    │    │                  └ <uvicorn.server.Server object at 0x10b4591f0>
    │    └ <function BaseEventLoop.run_until_complete at 0x10b6eb790>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/asyncio/base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x10b6eb700>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/asyncio/base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x10b6ed280>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/asyncio/base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x10b620160>
    └ <Handle <TaskWakeupMethWrapper object at 0x10cb272e0>(<Future finished result=None>)>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/asyncio/events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x10cb272e0>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x10cb272e0>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x10cb272e0>(<Future finished result=None>)>
> File "/Library/Python/3.8/site-packages/uvicorn/protocols/http/h11_impl.py", line 369, in run_asgi
    result = await app(self.scope, self.receive, self.send)
                   │   │    │      │    │        │    └ <function RequestResponseCycle.send at 0x10bba5310>
                   │   │    │      │    │        └ <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cb27ca0>
                   │   │    │      │    └ <function RequestResponseCycle.receive at 0x10bba53a0>
                   │   │    │      └ <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cb27ca0>
                   │   │    └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
                   │   └ <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cb27ca0>
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x10bb51370>
  File "/Library/Python/3.8/site-packages/uvicorn/middleware/proxy_headers.py", line 59, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cb27ca0>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cb27ca0>>
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x10bba4040>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x10bb51370>
  File "/Library/Python/3.8/site-packages/fastapi/applications.py", line 199, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cb27ca0>>
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cb27ca0>>
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
  File "/Library/Python/3.8/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cb27ca0>>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cb27ca0>>
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x10c8c2a90>
          └ <fastapi.applications.FastAPI object at 0x10bba4040>
  File "/Library/Python/3.8/site-packages/starlette/middleware/errors.py", line 181, in __call__
    raise exc from None
  File "/Library/Python/3.8/site-packages/starlette/middleware/errors.py", line 159, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x10cbe93a0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cb27ca0>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x10c8c2a30>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x10c8c2a90>
  File "/Library/Python/3.8/site-packages/starlette/middleware/base.py", line 25, in __call__
    response = await self.dispatch_func(request, self.call_next)
                     │    │             │        │    └ <function BaseHTTPMiddleware.call_next at 0x10c060940>
                     │    │             │        └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x10c8c2a30>
                     │    │             └ <starlette.requests.Request object at 0x10cb278b0>
                     │    └ <function add_process_time_header at 0x10caefd30>
                     └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x10c8c2a30>

  File "./app/__init__.py", line 65, in add_process_time_header
    response = await call_next(request)
                     │         └ <starlette.requests.Request object at 0x10cb278b0>
                     └ <bound method BaseHTTPMiddleware.call_next of <starlette.middleware.base.BaseHTTPMiddleware object at 0x10c8c2a30>>

  File "/Library/Python/3.8/site-packages/starlette/middleware/base.py", line 45, in call_next
    task.result()
    │    └ <method 'result' of '_asyncio.Task' objects>
    └ <Task finished name='Task-60' coro=<BaseHTTPMiddleware.call_next.<locals>.coro() done, defined at /Library/Python/3.8/site-pa...
  File "/Library/Python/3.8/site-packages/starlette/middleware/base.py", line 38, in coro
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method Queue.put of <Queue at 0x10cb27af0 maxsize=0 tasks=1>>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cb27ca0>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x10c8c2a00>
          └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x10c8c2a30>
  File "/Library/Python/3.8/site-packages/starlette/middleware/cors.py", line 78, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method Queue.put of <Queue at 0x10cb27af0 maxsize=0 tasks=1>>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cb27ca0>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x10c8c29a0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x10c8c2a00>
  File "/Library/Python/3.8/site-packages/starlette/exceptions.py", line 82, in __call__
    raise exc from None
  File "/Library/Python/3.8/site-packages/starlette/exceptions.py", line 71, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x10cbe90d0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cb27ca0>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x10c894cd0>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x10c8c29a0>
  File "/Library/Python/3.8/site-packages/starlette/routing.py", line 580, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x10cbe90d0>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cb27ca0>>
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │     └ <function Route.handle at 0x10c02eaf0>
          └ <fastapi.routing.APIRoute object at 0x10cae4880>
  File "/Library/Python/3.8/site-packages/starlette/routing.py", line 241, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x10cbe90d0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cb27ca0>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <function request_response.<locals>.app at 0x10cae0ca0>
          └ <fastapi.routing.APIRoute object at 0x10cae4880>
  File "/Library/Python/3.8/site-packages/starlette/routing.py", line 52, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x10cb27400>
                     └ <function get_request_handler.<locals>.app at 0x10cae0c10>
  File "/Library/Python/3.8/site-packages/fastapi/routing.py", line 214, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x10c019b80>
  File "/Library/Python/3.8/site-packages/fastapi/routing.py", line 149, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'request': <starlette.requests.Request object at 0x10cb27400>}
                 │         └ <function action at 0x10c9c0670>
                 └ <fastapi.dependencies.models.Dependant object at 0x10cae4970>

  File "./app/routers/conversation.py", line 10, in action
    return await controller.index(request)
                 │          │     └ <starlette.requests.Request object at 0x10cb27400>
                 │          └ <staticmethod object at 0x10c9577c0>
                 └ <class 'app.controllers.Conversation.Conversation'>

  File "./app/controllers/Conversation.py", line 194, in index
    agent = WebhookClient(req)
            │             └ {'responseId': '097cad17-c641-44c2-8183-37eeac4052d1-046d94d0', 'queryResult': {'action': 'input.unknown', 'parameters': {}, ...
            └ <class 'dialogflow_fulfillment.webhook_client.WebhookClient'>

  File "/Library/Python/3.8/site-packages/dialogflow_fulfillment/webhook_client.py", line 52, in __init__
    self._process_request(request)
    │    │                └ {'responseId': '097cad17-c641-44c2-8183-37eeac4052d1-046d94d0', 'queryResult': {'action': 'input.unknown', 'parameters': {}, ...
    │    └ <function WebhookClient._process_request at 0x10c96d550>
    └ <dialogflow_fulfillment.webhook_client.WebhookClient object at 0x10cb27ee0>
  File "/Library/Python/3.8/site-packages/dialogflow_fulfillment/webhook_client.py", line 69, in _process_request
    self.query = query_result['queryText']
    │            └ {'action': 'input.unknown', 'parameters': {}, 'allRequiredParamsPresent': True, 'fulfillmentText': 'Evita tidak dengar.', 'fu...
    └ <dialogflow_fulfillment.webhook_client.WebhookClient object at 0x10cb27ee0>

KeyError: 'queryText'
ERROR    2021-07-27 22:29:09.395 request id: app - uvicorn.protocols.http.h11_impl:run_asgi - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 5
               │     └ 8
               └ <function _main at 0x10b3f20d0>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 5
           │    └ <function BaseProcess._bootstrap at 0x10b1c5b80>
           └ <SpawnProcess name='SpawnProcess-23' parent=7596 started>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x10b1c51f0>
    └ <SpawnProcess name='SpawnProcess-23' parent=7596 started>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x10b459100>, 'target': <bound method Server.run of <uvicorn.server.Server object...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-23' parent=7596 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-23' parent=7596 started>
    │    └ <function subprocess_started at 0x10ba31670>
    └ <SpawnProcess name='SpawnProcess-23' parent=7596 started>
  File "/Library/Python/3.8/site-packages/uvicorn/subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=4, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 5000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x10b4591f0>>
  File "/Library/Python/3.8/site-packages/uvicorn/server.py", line 50, in run
    loop.run_until_complete(self.serve(sockets=sockets))
    │    │                  │    │             └ [<socket.socket fd=4, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 5000)>]
    │    │                  │    └ <function Server.serve at 0x10ba2ec10>
    │    │                  └ <uvicorn.server.Server object at 0x10b4591f0>
    │    └ <function BaseEventLoop.run_until_complete at 0x10b6eb790>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/asyncio/base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x10b6eb700>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/asyncio/base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x10b6ed280>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/asyncio/base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x10b620160>
    └ <Handle <TaskWakeupMethWrapper object at 0x10cb272e0>(<Future finished result=None>)>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/asyncio/events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x10cb272e0>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x10cb272e0>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x10cb272e0>(<Future finished result=None>)>
> File "/Library/Python/3.8/site-packages/uvicorn/protocols/http/h11_impl.py", line 369, in run_asgi
    result = await app(self.scope, self.receive, self.send)
                   │   │    │      │    │        │    └ <function RequestResponseCycle.send at 0x10bba5310>
                   │   │    │      │    │        └ <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cb27ca0>
                   │   │    │      │    └ <function RequestResponseCycle.receive at 0x10bba53a0>
                   │   │    │      └ <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cb27ca0>
                   │   │    └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
                   │   └ <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cb27ca0>
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x10bb51370>
  File "/Library/Python/3.8/site-packages/uvicorn/middleware/proxy_headers.py", line 59, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cb27ca0>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cb27ca0>>
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x10bba4040>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x10bb51370>
  File "/Library/Python/3.8/site-packages/fastapi/applications.py", line 199, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cb27ca0>>
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cb27ca0>>
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
  File "/Library/Python/3.8/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cb27ca0>>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cb27ca0>>
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x10c8c2a90>
          └ <fastapi.applications.FastAPI object at 0x10bba4040>
  File "/Library/Python/3.8/site-packages/starlette/middleware/errors.py", line 181, in __call__
    raise exc from None
  File "/Library/Python/3.8/site-packages/starlette/middleware/errors.py", line 159, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x10cbe93a0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cb27ca0>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x10c8c2a30>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x10c8c2a90>
  File "/Library/Python/3.8/site-packages/starlette/middleware/base.py", line 25, in __call__
    response = await self.dispatch_func(request, self.call_next)
                     │    │             │        │    └ <function BaseHTTPMiddleware.call_next at 0x10c060940>
                     │    │             │        └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x10c8c2a30>
                     │    │             └ <starlette.requests.Request object at 0x10cb278b0>
                     │    └ <function add_process_time_header at 0x10caefd30>
                     └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x10c8c2a30>

  File "./app/__init__.py", line 65, in add_process_time_header
    response = await call_next(request)
                     │         └ <starlette.requests.Request object at 0x10cb278b0>
                     └ <bound method BaseHTTPMiddleware.call_next of <starlette.middleware.base.BaseHTTPMiddleware object at 0x10c8c2a30>>

  File "/Library/Python/3.8/site-packages/starlette/middleware/base.py", line 45, in call_next
    task.result()
    │    └ <method 'result' of '_asyncio.Task' objects>
    └ <Task finished name='Task-60' coro=<BaseHTTPMiddleware.call_next.<locals>.coro() done, defined at /Library/Python/3.8/site-pa...
  File "/Library/Python/3.8/site-packages/starlette/middleware/base.py", line 38, in coro
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method Queue.put of <Queue at 0x10cb27af0 maxsize=0 tasks=1>>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cb27ca0>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x10c8c2a00>
          └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x10c8c2a30>
  File "/Library/Python/3.8/site-packages/starlette/middleware/cors.py", line 78, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method Queue.put of <Queue at 0x10cb27af0 maxsize=0 tasks=1>>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cb27ca0>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x10c8c29a0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x10c8c2a00>
  File "/Library/Python/3.8/site-packages/starlette/exceptions.py", line 82, in __call__
    raise exc from None
  File "/Library/Python/3.8/site-packages/starlette/exceptions.py", line 71, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x10cbe90d0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cb27ca0>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x10c894cd0>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x10c8c29a0>
  File "/Library/Python/3.8/site-packages/starlette/routing.py", line 580, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x10cbe90d0>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cb27ca0>>
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │     └ <function Route.handle at 0x10c02eaf0>
          └ <fastapi.routing.APIRoute object at 0x10cae4880>
  File "/Library/Python/3.8/site-packages/starlette/routing.py", line 241, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x10cbe90d0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cb27ca0>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <function request_response.<locals>.app at 0x10cae0ca0>
          └ <fastapi.routing.APIRoute object at 0x10cae4880>
  File "/Library/Python/3.8/site-packages/starlette/routing.py", line 52, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x10cb27400>
                     └ <function get_request_handler.<locals>.app at 0x10cae0c10>
  File "/Library/Python/3.8/site-packages/fastapi/routing.py", line 214, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x10c019b80>
  File "/Library/Python/3.8/site-packages/fastapi/routing.py", line 149, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'request': <starlette.requests.Request object at 0x10cb27400>}
                 │         └ <function action at 0x10c9c0670>
                 └ <fastapi.dependencies.models.Dependant object at 0x10cae4970>

  File "./app/routers/conversation.py", line 10, in action
    return await controller.index(request)
                 │          │     └ <starlette.requests.Request object at 0x10cb27400>
                 │          └ <staticmethod object at 0x10c9577c0>
                 └ <class 'app.controllers.Conversation.Conversation'>

  File "./app/controllers/Conversation.py", line 194, in index
    agent = WebhookClient(req)
            │             └ {'responseId': '097cad17-c641-44c2-8183-37eeac4052d1-046d94d0', 'queryResult': {'action': 'input.unknown', 'parameters': {}, ...
            └ <class 'dialogflow_fulfillment.webhook_client.WebhookClient'>

  File "/Library/Python/3.8/site-packages/dialogflow_fulfillment/webhook_client.py", line 52, in __init__
    self._process_request(request)
    │    │                └ {'responseId': '097cad17-c641-44c2-8183-37eeac4052d1-046d94d0', 'queryResult': {'action': 'input.unknown', 'parameters': {}, ...
    │    └ <function WebhookClient._process_request at 0x10c96d550>
    └ <dialogflow_fulfillment.webhook_client.WebhookClient object at 0x10cb27ee0>
  File "/Library/Python/3.8/site-packages/dialogflow_fulfillment/webhook_client.py", line 69, in _process_request
    self.query = query_result['queryText']
    │            └ {'action': 'input.unknown', 'parameters': {}, 'allRequiredParamsPresent': True, 'fulfillmentText': 'Evita tidak dengar.', 'fu...
    └ <dialogflow_fulfillment.webhook_client.WebhookClient object at 0x10cb27ee0>

KeyError: 'queryText'
INFO     2021-07-27 22:29:19.875 request id: app - uvicorn.protocols.http.h11_impl:send - 66.249.83.88:0 - "POST /webhook HTTP/1.1" 200
INFO     2021-07-27 22:29:43.857 request id: app - uvicorn.protocols.http.h11_impl:send - 66.249.83.84:0 - "POST /webhook HTTP/1.1" 200
INFO     2021-07-27 22:29:48.268 request id: app - uvicorn.protocols.http.h11_impl:send - 66.249.83.68:0 - "POST /webhook HTTP/1.1" 500
ERROR    2021-07-27 22:29:48.271 request id: app - uvicorn.protocols.http.h11_impl:run_asgi - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 5
               │     └ 8
               └ <function _main at 0x10b3f20d0>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 5
           │    └ <function BaseProcess._bootstrap at 0x10b1c5b80>
           └ <SpawnProcess name='SpawnProcess-23' parent=7596 started>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x10b1c51f0>
    └ <SpawnProcess name='SpawnProcess-23' parent=7596 started>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x10b459100>, 'target': <bound method Server.run of <uvicorn.server.Server object...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-23' parent=7596 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-23' parent=7596 started>
    │    └ <function subprocess_started at 0x10ba31670>
    └ <SpawnProcess name='SpawnProcess-23' parent=7596 started>
  File "/Library/Python/3.8/site-packages/uvicorn/subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=4, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 5000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x10b4591f0>>
  File "/Library/Python/3.8/site-packages/uvicorn/server.py", line 50, in run
    loop.run_until_complete(self.serve(sockets=sockets))
    │    │                  │    │             └ [<socket.socket fd=4, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 5000)>]
    │    │                  │    └ <function Server.serve at 0x10ba2ec10>
    │    │                  └ <uvicorn.server.Server object at 0x10b4591f0>
    │    └ <function BaseEventLoop.run_until_complete at 0x10b6eb790>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/asyncio/base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x10b6eb700>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/asyncio/base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x10b6ed280>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/asyncio/base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x10b620160>
    └ <Handle <TaskWakeupMethWrapper object at 0x10cb276a0>(<Future finished result=None>)>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/asyncio/events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x10cb276a0>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x10cb276a0>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x10cb276a0>(<Future finished result=None>)>
> File "/Library/Python/3.8/site-packages/uvicorn/protocols/http/h11_impl.py", line 369, in run_asgi
    result = await app(self.scope, self.receive, self.send)
                   │   │    │      │    │        │    └ <function RequestResponseCycle.send at 0x10bba5310>
                   │   │    │      │    │        └ <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cb27520>
                   │   │    │      │    └ <function RequestResponseCycle.receive at 0x10bba53a0>
                   │   │    │      └ <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cb27520>
                   │   │    └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
                   │   └ <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cb27520>
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x10bb51370>
  File "/Library/Python/3.8/site-packages/uvicorn/middleware/proxy_headers.py", line 59, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cb27520>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cb27520>>
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x10bba4040>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x10bb51370>
  File "/Library/Python/3.8/site-packages/fastapi/applications.py", line 199, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cb27520>>
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cb27520>>
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
  File "/Library/Python/3.8/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cb27520>>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cb27520>>
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x10c8c2a90>
          └ <fastapi.applications.FastAPI object at 0x10bba4040>
  File "/Library/Python/3.8/site-packages/starlette/middleware/errors.py", line 181, in __call__
    raise exc from None
  File "/Library/Python/3.8/site-packages/starlette/middleware/errors.py", line 159, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x10cb214c0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cb27520>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x10c8c2a30>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x10c8c2a90>
  File "/Library/Python/3.8/site-packages/starlette/middleware/base.py", line 25, in __call__
    response = await self.dispatch_func(request, self.call_next)
                     │    │             │        │    └ <function BaseHTTPMiddleware.call_next at 0x10c060940>
                     │    │             │        └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x10c8c2a30>
                     │    │             └ <starlette.requests.Request object at 0x10cb277f0>
                     │    └ <function add_process_time_header at 0x10caefd30>
                     └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x10c8c2a30>

  File "./app/__init__.py", line 65, in add_process_time_header
    response = await call_next(request)
                     │         └ <starlette.requests.Request object at 0x10cb277f0>
                     └ <bound method BaseHTTPMiddleware.call_next of <starlette.middleware.base.BaseHTTPMiddleware object at 0x10c8c2a30>>

  File "/Library/Python/3.8/site-packages/starlette/middleware/base.py", line 45, in call_next
    task.result()
    │    └ <method 'result' of '_asyncio.Task' objects>
    └ <Task finished name='Task-76' coro=<BaseHTTPMiddleware.call_next.<locals>.coro() done, defined at /Library/Python/3.8/site-pa...
  File "/Library/Python/3.8/site-packages/starlette/middleware/base.py", line 38, in coro
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method Queue.put of <Queue at 0x10cb27c70 maxsize=0 tasks=1>>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cb27520>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x10c8c2a00>
          └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x10c8c2a30>
  File "/Library/Python/3.8/site-packages/starlette/middleware/cors.py", line 78, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method Queue.put of <Queue at 0x10cb27c70 maxsize=0 tasks=1>>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cb27520>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x10c8c29a0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x10c8c2a00>
  File "/Library/Python/3.8/site-packages/starlette/exceptions.py", line 82, in __call__
    raise exc from None
  File "/Library/Python/3.8/site-packages/starlette/exceptions.py", line 71, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x10cbafee0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cb27520>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x10c894cd0>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x10c8c29a0>
  File "/Library/Python/3.8/site-packages/starlette/routing.py", line 580, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x10cbafee0>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cb27520>>
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │     └ <function Route.handle at 0x10c02eaf0>
          └ <fastapi.routing.APIRoute object at 0x10cae4880>
  File "/Library/Python/3.8/site-packages/starlette/routing.py", line 241, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x10cbafee0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cb27520>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <function request_response.<locals>.app at 0x10cae0ca0>
          └ <fastapi.routing.APIRoute object at 0x10cae4880>
  File "/Library/Python/3.8/site-packages/starlette/routing.py", line 52, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x10cb27b50>
                     └ <function get_request_handler.<locals>.app at 0x10cae0c10>
  File "/Library/Python/3.8/site-packages/fastapi/routing.py", line 214, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x10c019b80>
  File "/Library/Python/3.8/site-packages/fastapi/routing.py", line 149, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'request': <starlette.requests.Request object at 0x10cb27b50>}
                 │         └ <function action at 0x10c9c0670>
                 └ <fastapi.dependencies.models.Dependant object at 0x10cae4970>

  File "./app/routers/conversation.py", line 10, in action
    return await controller.index(request)
                 │          │     └ <starlette.requests.Request object at 0x10cb27b50>
                 │          └ <staticmethod object at 0x10c9577c0>
                 └ <class 'app.controllers.Conversation.Conversation'>

  File "./app/controllers/Conversation.py", line 194, in index
    agent = WebhookClient(req)
            │             └ {'responseId': '9f5b032b-f0a7-449c-931b-05162e84306d-046d94d0', 'queryResult': {'action': 'input.unknown', 'parameters': {}, ...
            └ <class 'dialogflow_fulfillment.webhook_client.WebhookClient'>

  File "/Library/Python/3.8/site-packages/dialogflow_fulfillment/webhook_client.py", line 52, in __init__
    self._process_request(request)
    │    │                └ {'responseId': '9f5b032b-f0a7-449c-931b-05162e84306d-046d94d0', 'queryResult': {'action': 'input.unknown', 'parameters': {}, ...
    │    └ <function WebhookClient._process_request at 0x10c96d550>
    └ <dialogflow_fulfillment.webhook_client.WebhookClient object at 0x10cb11fd0>
  File "/Library/Python/3.8/site-packages/dialogflow_fulfillment/webhook_client.py", line 69, in _process_request
    self.query = query_result['queryText']
    │            └ {'action': 'input.unknown', 'parameters': {}, 'allRequiredParamsPresent': True, 'fulfillmentText': 'Bilang apa tadi?', 'fulfi...
    └ <dialogflow_fulfillment.webhook_client.WebhookClient object at 0x10cb11fd0>

KeyError: 'queryText'
ERROR    2021-07-27 22:29:48.292 request id: app - uvicorn.protocols.http.h11_impl:run_asgi - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 5
               │     └ 8
               └ <function _main at 0x10b3f20d0>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 5
           │    └ <function BaseProcess._bootstrap at 0x10b1c5b80>
           └ <SpawnProcess name='SpawnProcess-23' parent=7596 started>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x10b1c51f0>
    └ <SpawnProcess name='SpawnProcess-23' parent=7596 started>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x10b459100>, 'target': <bound method Server.run of <uvicorn.server.Server object...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-23' parent=7596 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-23' parent=7596 started>
    │    └ <function subprocess_started at 0x10ba31670>
    └ <SpawnProcess name='SpawnProcess-23' parent=7596 started>
  File "/Library/Python/3.8/site-packages/uvicorn/subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=4, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 5000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x10b4591f0>>
  File "/Library/Python/3.8/site-packages/uvicorn/server.py", line 50, in run
    loop.run_until_complete(self.serve(sockets=sockets))
    │    │                  │    │             └ [<socket.socket fd=4, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 5000)>]
    │    │                  │    └ <function Server.serve at 0x10ba2ec10>
    │    │                  └ <uvicorn.server.Server object at 0x10b4591f0>
    │    └ <function BaseEventLoop.run_until_complete at 0x10b6eb790>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/asyncio/base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x10b6eb700>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/asyncio/base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x10b6ed280>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/asyncio/base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x10b620160>
    └ <Handle <TaskWakeupMethWrapper object at 0x10cb276a0>(<Future finished result=None>)>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/asyncio/events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x10cb276a0>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x10cb276a0>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x10cb276a0>(<Future finished result=None>)>
> File "/Library/Python/3.8/site-packages/uvicorn/protocols/http/h11_impl.py", line 369, in run_asgi
    result = await app(self.scope, self.receive, self.send)
                   │   │    │      │    │        │    └ <function RequestResponseCycle.send at 0x10bba5310>
                   │   │    │      │    │        └ <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cb27520>
                   │   │    │      │    └ <function RequestResponseCycle.receive at 0x10bba53a0>
                   │   │    │      └ <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cb27520>
                   │   │    └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
                   │   └ <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cb27520>
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x10bb51370>
  File "/Library/Python/3.8/site-packages/uvicorn/middleware/proxy_headers.py", line 59, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cb27520>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cb27520>>
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x10bba4040>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x10bb51370>
  File "/Library/Python/3.8/site-packages/fastapi/applications.py", line 199, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cb27520>>
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cb27520>>
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
  File "/Library/Python/3.8/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cb27520>>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cb27520>>
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x10c8c2a90>
          └ <fastapi.applications.FastAPI object at 0x10bba4040>
  File "/Library/Python/3.8/site-packages/starlette/middleware/errors.py", line 181, in __call__
    raise exc from None
  File "/Library/Python/3.8/site-packages/starlette/middleware/errors.py", line 159, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x10cb214c0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cb27520>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x10c8c2a30>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x10c8c2a90>
  File "/Library/Python/3.8/site-packages/starlette/middleware/base.py", line 25, in __call__
    response = await self.dispatch_func(request, self.call_next)
                     │    │             │        │    └ <function BaseHTTPMiddleware.call_next at 0x10c060940>
                     │    │             │        └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x10c8c2a30>
                     │    │             └ <starlette.requests.Request object at 0x10cb277f0>
                     │    └ <function add_process_time_header at 0x10caefd30>
                     └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x10c8c2a30>

  File "./app/__init__.py", line 65, in add_process_time_header
    response = await call_next(request)
                     │         └ <starlette.requests.Request object at 0x10cb277f0>
                     └ <bound method BaseHTTPMiddleware.call_next of <starlette.middleware.base.BaseHTTPMiddleware object at 0x10c8c2a30>>

  File "/Library/Python/3.8/site-packages/starlette/middleware/base.py", line 45, in call_next
    task.result()
    │    └ <method 'result' of '_asyncio.Task' objects>
    └ <Task finished name='Task-76' coro=<BaseHTTPMiddleware.call_next.<locals>.coro() done, defined at /Library/Python/3.8/site-pa...
  File "/Library/Python/3.8/site-packages/starlette/middleware/base.py", line 38, in coro
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method Queue.put of <Queue at 0x10cb27c70 maxsize=0 tasks=1>>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cb27520>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x10c8c2a00>
          └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x10c8c2a30>
  File "/Library/Python/3.8/site-packages/starlette/middleware/cors.py", line 78, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method Queue.put of <Queue at 0x10cb27c70 maxsize=0 tasks=1>>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cb27520>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x10c8c29a0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x10c8c2a00>
  File "/Library/Python/3.8/site-packages/starlette/exceptions.py", line 82, in __call__
    raise exc from None
  File "/Library/Python/3.8/site-packages/starlette/exceptions.py", line 71, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x10cbafee0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cb27520>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x10c894cd0>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x10c8c29a0>
  File "/Library/Python/3.8/site-packages/starlette/routing.py", line 580, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x10cbafee0>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cb27520>>
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │     └ <function Route.handle at 0x10c02eaf0>
          └ <fastapi.routing.APIRoute object at 0x10cae4880>
  File "/Library/Python/3.8/site-packages/starlette/routing.py", line 241, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x10cbafee0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cb27520>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <function request_response.<locals>.app at 0x10cae0ca0>
          └ <fastapi.routing.APIRoute object at 0x10cae4880>
  File "/Library/Python/3.8/site-packages/starlette/routing.py", line 52, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x10cb27b50>
                     └ <function get_request_handler.<locals>.app at 0x10cae0c10>
  File "/Library/Python/3.8/site-packages/fastapi/routing.py", line 214, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x10c019b80>
  File "/Library/Python/3.8/site-packages/fastapi/routing.py", line 149, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'request': <starlette.requests.Request object at 0x10cb27b50>}
                 │         └ <function action at 0x10c9c0670>
                 └ <fastapi.dependencies.models.Dependant object at 0x10cae4970>

  File "./app/routers/conversation.py", line 10, in action
    return await controller.index(request)
                 │          │     └ <starlette.requests.Request object at 0x10cb27b50>
                 │          └ <staticmethod object at 0x10c9577c0>
                 └ <class 'app.controllers.Conversation.Conversation'>

  File "./app/controllers/Conversation.py", line 194, in index
    agent = WebhookClient(req)
            │             └ {'responseId': '9f5b032b-f0a7-449c-931b-05162e84306d-046d94d0', 'queryResult': {'action': 'input.unknown', 'parameters': {}, ...
            └ <class 'dialogflow_fulfillment.webhook_client.WebhookClient'>

  File "/Library/Python/3.8/site-packages/dialogflow_fulfillment/webhook_client.py", line 52, in __init__
    self._process_request(request)
    │    │                └ {'responseId': '9f5b032b-f0a7-449c-931b-05162e84306d-046d94d0', 'queryResult': {'action': 'input.unknown', 'parameters': {}, ...
    │    └ <function WebhookClient._process_request at 0x10c96d550>
    └ <dialogflow_fulfillment.webhook_client.WebhookClient object at 0x10cb11fd0>
  File "/Library/Python/3.8/site-packages/dialogflow_fulfillment/webhook_client.py", line 69, in _process_request
    self.query = query_result['queryText']
    │            └ {'action': 'input.unknown', 'parameters': {}, 'allRequiredParamsPresent': True, 'fulfillmentText': 'Bilang apa tadi?', 'fulfi...
    └ <dialogflow_fulfillment.webhook_client.WebhookClient object at 0x10cb11fd0>

KeyError: 'queryText'
ERROR    2021-07-27 22:29:48.308 request id: app - uvicorn.protocols.http.h11_impl:run_asgi - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 5
               │     └ 8
               └ <function _main at 0x10b3f20d0>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 5
           │    └ <function BaseProcess._bootstrap at 0x10b1c5b80>
           └ <SpawnProcess name='SpawnProcess-23' parent=7596 started>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x10b1c51f0>
    └ <SpawnProcess name='SpawnProcess-23' parent=7596 started>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x10b459100>, 'target': <bound method Server.run of <uvicorn.server.Server object...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-23' parent=7596 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-23' parent=7596 started>
    │    └ <function subprocess_started at 0x10ba31670>
    └ <SpawnProcess name='SpawnProcess-23' parent=7596 started>
  File "/Library/Python/3.8/site-packages/uvicorn/subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=4, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 5000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x10b4591f0>>
  File "/Library/Python/3.8/site-packages/uvicorn/server.py", line 50, in run
    loop.run_until_complete(self.serve(sockets=sockets))
    │    │                  │    │             └ [<socket.socket fd=4, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 5000)>]
    │    │                  │    └ <function Server.serve at 0x10ba2ec10>
    │    │                  └ <uvicorn.server.Server object at 0x10b4591f0>
    │    └ <function BaseEventLoop.run_until_complete at 0x10b6eb790>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/asyncio/base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x10b6eb700>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/asyncio/base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x10b6ed280>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/asyncio/base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x10b620160>
    └ <Handle <TaskWakeupMethWrapper object at 0x10cb276a0>(<Future finished result=None>)>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/asyncio/events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x10cb276a0>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x10cb276a0>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x10cb276a0>(<Future finished result=None>)>
> File "/Library/Python/3.8/site-packages/uvicorn/protocols/http/h11_impl.py", line 369, in run_asgi
    result = await app(self.scope, self.receive, self.send)
                   │   │    │      │    │        │    └ <function RequestResponseCycle.send at 0x10bba5310>
                   │   │    │      │    │        └ <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cb27520>
                   │   │    │      │    └ <function RequestResponseCycle.receive at 0x10bba53a0>
                   │   │    │      └ <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cb27520>
                   │   │    └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
                   │   └ <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cb27520>
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x10bb51370>
  File "/Library/Python/3.8/site-packages/uvicorn/middleware/proxy_headers.py", line 59, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cb27520>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cb27520>>
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x10bba4040>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x10bb51370>
  File "/Library/Python/3.8/site-packages/fastapi/applications.py", line 199, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cb27520>>
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cb27520>>
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
  File "/Library/Python/3.8/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cb27520>>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cb27520>>
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x10c8c2a90>
          └ <fastapi.applications.FastAPI object at 0x10bba4040>
  File "/Library/Python/3.8/site-packages/starlette/middleware/errors.py", line 181, in __call__
    raise exc from None
  File "/Library/Python/3.8/site-packages/starlette/middleware/errors.py", line 159, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x10cb214c0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cb27520>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x10c8c2a30>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x10c8c2a90>
  File "/Library/Python/3.8/site-packages/starlette/middleware/base.py", line 25, in __call__
    response = await self.dispatch_func(request, self.call_next)
                     │    │             │        │    └ <function BaseHTTPMiddleware.call_next at 0x10c060940>
                     │    │             │        └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x10c8c2a30>
                     │    │             └ <starlette.requests.Request object at 0x10cb277f0>
                     │    └ <function add_process_time_header at 0x10caefd30>
                     └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x10c8c2a30>

  File "./app/__init__.py", line 65, in add_process_time_header
    response = await call_next(request)
                     │         └ <starlette.requests.Request object at 0x10cb277f0>
                     └ <bound method BaseHTTPMiddleware.call_next of <starlette.middleware.base.BaseHTTPMiddleware object at 0x10c8c2a30>>

  File "/Library/Python/3.8/site-packages/starlette/middleware/base.py", line 45, in call_next
    task.result()
    │    └ <method 'result' of '_asyncio.Task' objects>
    └ <Task finished name='Task-76' coro=<BaseHTTPMiddleware.call_next.<locals>.coro() done, defined at /Library/Python/3.8/site-pa...
  File "/Library/Python/3.8/site-packages/starlette/middleware/base.py", line 38, in coro
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method Queue.put of <Queue at 0x10cb27c70 maxsize=0 tasks=1>>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cb27520>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x10c8c2a00>
          └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x10c8c2a30>
  File "/Library/Python/3.8/site-packages/starlette/middleware/cors.py", line 78, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method Queue.put of <Queue at 0x10cb27c70 maxsize=0 tasks=1>>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cb27520>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x10c8c29a0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x10c8c2a00>
  File "/Library/Python/3.8/site-packages/starlette/exceptions.py", line 82, in __call__
    raise exc from None
  File "/Library/Python/3.8/site-packages/starlette/exceptions.py", line 71, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x10cbafee0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cb27520>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x10c894cd0>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x10c8c29a0>
  File "/Library/Python/3.8/site-packages/starlette/routing.py", line 580, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x10cbafee0>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cb27520>>
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │     └ <function Route.handle at 0x10c02eaf0>
          └ <fastapi.routing.APIRoute object at 0x10cae4880>
  File "/Library/Python/3.8/site-packages/starlette/routing.py", line 241, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x10cbafee0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cb27520>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <function request_response.<locals>.app at 0x10cae0ca0>
          └ <fastapi.routing.APIRoute object at 0x10cae4880>
  File "/Library/Python/3.8/site-packages/starlette/routing.py", line 52, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x10cb27b50>
                     └ <function get_request_handler.<locals>.app at 0x10cae0c10>
  File "/Library/Python/3.8/site-packages/fastapi/routing.py", line 214, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x10c019b80>
  File "/Library/Python/3.8/site-packages/fastapi/routing.py", line 149, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'request': <starlette.requests.Request object at 0x10cb27b50>}
                 │         └ <function action at 0x10c9c0670>
                 └ <fastapi.dependencies.models.Dependant object at 0x10cae4970>

  File "./app/routers/conversation.py", line 10, in action
    return await controller.index(request)
                 │          │     └ <starlette.requests.Request object at 0x10cb27b50>
                 │          └ <staticmethod object at 0x10c9577c0>
                 └ <class 'app.controllers.Conversation.Conversation'>

  File "./app/controllers/Conversation.py", line 194, in index
    agent = WebhookClient(req)
            │             └ {'responseId': '9f5b032b-f0a7-449c-931b-05162e84306d-046d94d0', 'queryResult': {'action': 'input.unknown', 'parameters': {}, ...
            └ <class 'dialogflow_fulfillment.webhook_client.WebhookClient'>

  File "/Library/Python/3.8/site-packages/dialogflow_fulfillment/webhook_client.py", line 52, in __init__
    self._process_request(request)
    │    │                └ {'responseId': '9f5b032b-f0a7-449c-931b-05162e84306d-046d94d0', 'queryResult': {'action': 'input.unknown', 'parameters': {}, ...
    │    └ <function WebhookClient._process_request at 0x10c96d550>
    └ <dialogflow_fulfillment.webhook_client.WebhookClient object at 0x10cb11fd0>
  File "/Library/Python/3.8/site-packages/dialogflow_fulfillment/webhook_client.py", line 69, in _process_request
    self.query = query_result['queryText']
    │            └ {'action': 'input.unknown', 'parameters': {}, 'allRequiredParamsPresent': True, 'fulfillmentText': 'Bilang apa tadi?', 'fulfi...
    └ <dialogflow_fulfillment.webhook_client.WebhookClient object at 0x10cb11fd0>

KeyError: 'queryText'
INFO     2021-07-27 22:30:01.939 request id: app - uvicorn.protocols.http.h11_impl:send - 66.249.83.83:0 - "POST /webhook HTTP/1.1" 200
INFO     2021-07-27 22:30:32.292 request id: app - uvicorn.protocols.http.h11_impl:send - 74.125.212.148:0 - "POST /webhook HTTP/1.1" 500
ERROR    2021-07-27 22:30:32.295 request id: app - uvicorn.protocols.http.h11_impl:run_asgi - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 5
               │     └ 8
               └ <function _main at 0x10b3f20d0>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 5
           │    └ <function BaseProcess._bootstrap at 0x10b1c5b80>
           └ <SpawnProcess name='SpawnProcess-23' parent=7596 started>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x10b1c51f0>
    └ <SpawnProcess name='SpawnProcess-23' parent=7596 started>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x10b459100>, 'target': <bound method Server.run of <uvicorn.server.Server object...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-23' parent=7596 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-23' parent=7596 started>
    │    └ <function subprocess_started at 0x10ba31670>
    └ <SpawnProcess name='SpawnProcess-23' parent=7596 started>
  File "/Library/Python/3.8/site-packages/uvicorn/subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=4, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 5000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x10b4591f0>>
  File "/Library/Python/3.8/site-packages/uvicorn/server.py", line 50, in run
    loop.run_until_complete(self.serve(sockets=sockets))
    │    │                  │    │             └ [<socket.socket fd=4, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 5000)>]
    │    │                  │    └ <function Server.serve at 0x10ba2ec10>
    │    │                  └ <uvicorn.server.Server object at 0x10b4591f0>
    │    └ <function BaseEventLoop.run_until_complete at 0x10b6eb790>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/asyncio/base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x10b6eb700>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/asyncio/base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x10b6ed280>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/asyncio/base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x10b620160>
    └ <Handle <TaskWakeupMethWrapper object at 0x10cb5ab50>(<Future finished result=None>)>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/asyncio/events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x10cb5ab50>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x10cb5ab50>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x10cb5ab50>(<Future finished result=None>)>
> File "/Library/Python/3.8/site-packages/uvicorn/protocols/http/h11_impl.py", line 369, in run_asgi
    result = await app(self.scope, self.receive, self.send)
                   │   │    │      │    │        │    └ <function RequestResponseCycle.send at 0x10bba5310>
                   │   │    │      │    │        └ <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cbe3b50>
                   │   │    │      │    └ <function RequestResponseCycle.receive at 0x10bba53a0>
                   │   │    │      └ <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cbe3b50>
                   │   │    └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
                   │   └ <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cbe3b50>
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x10bb51370>
  File "/Library/Python/3.8/site-packages/uvicorn/middleware/proxy_headers.py", line 59, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cbe3b50>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cbe3b50>>
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x10bba4040>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x10bb51370>
  File "/Library/Python/3.8/site-packages/fastapi/applications.py", line 199, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cbe3b50>>
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cbe3b50>>
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
  File "/Library/Python/3.8/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cbe3b50>>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cbe3b50>>
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x10c8c2a90>
          └ <fastapi.applications.FastAPI object at 0x10bba4040>
  File "/Library/Python/3.8/site-packages/starlette/middleware/errors.py", line 181, in __call__
    raise exc from None
  File "/Library/Python/3.8/site-packages/starlette/middleware/errors.py", line 159, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x10caefee0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cbe3b50>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x10c8c2a30>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x10c8c2a90>
  File "/Library/Python/3.8/site-packages/starlette/middleware/base.py", line 25, in __call__
    response = await self.dispatch_func(request, self.call_next)
                     │    │             │        │    └ <function BaseHTTPMiddleware.call_next at 0x10c060940>
                     │    │             │        └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x10c8c2a30>
                     │    │             └ <starlette.requests.Request object at 0x10cb5a820>
                     │    └ <function add_process_time_header at 0x10caefd30>
                     └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x10c8c2a30>

  File "./app/__init__.py", line 65, in add_process_time_header
    response = await call_next(request)
                     │         └ <starlette.requests.Request object at 0x10cb5a820>
                     └ <bound method BaseHTTPMiddleware.call_next of <starlette.middleware.base.BaseHTTPMiddleware object at 0x10c8c2a30>>

  File "/Library/Python/3.8/site-packages/starlette/middleware/base.py", line 45, in call_next
    task.result()
    │    └ <method 'result' of '_asyncio.Task' objects>
    └ <Task finished name='Task-86' coro=<BaseHTTPMiddleware.call_next.<locals>.coro() done, defined at /Library/Python/3.8/site-pa...
  File "/Library/Python/3.8/site-packages/starlette/middleware/base.py", line 38, in coro
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method Queue.put of <Queue at 0x10cb5aa90 maxsize=0 tasks=1>>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cbe3b50>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x10c8c2a00>
          └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x10c8c2a30>
  File "/Library/Python/3.8/site-packages/starlette/middleware/cors.py", line 78, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method Queue.put of <Queue at 0x10cb5aa90 maxsize=0 tasks=1>>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cbe3b50>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x10c8c29a0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x10c8c2a00>
  File "/Library/Python/3.8/site-packages/starlette/exceptions.py", line 82, in __call__
    raise exc from None
  File "/Library/Python/3.8/site-packages/starlette/exceptions.py", line 71, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x10cbe9280>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cbe3b50>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x10c894cd0>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x10c8c29a0>
  File "/Library/Python/3.8/site-packages/starlette/routing.py", line 580, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x10cbe9280>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cbe3b50>>
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │     └ <function Route.handle at 0x10c02eaf0>
          └ <fastapi.routing.APIRoute object at 0x10cae4880>
  File "/Library/Python/3.8/site-packages/starlette/routing.py", line 241, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x10cbe9280>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cbe3b50>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <function request_response.<locals>.app at 0x10cae0ca0>
          └ <fastapi.routing.APIRoute object at 0x10cae4880>
  File "/Library/Python/3.8/site-packages/starlette/routing.py", line 52, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x10cbe3ac0>
                     └ <function get_request_handler.<locals>.app at 0x10cae0c10>
  File "/Library/Python/3.8/site-packages/fastapi/routing.py", line 214, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x10c019b80>
  File "/Library/Python/3.8/site-packages/fastapi/routing.py", line 149, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'request': <starlette.requests.Request object at 0x10cbe3ac0>}
                 │         └ <function action at 0x10c9c0670>
                 └ <fastapi.dependencies.models.Dependant object at 0x10cae4970>

  File "./app/routers/conversation.py", line 10, in action
    return await controller.index(request)
                 │          │     └ <starlette.requests.Request object at 0x10cbe3ac0>
                 │          └ <staticmethod object at 0x10c9577c0>
                 └ <class 'app.controllers.Conversation.Conversation'>

  File "./app/controllers/Conversation.py", line 195, in index
    login = Login(agent)
            │     └ <dialogflow_fulfillment.webhook_client.WebhookClient object at 0x10cbe3a90>
            └ <class 'app.libraries.Login.Login'>

  File "./app/libraries/Login.py", line 21, in __init__
    self.prosesLoging(agent)
    │    │            └ <dialogflow_fulfillment.webhook_client.WebhookClient object at 0x10cbe3a90>
    │    └ <function Login.prosesLoging at 0x10c9c0280>
    └ <app.libraries.Login.Login object at 0x10cbe35e0>

  File "./app/libraries/Login.py", line 52, in prosesLoging
    origintTelegram = agent.original_request['payload']['data']['from']
                      │     └ {'source': 'telegram', 'payload': {'data': {'update_id': '102371380', 'callback_query': {'from': {'first_name': 'Yayan', 'use...
                      └ <dialogflow_fulfillment.webhook_client.WebhookClient object at 0x10cbe3a90>

KeyError: 'from'
ERROR    2021-07-27 22:30:32.323 request id: app - uvicorn.protocols.http.h11_impl:run_asgi - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 5
               │     └ 8
               └ <function _main at 0x10b3f20d0>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 5
           │    └ <function BaseProcess._bootstrap at 0x10b1c5b80>
           └ <SpawnProcess name='SpawnProcess-23' parent=7596 started>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x10b1c51f0>
    └ <SpawnProcess name='SpawnProcess-23' parent=7596 started>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x10b459100>, 'target': <bound method Server.run of <uvicorn.server.Server object...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-23' parent=7596 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-23' parent=7596 started>
    │    └ <function subprocess_started at 0x10ba31670>
    └ <SpawnProcess name='SpawnProcess-23' parent=7596 started>
  File "/Library/Python/3.8/site-packages/uvicorn/subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=4, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 5000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x10b4591f0>>
  File "/Library/Python/3.8/site-packages/uvicorn/server.py", line 50, in run
    loop.run_until_complete(self.serve(sockets=sockets))
    │    │                  │    │             └ [<socket.socket fd=4, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 5000)>]
    │    │                  │    └ <function Server.serve at 0x10ba2ec10>
    │    │                  └ <uvicorn.server.Server object at 0x10b4591f0>
    │    └ <function BaseEventLoop.run_until_complete at 0x10b6eb790>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/asyncio/base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x10b6eb700>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/asyncio/base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x10b6ed280>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/asyncio/base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x10b620160>
    └ <Handle <TaskWakeupMethWrapper object at 0x10cb5ab50>(<Future finished result=None>)>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/asyncio/events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x10cb5ab50>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x10cb5ab50>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x10cb5ab50>(<Future finished result=None>)>
> File "/Library/Python/3.8/site-packages/uvicorn/protocols/http/h11_impl.py", line 369, in run_asgi
    result = await app(self.scope, self.receive, self.send)
                   │   │    │      │    │        │    └ <function RequestResponseCycle.send at 0x10bba5310>
                   │   │    │      │    │        └ <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cbe3b50>
                   │   │    │      │    └ <function RequestResponseCycle.receive at 0x10bba53a0>
                   │   │    │      └ <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cbe3b50>
                   │   │    └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
                   │   └ <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cbe3b50>
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x10bb51370>
  File "/Library/Python/3.8/site-packages/uvicorn/middleware/proxy_headers.py", line 59, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cbe3b50>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cbe3b50>>
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x10bba4040>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x10bb51370>
  File "/Library/Python/3.8/site-packages/fastapi/applications.py", line 199, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cbe3b50>>
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cbe3b50>>
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
  File "/Library/Python/3.8/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cbe3b50>>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cbe3b50>>
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x10c8c2a90>
          └ <fastapi.applications.FastAPI object at 0x10bba4040>
  File "/Library/Python/3.8/site-packages/starlette/middleware/errors.py", line 181, in __call__
    raise exc from None
  File "/Library/Python/3.8/site-packages/starlette/middleware/errors.py", line 159, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x10caefee0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cbe3b50>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x10c8c2a30>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x10c8c2a90>
  File "/Library/Python/3.8/site-packages/starlette/middleware/base.py", line 25, in __call__
    response = await self.dispatch_func(request, self.call_next)
                     │    │             │        │    └ <function BaseHTTPMiddleware.call_next at 0x10c060940>
                     │    │             │        └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x10c8c2a30>
                     │    │             └ <starlette.requests.Request object at 0x10cb5a820>
                     │    └ <function add_process_time_header at 0x10caefd30>
                     └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x10c8c2a30>

  File "./app/__init__.py", line 65, in add_process_time_header
    response = await call_next(request)
                     │         └ <starlette.requests.Request object at 0x10cb5a820>
                     └ <bound method BaseHTTPMiddleware.call_next of <starlette.middleware.base.BaseHTTPMiddleware object at 0x10c8c2a30>>

  File "/Library/Python/3.8/site-packages/starlette/middleware/base.py", line 45, in call_next
    task.result()
    │    └ <method 'result' of '_asyncio.Task' objects>
    └ <Task finished name='Task-86' coro=<BaseHTTPMiddleware.call_next.<locals>.coro() done, defined at /Library/Python/3.8/site-pa...
  File "/Library/Python/3.8/site-packages/starlette/middleware/base.py", line 38, in coro
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method Queue.put of <Queue at 0x10cb5aa90 maxsize=0 tasks=1>>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cbe3b50>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x10c8c2a00>
          └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x10c8c2a30>
  File "/Library/Python/3.8/site-packages/starlette/middleware/cors.py", line 78, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method Queue.put of <Queue at 0x10cb5aa90 maxsize=0 tasks=1>>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cbe3b50>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x10c8c29a0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x10c8c2a00>
  File "/Library/Python/3.8/site-packages/starlette/exceptions.py", line 82, in __call__
    raise exc from None
  File "/Library/Python/3.8/site-packages/starlette/exceptions.py", line 71, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x10cbe9280>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cbe3b50>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x10c894cd0>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x10c8c29a0>
  File "/Library/Python/3.8/site-packages/starlette/routing.py", line 580, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x10cbe9280>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cbe3b50>>
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │     └ <function Route.handle at 0x10c02eaf0>
          └ <fastapi.routing.APIRoute object at 0x10cae4880>
  File "/Library/Python/3.8/site-packages/starlette/routing.py", line 241, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x10cbe9280>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cbe3b50>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <function request_response.<locals>.app at 0x10cae0ca0>
          └ <fastapi.routing.APIRoute object at 0x10cae4880>
  File "/Library/Python/3.8/site-packages/starlette/routing.py", line 52, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x10cbe3ac0>
                     └ <function get_request_handler.<locals>.app at 0x10cae0c10>
  File "/Library/Python/3.8/site-packages/fastapi/routing.py", line 214, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x10c019b80>
  File "/Library/Python/3.8/site-packages/fastapi/routing.py", line 149, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'request': <starlette.requests.Request object at 0x10cbe3ac0>}
                 │         └ <function action at 0x10c9c0670>
                 └ <fastapi.dependencies.models.Dependant object at 0x10cae4970>

  File "./app/routers/conversation.py", line 10, in action
    return await controller.index(request)
                 │          │     └ <starlette.requests.Request object at 0x10cbe3ac0>
                 │          └ <staticmethod object at 0x10c9577c0>
                 └ <class 'app.controllers.Conversation.Conversation'>

  File "./app/controllers/Conversation.py", line 195, in index
    login = Login(agent)
            │     └ <dialogflow_fulfillment.webhook_client.WebhookClient object at 0x10cbe3a90>
            └ <class 'app.libraries.Login.Login'>

  File "./app/libraries/Login.py", line 21, in __init__
    self.prosesLoging(agent)
    │    │            └ <dialogflow_fulfillment.webhook_client.WebhookClient object at 0x10cbe3a90>
    │    └ <function Login.prosesLoging at 0x10c9c0280>
    └ <app.libraries.Login.Login object at 0x10cbe35e0>

  File "./app/libraries/Login.py", line 52, in prosesLoging
    origintTelegram = agent.original_request['payload']['data']['from']
                      │     └ {'source': 'telegram', 'payload': {'data': {'update_id': '102371380', 'callback_query': {'from': {'first_name': 'Yayan', 'use...
                      └ <dialogflow_fulfillment.webhook_client.WebhookClient object at 0x10cbe3a90>

KeyError: 'from'
ERROR    2021-07-27 22:30:32.337 request id: app - uvicorn.protocols.http.h11_impl:run_asgi - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 5
               │     └ 8
               └ <function _main at 0x10b3f20d0>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 5
           │    └ <function BaseProcess._bootstrap at 0x10b1c5b80>
           └ <SpawnProcess name='SpawnProcess-23' parent=7596 started>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x10b1c51f0>
    └ <SpawnProcess name='SpawnProcess-23' parent=7596 started>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x10b459100>, 'target': <bound method Server.run of <uvicorn.server.Server object...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-23' parent=7596 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-23' parent=7596 started>
    │    └ <function subprocess_started at 0x10ba31670>
    └ <SpawnProcess name='SpawnProcess-23' parent=7596 started>
  File "/Library/Python/3.8/site-packages/uvicorn/subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=4, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 5000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x10b4591f0>>
  File "/Library/Python/3.8/site-packages/uvicorn/server.py", line 50, in run
    loop.run_until_complete(self.serve(sockets=sockets))
    │    │                  │    │             └ [<socket.socket fd=4, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 5000)>]
    │    │                  │    └ <function Server.serve at 0x10ba2ec10>
    │    │                  └ <uvicorn.server.Server object at 0x10b4591f0>
    │    └ <function BaseEventLoop.run_until_complete at 0x10b6eb790>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/asyncio/base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x10b6eb700>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/asyncio/base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x10b6ed280>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/asyncio/base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x10b620160>
    └ <Handle <TaskWakeupMethWrapper object at 0x10cb5ab50>(<Future finished result=None>)>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/asyncio/events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x10cb5ab50>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x10cb5ab50>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x10cb5ab50>(<Future finished result=None>)>
> File "/Library/Python/3.8/site-packages/uvicorn/protocols/http/h11_impl.py", line 369, in run_asgi
    result = await app(self.scope, self.receive, self.send)
                   │   │    │      │    │        │    └ <function RequestResponseCycle.send at 0x10bba5310>
                   │   │    │      │    │        └ <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cbe3b50>
                   │   │    │      │    └ <function RequestResponseCycle.receive at 0x10bba53a0>
                   │   │    │      └ <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cbe3b50>
                   │   │    └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
                   │   └ <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cbe3b50>
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x10bb51370>
  File "/Library/Python/3.8/site-packages/uvicorn/middleware/proxy_headers.py", line 59, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cbe3b50>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cbe3b50>>
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x10bba4040>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x10bb51370>
  File "/Library/Python/3.8/site-packages/fastapi/applications.py", line 199, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cbe3b50>>
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cbe3b50>>
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
  File "/Library/Python/3.8/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cbe3b50>>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cbe3b50>>
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x10c8c2a90>
          └ <fastapi.applications.FastAPI object at 0x10bba4040>
  File "/Library/Python/3.8/site-packages/starlette/middleware/errors.py", line 181, in __call__
    raise exc from None
  File "/Library/Python/3.8/site-packages/starlette/middleware/errors.py", line 159, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x10caefee0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cbe3b50>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x10c8c2a30>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x10c8c2a90>
  File "/Library/Python/3.8/site-packages/starlette/middleware/base.py", line 25, in __call__
    response = await self.dispatch_func(request, self.call_next)
                     │    │             │        │    └ <function BaseHTTPMiddleware.call_next at 0x10c060940>
                     │    │             │        └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x10c8c2a30>
                     │    │             └ <starlette.requests.Request object at 0x10cb5a820>
                     │    └ <function add_process_time_header at 0x10caefd30>
                     └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x10c8c2a30>

  File "./app/__init__.py", line 65, in add_process_time_header
    response = await call_next(request)
                     │         └ <starlette.requests.Request object at 0x10cb5a820>
                     └ <bound method BaseHTTPMiddleware.call_next of <starlette.middleware.base.BaseHTTPMiddleware object at 0x10c8c2a30>>

  File "/Library/Python/3.8/site-packages/starlette/middleware/base.py", line 45, in call_next
    task.result()
    │    └ <method 'result' of '_asyncio.Task' objects>
    └ <Task finished name='Task-86' coro=<BaseHTTPMiddleware.call_next.<locals>.coro() done, defined at /Library/Python/3.8/site-pa...
  File "/Library/Python/3.8/site-packages/starlette/middleware/base.py", line 38, in coro
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method Queue.put of <Queue at 0x10cb5aa90 maxsize=0 tasks=1>>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cbe3b50>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x10c8c2a00>
          └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x10c8c2a30>
  File "/Library/Python/3.8/site-packages/starlette/middleware/cors.py", line 78, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method Queue.put of <Queue at 0x10cb5aa90 maxsize=0 tasks=1>>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cbe3b50>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x10c8c29a0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x10c8c2a00>
  File "/Library/Python/3.8/site-packages/starlette/exceptions.py", line 82, in __call__
    raise exc from None
  File "/Library/Python/3.8/site-packages/starlette/exceptions.py", line 71, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x10cbe9280>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cbe3b50>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x10c894cd0>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x10c8c29a0>
  File "/Library/Python/3.8/site-packages/starlette/routing.py", line 580, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x10cbe9280>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cbe3b50>>
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │     └ <function Route.handle at 0x10c02eaf0>
          └ <fastapi.routing.APIRoute object at 0x10cae4880>
  File "/Library/Python/3.8/site-packages/starlette/routing.py", line 241, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x10cbe9280>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cbe3b50>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <function request_response.<locals>.app at 0x10cae0ca0>
          └ <fastapi.routing.APIRoute object at 0x10cae4880>
  File "/Library/Python/3.8/site-packages/starlette/routing.py", line 52, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x10cbe3ac0>
                     └ <function get_request_handler.<locals>.app at 0x10cae0c10>
  File "/Library/Python/3.8/site-packages/fastapi/routing.py", line 214, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x10c019b80>
  File "/Library/Python/3.8/site-packages/fastapi/routing.py", line 149, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'request': <starlette.requests.Request object at 0x10cbe3ac0>}
                 │         └ <function action at 0x10c9c0670>
                 └ <fastapi.dependencies.models.Dependant object at 0x10cae4970>

  File "./app/routers/conversation.py", line 10, in action
    return await controller.index(request)
                 │          │     └ <starlette.requests.Request object at 0x10cbe3ac0>
                 │          └ <staticmethod object at 0x10c9577c0>
                 └ <class 'app.controllers.Conversation.Conversation'>

  File "./app/controllers/Conversation.py", line 195, in index
    login = Login(agent)
            │     └ <dialogflow_fulfillment.webhook_client.WebhookClient object at 0x10cbe3a90>
            └ <class 'app.libraries.Login.Login'>

  File "./app/libraries/Login.py", line 21, in __init__
    self.prosesLoging(agent)
    │    │            └ <dialogflow_fulfillment.webhook_client.WebhookClient object at 0x10cbe3a90>
    │    └ <function Login.prosesLoging at 0x10c9c0280>
    └ <app.libraries.Login.Login object at 0x10cbe35e0>

  File "./app/libraries/Login.py", line 52, in prosesLoging
    origintTelegram = agent.original_request['payload']['data']['from']
                      │     └ {'source': 'telegram', 'payload': {'data': {'update_id': '102371380', 'callback_query': {'from': {'first_name': 'Yayan', 'use...
                      └ <dialogflow_fulfillment.webhook_client.WebhookClient object at 0x10cbe3a90>

KeyError: 'from'
INFO     2021-07-27 22:31:52.387 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2021-07-27 22:31:52.388 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2021-07-27 22:31:52.388 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2021-07-27 22:31:52.494 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2021-07-27 22:31:52.495 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2021-07-27 22:31:52.495 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2021-07-27 22:31:52.496 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2021-07-27 22:31:52.496 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2021-07-27 22:31:52.496 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2021-07-27 22:31:52.497 request id: app - uvicorn.server:serve - Finished server process [9888]
INFO     2021-07-27 22:31:52.497 request id: app - uvicorn.server:serve - Finished server process [9888]
INFO     2021-07-27 22:31:52.497 request id: app - uvicorn.server:serve - Finished server process [9888]
INFO     2021-07-27 22:31:53.687 request id: app - uvicorn.server:serve - Started server process [9910]
INFO     2021-07-27 22:31:53.687 request id: app - uvicorn.server:serve - Started server process [9910]
INFO     2021-07-27 22:31:53.688 request id: app - uvicorn.server:serve - Started server process [9910]
INFO     2021-07-27 22:31:53.688 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2021-07-27 22:31:53.688 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2021-07-27 22:31:53.688 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2021-07-27 22:31:53.689 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2021-07-27 22:31:53.689 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2021-07-27 22:31:53.689 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2021-07-27 22:31:55.810 request id: app - uvicorn.protocols.http.h11_impl:send - 74.125.212.139:0 - "POST /webhook HTTP/1.1" 500
ERROR    2021-07-27 22:31:55.814 request id: app - uvicorn.protocols.http.h11_impl:run_asgi - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 5
               │     └ 8
               └ <function _main at 0x10cfe70d0>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 5
           │    └ <function BaseProcess._bootstrap at 0x10cdbab80>
           └ <SpawnProcess name='SpawnProcess-24' parent=7596 started>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x10cdba1f0>
    └ <SpawnProcess name='SpawnProcess-24' parent=7596 started>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x10d04e100>, 'target': <bound method Server.run of <uvicorn.server.Server object...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-24' parent=7596 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-24' parent=7596 started>
    │    └ <function subprocess_started at 0x10d626670>
    └ <SpawnProcess name='SpawnProcess-24' parent=7596 started>
  File "/Library/Python/3.8/site-packages/uvicorn/subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=4, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 5000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x10d04e1f0>>
  File "/Library/Python/3.8/site-packages/uvicorn/server.py", line 50, in run
    loop.run_until_complete(self.serve(sockets=sockets))
    │    │                  │    │             └ [<socket.socket fd=4, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 5000)>]
    │    │                  │    └ <function Server.serve at 0x10d623c10>
    │    │                  └ <uvicorn.server.Server object at 0x10d04e1f0>
    │    └ <function BaseEventLoop.run_until_complete at 0x10d2e0790>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/asyncio/base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x10d2e0700>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/asyncio/base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x10d2e2280>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/asyncio/base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x10d215160>
    └ <Handle <TaskWakeupMethWrapper object at 0x10e704be0>(<Future finished result=None>)>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/asyncio/events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x10e704be0>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x10e704be0>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x10e704be0>(<Future finished result=None>)>
> File "/Library/Python/3.8/site-packages/uvicorn/protocols/http/h11_impl.py", line 369, in run_asgi
    result = await app(self.scope, self.receive, self.send)
                   │   │    │      │    │        │    └ <function RequestResponseCycle.send at 0x10d779310>
                   │   │    │      │    │        └ <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10e704e50>
                   │   │    │      │    └ <function RequestResponseCycle.receive at 0x10d7793a0>
                   │   │    │      └ <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10e704e50>
                   │   │    └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
                   │   └ <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10e704e50>
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x10d746370>
  File "/Library/Python/3.8/site-packages/uvicorn/middleware/proxy_headers.py", line 59, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10e704e50>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10e704e50>>
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x10d799040>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x10d746370>
  File "/Library/Python/3.8/site-packages/fastapi/applications.py", line 199, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10e704e50>>
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10e704e50>>
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
  File "/Library/Python/3.8/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10e704e50>>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10e704e50>>
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x10e6eaa90>
          └ <fastapi.applications.FastAPI object at 0x10d799040>
  File "/Library/Python/3.8/site-packages/starlette/middleware/errors.py", line 181, in __call__
    raise exc from None
  File "/Library/Python/3.8/site-packages/starlette/middleware/errors.py", line 159, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x10e6e4f70>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10e704e50>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x10e6eaa30>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x10e6eaa90>
  File "/Library/Python/3.8/site-packages/starlette/middleware/base.py", line 25, in __call__
    response = await self.dispatch_func(request, self.call_next)
                     │    │             │        │    └ <function BaseHTTPMiddleware.call_next at 0x10dc55940>
                     │    │             │        └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x10e6eaa30>
                     │    │             └ <starlette.requests.Request object at 0x10e704ee0>
                     │    └ <function add_process_time_header at 0x10e6e4d30>
                     └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x10e6eaa30>

  File "./app/__init__.py", line 65, in add_process_time_header
    response = await call_next(request)
                     │         └ <starlette.requests.Request object at 0x10e704ee0>
                     └ <bound method BaseHTTPMiddleware.call_next of <starlette.middleware.base.BaseHTTPMiddleware object at 0x10e6eaa30>>

  File "/Library/Python/3.8/site-packages/starlette/middleware/base.py", line 45, in call_next
    task.result()
    │    └ <method 'result' of '_asyncio.Task' objects>
    └ <Task finished name='Task-6' coro=<BaseHTTPMiddleware.call_next.<locals>.coro() done, defined at /Library/Python/3.8/site-pac...
  File "/Library/Python/3.8/site-packages/starlette/middleware/base.py", line 38, in coro
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method Queue.put of <Queue at 0x10e704b80 maxsize=0 tasks=1>>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10e704e50>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x10e6eaa00>
          └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x10e6eaa30>
  File "/Library/Python/3.8/site-packages/starlette/middleware/cors.py", line 78, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method Queue.put of <Queue at 0x10e704b80 maxsize=0 tasks=1>>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10e704e50>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x10e6ea9a0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x10e6eaa00>
  File "/Library/Python/3.8/site-packages/starlette/exceptions.py", line 82, in __call__
    raise exc from None
  File "/Library/Python/3.8/site-packages/starlette/exceptions.py", line 71, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x10e7170d0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10e704e50>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x10e489cd0>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x10e6ea9a0>
  File "/Library/Python/3.8/site-packages/starlette/routing.py", line 580, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x10e7170d0>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10e704e50>>
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │     └ <function Route.handle at 0x10dc23af0>
          └ <fastapi.routing.APIRoute object at 0x10e6d9880>
  File "/Library/Python/3.8/site-packages/starlette/routing.py", line 241, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x10e7170d0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10e704e50>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <function request_response.<locals>.app at 0x10e6d5ca0>
          └ <fastapi.routing.APIRoute object at 0x10e6d9880>
  File "/Library/Python/3.8/site-packages/starlette/routing.py", line 52, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x10e704a00>
                     └ <function get_request_handler.<locals>.app at 0x10e6d5c10>
  File "/Library/Python/3.8/site-packages/fastapi/routing.py", line 214, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x10dc0eb80>
  File "/Library/Python/3.8/site-packages/fastapi/routing.py", line 149, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'request': <starlette.requests.Request object at 0x10e704a00>}
                 │         └ <function action at 0x10e5b6670>
                 └ <fastapi.dependencies.models.Dependant object at 0x10e6d9970>

  File "./app/routers/conversation.py", line 10, in action
    return await controller.index(request)
                 │          │     └ <starlette.requests.Request object at 0x10e704a00>
                 │          └ <staticmethod object at 0x10e54d7c0>
                 └ <class 'app.controllers.Conversation.Conversation'>

  File "./app/controllers/Conversation.py", line 195, in index
    login = Login(agent)
            │     └ <dialogflow_fulfillment.webhook_client.WebhookClient object at 0x10e71c040>
            └ <class 'app.libraries.Login.Login'>

  File "./app/libraries/Login.py", line 20, in __init__
    self.prosesLoging(agent)
    │    │            └ <dialogflow_fulfillment.webhook_client.WebhookClient object at 0x10e71c040>
    │    └ <function Login.prosesLoging at 0x10e5b6280>
    └ <app.libraries.Login.Login object at 0x10e71c0d0>

  File "./app/libraries/Login.py", line 51, in prosesLoging
    origintTelegram = agent.original_request['payload']['data']['from']
                      │     └ {'source': 'telegram', 'payload': {'data': {'update_id': '102371381', 'callback_query': {'data': 'pagecc', 'message': {'chat'...
                      └ <dialogflow_fulfillment.webhook_client.WebhookClient object at 0x10e71c040>

KeyError: 'from'
ERROR    2021-07-27 22:31:55.866 request id: app - uvicorn.protocols.http.h11_impl:run_asgi - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 5
               │     └ 8
               └ <function _main at 0x10cfe70d0>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 5
           │    └ <function BaseProcess._bootstrap at 0x10cdbab80>
           └ <SpawnProcess name='SpawnProcess-24' parent=7596 started>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x10cdba1f0>
    └ <SpawnProcess name='SpawnProcess-24' parent=7596 started>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x10d04e100>, 'target': <bound method Server.run of <uvicorn.server.Server object...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-24' parent=7596 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-24' parent=7596 started>
    │    └ <function subprocess_started at 0x10d626670>
    └ <SpawnProcess name='SpawnProcess-24' parent=7596 started>
  File "/Library/Python/3.8/site-packages/uvicorn/subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=4, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 5000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x10d04e1f0>>
  File "/Library/Python/3.8/site-packages/uvicorn/server.py", line 50, in run
    loop.run_until_complete(self.serve(sockets=sockets))
    │    │                  │    │             └ [<socket.socket fd=4, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 5000)>]
    │    │                  │    └ <function Server.serve at 0x10d623c10>
    │    │                  └ <uvicorn.server.Server object at 0x10d04e1f0>
    │    └ <function BaseEventLoop.run_until_complete at 0x10d2e0790>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/asyncio/base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x10d2e0700>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/asyncio/base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x10d2e2280>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/asyncio/base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x10d215160>
    └ <Handle <TaskWakeupMethWrapper object at 0x10e704be0>(<Future finished result=None>)>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/asyncio/events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x10e704be0>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x10e704be0>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x10e704be0>(<Future finished result=None>)>
> File "/Library/Python/3.8/site-packages/uvicorn/protocols/http/h11_impl.py", line 369, in run_asgi
    result = await app(self.scope, self.receive, self.send)
                   │   │    │      │    │        │    └ <function RequestResponseCycle.send at 0x10d779310>
                   │   │    │      │    │        └ <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10e704e50>
                   │   │    │      │    └ <function RequestResponseCycle.receive at 0x10d7793a0>
                   │   │    │      └ <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10e704e50>
                   │   │    └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
                   │   └ <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10e704e50>
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x10d746370>
  File "/Library/Python/3.8/site-packages/uvicorn/middleware/proxy_headers.py", line 59, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10e704e50>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10e704e50>>
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x10d799040>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x10d746370>
  File "/Library/Python/3.8/site-packages/fastapi/applications.py", line 199, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10e704e50>>
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10e704e50>>
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
  File "/Library/Python/3.8/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10e704e50>>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10e704e50>>
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x10e6eaa90>
          └ <fastapi.applications.FastAPI object at 0x10d799040>
  File "/Library/Python/3.8/site-packages/starlette/middleware/errors.py", line 181, in __call__
    raise exc from None
  File "/Library/Python/3.8/site-packages/starlette/middleware/errors.py", line 159, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x10e6e4f70>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10e704e50>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x10e6eaa30>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x10e6eaa90>
  File "/Library/Python/3.8/site-packages/starlette/middleware/base.py", line 25, in __call__
    response = await self.dispatch_func(request, self.call_next)
                     │    │             │        │    └ <function BaseHTTPMiddleware.call_next at 0x10dc55940>
                     │    │             │        └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x10e6eaa30>
                     │    │             └ <starlette.requests.Request object at 0x10e704ee0>
                     │    └ <function add_process_time_header at 0x10e6e4d30>
                     └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x10e6eaa30>

  File "./app/__init__.py", line 65, in add_process_time_header
    response = await call_next(request)
                     │         └ <starlette.requests.Request object at 0x10e704ee0>
                     └ <bound method BaseHTTPMiddleware.call_next of <starlette.middleware.base.BaseHTTPMiddleware object at 0x10e6eaa30>>

  File "/Library/Python/3.8/site-packages/starlette/middleware/base.py", line 45, in call_next
    task.result()
    │    └ <method 'result' of '_asyncio.Task' objects>
    └ <Task finished name='Task-6' coro=<BaseHTTPMiddleware.call_next.<locals>.coro() done, defined at /Library/Python/3.8/site-pac...
  File "/Library/Python/3.8/site-packages/starlette/middleware/base.py", line 38, in coro
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method Queue.put of <Queue at 0x10e704b80 maxsize=0 tasks=1>>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10e704e50>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x10e6eaa00>
          └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x10e6eaa30>
  File "/Library/Python/3.8/site-packages/starlette/middleware/cors.py", line 78, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method Queue.put of <Queue at 0x10e704b80 maxsize=0 tasks=1>>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10e704e50>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x10e6ea9a0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x10e6eaa00>
  File "/Library/Python/3.8/site-packages/starlette/exceptions.py", line 82, in __call__
    raise exc from None
  File "/Library/Python/3.8/site-packages/starlette/exceptions.py", line 71, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x10e7170d0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10e704e50>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x10e489cd0>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x10e6ea9a0>
  File "/Library/Python/3.8/site-packages/starlette/routing.py", line 580, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x10e7170d0>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10e704e50>>
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │     └ <function Route.handle at 0x10dc23af0>
          └ <fastapi.routing.APIRoute object at 0x10e6d9880>
  File "/Library/Python/3.8/site-packages/starlette/routing.py", line 241, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x10e7170d0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10e704e50>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <function request_response.<locals>.app at 0x10e6d5ca0>
          └ <fastapi.routing.APIRoute object at 0x10e6d9880>
  File "/Library/Python/3.8/site-packages/starlette/routing.py", line 52, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x10e704a00>
                     └ <function get_request_handler.<locals>.app at 0x10e6d5c10>
  File "/Library/Python/3.8/site-packages/fastapi/routing.py", line 214, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x10dc0eb80>
  File "/Library/Python/3.8/site-packages/fastapi/routing.py", line 149, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'request': <starlette.requests.Request object at 0x10e704a00>}
                 │         └ <function action at 0x10e5b6670>
                 └ <fastapi.dependencies.models.Dependant object at 0x10e6d9970>

  File "./app/routers/conversation.py", line 10, in action
    return await controller.index(request)
                 │          │     └ <starlette.requests.Request object at 0x10e704a00>
                 │          └ <staticmethod object at 0x10e54d7c0>
                 └ <class 'app.controllers.Conversation.Conversation'>

  File "./app/controllers/Conversation.py", line 195, in index
    login = Login(agent)
            │     └ <dialogflow_fulfillment.webhook_client.WebhookClient object at 0x10e71c040>
            └ <class 'app.libraries.Login.Login'>

  File "./app/libraries/Login.py", line 20, in __init__
    self.prosesLoging(agent)
    │    │            └ <dialogflow_fulfillment.webhook_client.WebhookClient object at 0x10e71c040>
    │    └ <function Login.prosesLoging at 0x10e5b6280>
    └ <app.libraries.Login.Login object at 0x10e71c0d0>

  File "./app/libraries/Login.py", line 51, in prosesLoging
    origintTelegram = agent.original_request['payload']['data']['from']
                      │     └ {'source': 'telegram', 'payload': {'data': {'update_id': '102371381', 'callback_query': {'data': 'pagecc', 'message': {'chat'...
                      └ <dialogflow_fulfillment.webhook_client.WebhookClient object at 0x10e71c040>

KeyError: 'from'
ERROR    2021-07-27 22:31:55.888 request id: app - uvicorn.protocols.http.h11_impl:run_asgi - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 5
               │     └ 8
               └ <function _main at 0x10cfe70d0>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 5
           │    └ <function BaseProcess._bootstrap at 0x10cdbab80>
           └ <SpawnProcess name='SpawnProcess-24' parent=7596 started>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x10cdba1f0>
    └ <SpawnProcess name='SpawnProcess-24' parent=7596 started>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x10d04e100>, 'target': <bound method Server.run of <uvicorn.server.Server object...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-24' parent=7596 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-24' parent=7596 started>
    │    └ <function subprocess_started at 0x10d626670>
    └ <SpawnProcess name='SpawnProcess-24' parent=7596 started>
  File "/Library/Python/3.8/site-packages/uvicorn/subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=4, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 5000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x10d04e1f0>>
  File "/Library/Python/3.8/site-packages/uvicorn/server.py", line 50, in run
    loop.run_until_complete(self.serve(sockets=sockets))
    │    │                  │    │             └ [<socket.socket fd=4, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 5000)>]
    │    │                  │    └ <function Server.serve at 0x10d623c10>
    │    │                  └ <uvicorn.server.Server object at 0x10d04e1f0>
    │    └ <function BaseEventLoop.run_until_complete at 0x10d2e0790>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/asyncio/base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x10d2e0700>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/asyncio/base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x10d2e2280>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/asyncio/base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x10d215160>
    └ <Handle <TaskWakeupMethWrapper object at 0x10e704be0>(<Future finished result=None>)>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/asyncio/events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x10e704be0>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x10e704be0>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x10e704be0>(<Future finished result=None>)>
> File "/Library/Python/3.8/site-packages/uvicorn/protocols/http/h11_impl.py", line 369, in run_asgi
    result = await app(self.scope, self.receive, self.send)
                   │   │    │      │    │        │    └ <function RequestResponseCycle.send at 0x10d779310>
                   │   │    │      │    │        └ <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10e704e50>
                   │   │    │      │    └ <function RequestResponseCycle.receive at 0x10d7793a0>
                   │   │    │      └ <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10e704e50>
                   │   │    └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
                   │   └ <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10e704e50>
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x10d746370>
  File "/Library/Python/3.8/site-packages/uvicorn/middleware/proxy_headers.py", line 59, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10e704e50>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10e704e50>>
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x10d799040>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x10d746370>
  File "/Library/Python/3.8/site-packages/fastapi/applications.py", line 199, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10e704e50>>
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10e704e50>>
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
  File "/Library/Python/3.8/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10e704e50>>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10e704e50>>
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x10e6eaa90>
          └ <fastapi.applications.FastAPI object at 0x10d799040>
  File "/Library/Python/3.8/site-packages/starlette/middleware/errors.py", line 181, in __call__
    raise exc from None
  File "/Library/Python/3.8/site-packages/starlette/middleware/errors.py", line 159, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x10e6e4f70>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10e704e50>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x10e6eaa30>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x10e6eaa90>
  File "/Library/Python/3.8/site-packages/starlette/middleware/base.py", line 25, in __call__
    response = await self.dispatch_func(request, self.call_next)
                     │    │             │        │    └ <function BaseHTTPMiddleware.call_next at 0x10dc55940>
                     │    │             │        └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x10e6eaa30>
                     │    │             └ <starlette.requests.Request object at 0x10e704ee0>
                     │    └ <function add_process_time_header at 0x10e6e4d30>
                     └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x10e6eaa30>

  File "./app/__init__.py", line 65, in add_process_time_header
    response = await call_next(request)
                     │         └ <starlette.requests.Request object at 0x10e704ee0>
                     └ <bound method BaseHTTPMiddleware.call_next of <starlette.middleware.base.BaseHTTPMiddleware object at 0x10e6eaa30>>

  File "/Library/Python/3.8/site-packages/starlette/middleware/base.py", line 45, in call_next
    task.result()
    │    └ <method 'result' of '_asyncio.Task' objects>
    └ <Task finished name='Task-6' coro=<BaseHTTPMiddleware.call_next.<locals>.coro() done, defined at /Library/Python/3.8/site-pac...
  File "/Library/Python/3.8/site-packages/starlette/middleware/base.py", line 38, in coro
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method Queue.put of <Queue at 0x10e704b80 maxsize=0 tasks=1>>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10e704e50>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x10e6eaa00>
          └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x10e6eaa30>
  File "/Library/Python/3.8/site-packages/starlette/middleware/cors.py", line 78, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method Queue.put of <Queue at 0x10e704b80 maxsize=0 tasks=1>>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10e704e50>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x10e6ea9a0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x10e6eaa00>
  File "/Library/Python/3.8/site-packages/starlette/exceptions.py", line 82, in __call__
    raise exc from None
  File "/Library/Python/3.8/site-packages/starlette/exceptions.py", line 71, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x10e7170d0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10e704e50>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x10e489cd0>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x10e6ea9a0>
  File "/Library/Python/3.8/site-packages/starlette/routing.py", line 580, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x10e7170d0>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10e704e50>>
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │     └ <function Route.handle at 0x10dc23af0>
          └ <fastapi.routing.APIRoute object at 0x10e6d9880>
  File "/Library/Python/3.8/site-packages/starlette/routing.py", line 241, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x10e7170d0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10e704e50>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <function request_response.<locals>.app at 0x10e6d5ca0>
          └ <fastapi.routing.APIRoute object at 0x10e6d9880>
  File "/Library/Python/3.8/site-packages/starlette/routing.py", line 52, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x10e704a00>
                     └ <function get_request_handler.<locals>.app at 0x10e6d5c10>
  File "/Library/Python/3.8/site-packages/fastapi/routing.py", line 214, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x10dc0eb80>
  File "/Library/Python/3.8/site-packages/fastapi/routing.py", line 149, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'request': <starlette.requests.Request object at 0x10e704a00>}
                 │         └ <function action at 0x10e5b6670>
                 └ <fastapi.dependencies.models.Dependant object at 0x10e6d9970>

  File "./app/routers/conversation.py", line 10, in action
    return await controller.index(request)
                 │          │     └ <starlette.requests.Request object at 0x10e704a00>
                 │          └ <staticmethod object at 0x10e54d7c0>
                 └ <class 'app.controllers.Conversation.Conversation'>

  File "./app/controllers/Conversation.py", line 195, in index
    login = Login(agent)
            │     └ <dialogflow_fulfillment.webhook_client.WebhookClient object at 0x10e71c040>
            └ <class 'app.libraries.Login.Login'>

  File "./app/libraries/Login.py", line 20, in __init__
    self.prosesLoging(agent)
    │    │            └ <dialogflow_fulfillment.webhook_client.WebhookClient object at 0x10e71c040>
    │    └ <function Login.prosesLoging at 0x10e5b6280>
    └ <app.libraries.Login.Login object at 0x10e71c0d0>

  File "./app/libraries/Login.py", line 51, in prosesLoging
    origintTelegram = agent.original_request['payload']['data']['from']
                      │     └ {'source': 'telegram', 'payload': {'data': {'update_id': '102371381', 'callback_query': {'data': 'pagecc', 'message': {'chat'...
                      └ <dialogflow_fulfillment.webhook_client.WebhookClient object at 0x10e71c040>

KeyError: 'from'
INFO     2021-07-27 22:32:51.068 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2021-07-27 22:32:51.069 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2021-07-27 22:32:51.069 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2021-07-27 22:32:51.173 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2021-07-27 22:32:51.174 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2021-07-27 22:32:51.174 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2021-07-27 22:32:51.176 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2021-07-27 22:32:51.176 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2021-07-27 22:32:51.176 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2021-07-27 22:32:51.177 request id: app - uvicorn.server:serve - Finished server process [9910]
INFO     2021-07-27 22:32:51.177 request id: app - uvicorn.server:serve - Finished server process [9910]
INFO     2021-07-27 22:32:51.178 request id: app - uvicorn.server:serve - Finished server process [9910]
INFO     2021-07-27 22:32:52.137 request id: app - uvicorn.server:serve - Started server process [9917]
INFO     2021-07-27 22:32:52.137 request id: app - uvicorn.server:serve - Started server process [9917]
INFO     2021-07-27 22:32:52.138 request id: app - uvicorn.server:serve - Started server process [9917]
INFO     2021-07-27 22:32:52.138 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2021-07-27 22:32:52.138 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2021-07-27 22:32:52.138 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2021-07-27 22:32:52.139 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2021-07-27 22:32:52.139 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2021-07-27 22:32:52.139 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2021-07-27 22:32:54.767 request id: app - uvicorn.protocols.http.h11_impl:send - 74.125.212.136:0 - "POST /webhook HTTP/1.1" 500
ERROR    2021-07-27 22:32:54.769 request id: app - uvicorn.protocols.http.h11_impl:run_asgi - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 5
               │     └ 8
               └ <function _main at 0x10b4a00d0>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 5
           │    └ <function BaseProcess._bootstrap at 0x10b273b80>
           └ <SpawnProcess name='SpawnProcess-25' parent=7596 started>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x10b2731f0>
    └ <SpawnProcess name='SpawnProcess-25' parent=7596 started>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x10b507100>, 'target': <bound method Server.run of <uvicorn.server.Server object...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-25' parent=7596 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-25' parent=7596 started>
    │    └ <function subprocess_started at 0x10bae0670>
    └ <SpawnProcess name='SpawnProcess-25' parent=7596 started>
  File "/Library/Python/3.8/site-packages/uvicorn/subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=4, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 5000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x10b5071f0>>
  File "/Library/Python/3.8/site-packages/uvicorn/server.py", line 50, in run
    loop.run_until_complete(self.serve(sockets=sockets))
    │    │                  │    │             └ [<socket.socket fd=4, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 5000)>]
    │    │                  │    └ <function Server.serve at 0x10badcc10>
    │    │                  └ <uvicorn.server.Server object at 0x10b5071f0>
    │    └ <function BaseEventLoop.run_until_complete at 0x10b799790>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/asyncio/base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x10b799700>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/asyncio/base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x10b79b280>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/asyncio/base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x10b6ce160>
    └ <Handle <TaskWakeupMethWrapper object at 0x10cbbebe0>(<Future finished result=None>)>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/asyncio/events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x10cbbebe0>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x10cbbebe0>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x10cbbebe0>(<Future finished result=None>)>
> File "/Library/Python/3.8/site-packages/uvicorn/protocols/http/h11_impl.py", line 369, in run_asgi
    result = await app(self.scope, self.receive, self.send)
                   │   │    │      │    │        │    └ <function RequestResponseCycle.send at 0x10bc48310>
                   │   │    │      │    │        └ <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cbbee50>
                   │   │    │      │    └ <function RequestResponseCycle.receive at 0x10bc483a0>
                   │   │    │      └ <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cbbee50>
                   │   │    └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
                   │   └ <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cbbee50>
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x10bbff370>
  File "/Library/Python/3.8/site-packages/uvicorn/middleware/proxy_headers.py", line 59, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cbbee50>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cbbee50>>
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x10bc4e040>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x10bbff370>
  File "/Library/Python/3.8/site-packages/fastapi/applications.py", line 199, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cbbee50>>
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cbbee50>>
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
  File "/Library/Python/3.8/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cbbee50>>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cbbee50>>
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x10cba1a90>
          └ <fastapi.applications.FastAPI object at 0x10bc4e040>
  File "/Library/Python/3.8/site-packages/starlette/middleware/errors.py", line 181, in __call__
    raise exc from None
  File "/Library/Python/3.8/site-packages/starlette/middleware/errors.py", line 159, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x10cb9df70>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cbbee50>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x10cba1a30>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x10cba1a90>
  File "/Library/Python/3.8/site-packages/starlette/middleware/base.py", line 25, in __call__
    response = await self.dispatch_func(request, self.call_next)
                     │    │             │        │    └ <function BaseHTTPMiddleware.call_next at 0x10c10e940>
                     │    │             │        └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x10cba1a30>
                     │    │             └ <starlette.requests.Request object at 0x10cbbeee0>
                     │    └ <function add_process_time_header at 0x10cb9dd30>
                     └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x10cba1a30>

  File "./app/__init__.py", line 65, in add_process_time_header
    response = await call_next(request)
                     │         └ <starlette.requests.Request object at 0x10cbbeee0>
                     └ <bound method BaseHTTPMiddleware.call_next of <starlette.middleware.base.BaseHTTPMiddleware object at 0x10cba1a30>>

  File "/Library/Python/3.8/site-packages/starlette/middleware/base.py", line 45, in call_next
    task.result()
    │    └ <method 'result' of '_asyncio.Task' objects>
    └ <Task finished name='Task-6' coro=<BaseHTTPMiddleware.call_next.<locals>.coro() done, defined at /Library/Python/3.8/site-pac...
  File "/Library/Python/3.8/site-packages/starlette/middleware/base.py", line 38, in coro
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method Queue.put of <Queue at 0x10cbbeb80 maxsize=0 tasks=1>>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cbbee50>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x10cba1a00>
          └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x10cba1a30>
  File "/Library/Python/3.8/site-packages/starlette/middleware/cors.py", line 78, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method Queue.put of <Queue at 0x10cbbeb80 maxsize=0 tasks=1>>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cbbee50>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x10cba19a0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x10cba1a00>
  File "/Library/Python/3.8/site-packages/starlette/exceptions.py", line 82, in __call__
    raise exc from None
  File "/Library/Python/3.8/site-packages/starlette/exceptions.py", line 71, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x10cbcf0d0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cbbee50>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x10c942cd0>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x10cba19a0>
  File "/Library/Python/3.8/site-packages/starlette/routing.py", line 580, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x10cbcf0d0>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cbbee50>>
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │     └ <function Route.handle at 0x10c0dcaf0>
          └ <fastapi.routing.APIRoute object at 0x10cb95880>
  File "/Library/Python/3.8/site-packages/starlette/routing.py", line 241, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x10cbcf0d0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cbbee50>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <function request_response.<locals>.app at 0x10cb8eca0>
          └ <fastapi.routing.APIRoute object at 0x10cb95880>
  File "/Library/Python/3.8/site-packages/starlette/routing.py", line 52, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x10cbbea00>
                     └ <function get_request_handler.<locals>.app at 0x10cb8ec10>
  File "/Library/Python/3.8/site-packages/fastapi/routing.py", line 214, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x10c0c7b80>
  File "/Library/Python/3.8/site-packages/fastapi/routing.py", line 149, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'request': <starlette.requests.Request object at 0x10cbbea00>}
                 │         └ <function action at 0x10ca2c670>
                 └ <fastapi.dependencies.models.Dependant object at 0x10cb95970>

  File "./app/routers/conversation.py", line 10, in action
    return await controller.index(request)
                 │          │     └ <starlette.requests.Request object at 0x10cbbea00>
                 │          └ <staticmethod object at 0x10ca057c0>
                 └ <class 'app.controllers.Conversation.Conversation'>

  File "./app/controllers/Conversation.py", line 195, in index
    login = Login(agent)
            │     └ <dialogflow_fulfillment.webhook_client.WebhookClient object at 0x10cbd5040>
            └ <class 'app.libraries.Login.Login'>

  File "./app/libraries/Login.py", line 20, in __init__
    self.prosesLoging(agent)
    │    │            └ <dialogflow_fulfillment.webhook_client.WebhookClient object at 0x10cbd5040>
    │    └ <function Login.prosesLoging at 0x10ca2c280>
    └ <app.libraries.Login.Login object at 0x10cbd50d0>

  File "./app/libraries/Login.py", line 50, in prosesLoging
    origintTelegram = agent.original_request['payload']['data']['from']
                      │     └ {'source': 'telegram', 'payload': {'data': {'update_id': '102371382', 'callback_query': {'message': {'entities': [{'type': 'b...
                      └ <dialogflow_fulfillment.webhook_client.WebhookClient object at 0x10cbd5040>

KeyError: 'from'
ERROR    2021-07-27 22:32:54.829 request id: app - uvicorn.protocols.http.h11_impl:run_asgi - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 5
               │     └ 8
               └ <function _main at 0x10b4a00d0>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 5
           │    └ <function BaseProcess._bootstrap at 0x10b273b80>
           └ <SpawnProcess name='SpawnProcess-25' parent=7596 started>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x10b2731f0>
    └ <SpawnProcess name='SpawnProcess-25' parent=7596 started>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x10b507100>, 'target': <bound method Server.run of <uvicorn.server.Server object...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-25' parent=7596 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-25' parent=7596 started>
    │    └ <function subprocess_started at 0x10bae0670>
    └ <SpawnProcess name='SpawnProcess-25' parent=7596 started>
  File "/Library/Python/3.8/site-packages/uvicorn/subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=4, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 5000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x10b5071f0>>
  File "/Library/Python/3.8/site-packages/uvicorn/server.py", line 50, in run
    loop.run_until_complete(self.serve(sockets=sockets))
    │    │                  │    │             └ [<socket.socket fd=4, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 5000)>]
    │    │                  │    └ <function Server.serve at 0x10badcc10>
    │    │                  └ <uvicorn.server.Server object at 0x10b5071f0>
    │    └ <function BaseEventLoop.run_until_complete at 0x10b799790>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/asyncio/base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x10b799700>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/asyncio/base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x10b79b280>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/asyncio/base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x10b6ce160>
    └ <Handle <TaskWakeupMethWrapper object at 0x10cbbebe0>(<Future finished result=None>)>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/asyncio/events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x10cbbebe0>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x10cbbebe0>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x10cbbebe0>(<Future finished result=None>)>
> File "/Library/Python/3.8/site-packages/uvicorn/protocols/http/h11_impl.py", line 369, in run_asgi
    result = await app(self.scope, self.receive, self.send)
                   │   │    │      │    │        │    └ <function RequestResponseCycle.send at 0x10bc48310>
                   │   │    │      │    │        └ <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cbbee50>
                   │   │    │      │    └ <function RequestResponseCycle.receive at 0x10bc483a0>
                   │   │    │      └ <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cbbee50>
                   │   │    └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
                   │   └ <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cbbee50>
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x10bbff370>
  File "/Library/Python/3.8/site-packages/uvicorn/middleware/proxy_headers.py", line 59, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cbbee50>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cbbee50>>
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x10bc4e040>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x10bbff370>
  File "/Library/Python/3.8/site-packages/fastapi/applications.py", line 199, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cbbee50>>
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cbbee50>>
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
  File "/Library/Python/3.8/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cbbee50>>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cbbee50>>
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x10cba1a90>
          └ <fastapi.applications.FastAPI object at 0x10bc4e040>
  File "/Library/Python/3.8/site-packages/starlette/middleware/errors.py", line 181, in __call__
    raise exc from None
  File "/Library/Python/3.8/site-packages/starlette/middleware/errors.py", line 159, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x10cb9df70>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cbbee50>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x10cba1a30>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x10cba1a90>
  File "/Library/Python/3.8/site-packages/starlette/middleware/base.py", line 25, in __call__
    response = await self.dispatch_func(request, self.call_next)
                     │    │             │        │    └ <function BaseHTTPMiddleware.call_next at 0x10c10e940>
                     │    │             │        └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x10cba1a30>
                     │    │             └ <starlette.requests.Request object at 0x10cbbeee0>
                     │    └ <function add_process_time_header at 0x10cb9dd30>
                     └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x10cba1a30>

  File "./app/__init__.py", line 65, in add_process_time_header
    response = await call_next(request)
                     │         └ <starlette.requests.Request object at 0x10cbbeee0>
                     └ <bound method BaseHTTPMiddleware.call_next of <starlette.middleware.base.BaseHTTPMiddleware object at 0x10cba1a30>>

  File "/Library/Python/3.8/site-packages/starlette/middleware/base.py", line 45, in call_next
    task.result()
    │    └ <method 'result' of '_asyncio.Task' objects>
    └ <Task finished name='Task-6' coro=<BaseHTTPMiddleware.call_next.<locals>.coro() done, defined at /Library/Python/3.8/site-pac...
  File "/Library/Python/3.8/site-packages/starlette/middleware/base.py", line 38, in coro
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method Queue.put of <Queue at 0x10cbbeb80 maxsize=0 tasks=1>>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cbbee50>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x10cba1a00>
          └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x10cba1a30>
  File "/Library/Python/3.8/site-packages/starlette/middleware/cors.py", line 78, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method Queue.put of <Queue at 0x10cbbeb80 maxsize=0 tasks=1>>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cbbee50>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x10cba19a0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x10cba1a00>
  File "/Library/Python/3.8/site-packages/starlette/exceptions.py", line 82, in __call__
    raise exc from None
  File "/Library/Python/3.8/site-packages/starlette/exceptions.py", line 71, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x10cbcf0d0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cbbee50>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x10c942cd0>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x10cba19a0>
  File "/Library/Python/3.8/site-packages/starlette/routing.py", line 580, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x10cbcf0d0>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cbbee50>>
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │     └ <function Route.handle at 0x10c0dcaf0>
          └ <fastapi.routing.APIRoute object at 0x10cb95880>
  File "/Library/Python/3.8/site-packages/starlette/routing.py", line 241, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x10cbcf0d0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cbbee50>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <function request_response.<locals>.app at 0x10cb8eca0>
          └ <fastapi.routing.APIRoute object at 0x10cb95880>
  File "/Library/Python/3.8/site-packages/starlette/routing.py", line 52, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x10cbbea00>
                     └ <function get_request_handler.<locals>.app at 0x10cb8ec10>
  File "/Library/Python/3.8/site-packages/fastapi/routing.py", line 214, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x10c0c7b80>
  File "/Library/Python/3.8/site-packages/fastapi/routing.py", line 149, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'request': <starlette.requests.Request object at 0x10cbbea00>}
                 │         └ <function action at 0x10ca2c670>
                 └ <fastapi.dependencies.models.Dependant object at 0x10cb95970>

  File "./app/routers/conversation.py", line 10, in action
    return await controller.index(request)
                 │          │     └ <starlette.requests.Request object at 0x10cbbea00>
                 │          └ <staticmethod object at 0x10ca057c0>
                 └ <class 'app.controllers.Conversation.Conversation'>

  File "./app/controllers/Conversation.py", line 195, in index
    login = Login(agent)
            │     └ <dialogflow_fulfillment.webhook_client.WebhookClient object at 0x10cbd5040>
            └ <class 'app.libraries.Login.Login'>

  File "./app/libraries/Login.py", line 20, in __init__
    self.prosesLoging(agent)
    │    │            └ <dialogflow_fulfillment.webhook_client.WebhookClient object at 0x10cbd5040>
    │    └ <function Login.prosesLoging at 0x10ca2c280>
    └ <app.libraries.Login.Login object at 0x10cbd50d0>

  File "./app/libraries/Login.py", line 50, in prosesLoging
    origintTelegram = agent.original_request['payload']['data']['from']
                      │     └ {'source': 'telegram', 'payload': {'data': {'update_id': '102371382', 'callback_query': {'message': {'entities': [{'type': 'b...
                      └ <dialogflow_fulfillment.webhook_client.WebhookClient object at 0x10cbd5040>

KeyError: 'from'
ERROR    2021-07-27 22:32:54.846 request id: app - uvicorn.protocols.http.h11_impl:run_asgi - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 5
               │     └ 8
               └ <function _main at 0x10b4a00d0>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 5
           │    └ <function BaseProcess._bootstrap at 0x10b273b80>
           └ <SpawnProcess name='SpawnProcess-25' parent=7596 started>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x10b2731f0>
    └ <SpawnProcess name='SpawnProcess-25' parent=7596 started>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x10b507100>, 'target': <bound method Server.run of <uvicorn.server.Server object...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-25' parent=7596 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-25' parent=7596 started>
    │    └ <function subprocess_started at 0x10bae0670>
    └ <SpawnProcess name='SpawnProcess-25' parent=7596 started>
  File "/Library/Python/3.8/site-packages/uvicorn/subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=4, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 5000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x10b5071f0>>
  File "/Library/Python/3.8/site-packages/uvicorn/server.py", line 50, in run
    loop.run_until_complete(self.serve(sockets=sockets))
    │    │                  │    │             └ [<socket.socket fd=4, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 5000)>]
    │    │                  │    └ <function Server.serve at 0x10badcc10>
    │    │                  └ <uvicorn.server.Server object at 0x10b5071f0>
    │    └ <function BaseEventLoop.run_until_complete at 0x10b799790>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/asyncio/base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x10b799700>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/asyncio/base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x10b79b280>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/asyncio/base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x10b6ce160>
    └ <Handle <TaskWakeupMethWrapper object at 0x10cbbebe0>(<Future finished result=None>)>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/asyncio/events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x10cbbebe0>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x10cbbebe0>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x10cbbebe0>(<Future finished result=None>)>
> File "/Library/Python/3.8/site-packages/uvicorn/protocols/http/h11_impl.py", line 369, in run_asgi
    result = await app(self.scope, self.receive, self.send)
                   │   │    │      │    │        │    └ <function RequestResponseCycle.send at 0x10bc48310>
                   │   │    │      │    │        └ <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cbbee50>
                   │   │    │      │    └ <function RequestResponseCycle.receive at 0x10bc483a0>
                   │   │    │      └ <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cbbee50>
                   │   │    └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
                   │   └ <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cbbee50>
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x10bbff370>
  File "/Library/Python/3.8/site-packages/uvicorn/middleware/proxy_headers.py", line 59, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cbbee50>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cbbee50>>
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x10bc4e040>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x10bbff370>
  File "/Library/Python/3.8/site-packages/fastapi/applications.py", line 199, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cbbee50>>
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cbbee50>>
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
  File "/Library/Python/3.8/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cbbee50>>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cbbee50>>
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x10cba1a90>
          └ <fastapi.applications.FastAPI object at 0x10bc4e040>
  File "/Library/Python/3.8/site-packages/starlette/middleware/errors.py", line 181, in __call__
    raise exc from None
  File "/Library/Python/3.8/site-packages/starlette/middleware/errors.py", line 159, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x10cb9df70>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cbbee50>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x10cba1a30>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x10cba1a90>
  File "/Library/Python/3.8/site-packages/starlette/middleware/base.py", line 25, in __call__
    response = await self.dispatch_func(request, self.call_next)
                     │    │             │        │    └ <function BaseHTTPMiddleware.call_next at 0x10c10e940>
                     │    │             │        └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x10cba1a30>
                     │    │             └ <starlette.requests.Request object at 0x10cbbeee0>
                     │    └ <function add_process_time_header at 0x10cb9dd30>
                     └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x10cba1a30>

  File "./app/__init__.py", line 65, in add_process_time_header
    response = await call_next(request)
                     │         └ <starlette.requests.Request object at 0x10cbbeee0>
                     └ <bound method BaseHTTPMiddleware.call_next of <starlette.middleware.base.BaseHTTPMiddleware object at 0x10cba1a30>>

  File "/Library/Python/3.8/site-packages/starlette/middleware/base.py", line 45, in call_next
    task.result()
    │    └ <method 'result' of '_asyncio.Task' objects>
    └ <Task finished name='Task-6' coro=<BaseHTTPMiddleware.call_next.<locals>.coro() done, defined at /Library/Python/3.8/site-pac...
  File "/Library/Python/3.8/site-packages/starlette/middleware/base.py", line 38, in coro
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method Queue.put of <Queue at 0x10cbbeb80 maxsize=0 tasks=1>>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cbbee50>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x10cba1a00>
          └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x10cba1a30>
  File "/Library/Python/3.8/site-packages/starlette/middleware/cors.py", line 78, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method Queue.put of <Queue at 0x10cbbeb80 maxsize=0 tasks=1>>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cbbee50>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x10cba19a0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x10cba1a00>
  File "/Library/Python/3.8/site-packages/starlette/exceptions.py", line 82, in __call__
    raise exc from None
  File "/Library/Python/3.8/site-packages/starlette/exceptions.py", line 71, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x10cbcf0d0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cbbee50>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x10c942cd0>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x10cba19a0>
  File "/Library/Python/3.8/site-packages/starlette/routing.py", line 580, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x10cbcf0d0>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cbbee50>>
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │     └ <function Route.handle at 0x10c0dcaf0>
          └ <fastapi.routing.APIRoute object at 0x10cb95880>
  File "/Library/Python/3.8/site-packages/starlette/routing.py", line 241, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x10cbcf0d0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cbbee50>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <function request_response.<locals>.app at 0x10cb8eca0>
          └ <fastapi.routing.APIRoute object at 0x10cb95880>
  File "/Library/Python/3.8/site-packages/starlette/routing.py", line 52, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x10cbbea00>
                     └ <function get_request_handler.<locals>.app at 0x10cb8ec10>
  File "/Library/Python/3.8/site-packages/fastapi/routing.py", line 214, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x10c0c7b80>
  File "/Library/Python/3.8/site-packages/fastapi/routing.py", line 149, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'request': <starlette.requests.Request object at 0x10cbbea00>}
                 │         └ <function action at 0x10ca2c670>
                 └ <fastapi.dependencies.models.Dependant object at 0x10cb95970>

  File "./app/routers/conversation.py", line 10, in action
    return await controller.index(request)
                 │          │     └ <starlette.requests.Request object at 0x10cbbea00>
                 │          └ <staticmethod object at 0x10ca057c0>
                 └ <class 'app.controllers.Conversation.Conversation'>

  File "./app/controllers/Conversation.py", line 195, in index
    login = Login(agent)
            │     └ <dialogflow_fulfillment.webhook_client.WebhookClient object at 0x10cbd5040>
            └ <class 'app.libraries.Login.Login'>

  File "./app/libraries/Login.py", line 20, in __init__
    self.prosesLoging(agent)
    │    │            └ <dialogflow_fulfillment.webhook_client.WebhookClient object at 0x10cbd5040>
    │    └ <function Login.prosesLoging at 0x10ca2c280>
    └ <app.libraries.Login.Login object at 0x10cbd50d0>

  File "./app/libraries/Login.py", line 50, in prosesLoging
    origintTelegram = agent.original_request['payload']['data']['from']
                      │     └ {'source': 'telegram', 'payload': {'data': {'update_id': '102371382', 'callback_query': {'message': {'entities': [{'type': 'b...
                      └ <dialogflow_fulfillment.webhook_client.WebhookClient object at 0x10cbd5040>

KeyError: 'from'
INFO     2021-07-27 22:32:59.763 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2021-07-27 22:32:59.764 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2021-07-27 22:32:59.764 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2021-07-27 22:32:59.868 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2021-07-27 22:32:59.868 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2021-07-27 22:32:59.869 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2021-07-27 22:32:59.870 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2021-07-27 22:32:59.870 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2021-07-27 22:32:59.870 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2021-07-27 22:32:59.870 request id: app - uvicorn.server:serve - Finished server process [9917]
INFO     2021-07-27 22:32:59.870 request id: app - uvicorn.server:serve - Finished server process [9917]
INFO     2021-07-27 22:32:59.871 request id: app - uvicorn.server:serve - Finished server process [9917]
INFO     2021-07-27 22:33:00.648 request id: app - uvicorn.server:serve - Started server process [9921]
INFO     2021-07-27 22:33:00.648 request id: app - uvicorn.server:serve - Started server process [9921]
INFO     2021-07-27 22:33:00.648 request id: app - uvicorn.server:serve - Started server process [9921]
INFO     2021-07-27 22:33:00.649 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2021-07-27 22:33:00.649 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2021-07-27 22:33:00.649 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2021-07-27 22:33:00.649 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2021-07-27 22:33:00.650 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2021-07-27 22:33:00.650 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2021-07-27 22:33:09.348 request id: app - uvicorn.protocols.http.h11_impl:send - 74.125.212.133:0 - "POST /webhook HTTP/1.1" 500
ERROR    2021-07-27 22:33:09.352 request id: app - uvicorn.protocols.http.h11_impl:run_asgi - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 5
               │     └ 8
               └ <function _main at 0x10b8750d0>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 5
           │    └ <function BaseProcess._bootstrap at 0x10b648b80>
           └ <SpawnProcess name='SpawnProcess-26' parent=7596 started>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x10b6481f0>
    └ <SpawnProcess name='SpawnProcess-26' parent=7596 started>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x10b8dc100>, 'target': <bound method Server.run of <uvicorn.server.Server object...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-26' parent=7596 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-26' parent=7596 started>
    │    └ <function subprocess_started at 0x10beb4670>
    └ <SpawnProcess name='SpawnProcess-26' parent=7596 started>
  File "/Library/Python/3.8/site-packages/uvicorn/subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=4, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 5000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x10b8dc1f0>>
  File "/Library/Python/3.8/site-packages/uvicorn/server.py", line 50, in run
    loop.run_until_complete(self.serve(sockets=sockets))
    │    │                  │    │             └ [<socket.socket fd=4, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 5000)>]
    │    │                  │    └ <function Server.serve at 0x10beb1c10>
    │    │                  └ <uvicorn.server.Server object at 0x10b8dc1f0>
    │    └ <function BaseEventLoop.run_until_complete at 0x10bb6e790>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/asyncio/base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x10bb6e700>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/asyncio/base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x10bb70280>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/asyncio/base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x10baa3160>
    └ <Handle <TaskWakeupMethWrapper object at 0x10cf98be0>(<Future finished result=None>)>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/asyncio/events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x10cf98be0>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x10cf98be0>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x10cf98be0>(<Future finished result=None>)>
> File "/Library/Python/3.8/site-packages/uvicorn/protocols/http/h11_impl.py", line 369, in run_asgi
    result = await app(self.scope, self.receive, self.send)
                   │   │    │      │    │        │    └ <function RequestResponseCycle.send at 0x10c013310>
                   │   │    │      │    │        └ <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cf98e50>
                   │   │    │      │    └ <function RequestResponseCycle.receive at 0x10c0133a0>
                   │   │    │      └ <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cf98e50>
                   │   │    └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
                   │   └ <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cf98e50>
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x10bfd4370>
  File "/Library/Python/3.8/site-packages/uvicorn/middleware/proxy_headers.py", line 59, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cf98e50>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cf98e50>>
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x10c007040>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x10bfd4370>
  File "/Library/Python/3.8/site-packages/fastapi/applications.py", line 199, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cf98e50>>
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cf98e50>>
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
  File "/Library/Python/3.8/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cf98e50>>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cf98e50>>
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x10cf82a90>
          └ <fastapi.applications.FastAPI object at 0x10c007040>
  File "/Library/Python/3.8/site-packages/starlette/middleware/errors.py", line 181, in __call__
    raise exc from None
  File "/Library/Python/3.8/site-packages/starlette/middleware/errors.py", line 159, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x10cf7ef70>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cf98e50>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x10cf82a30>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x10cf82a90>
  File "/Library/Python/3.8/site-packages/starlette/middleware/base.py", line 25, in __call__
    response = await self.dispatch_func(request, self.call_next)
                     │    │             │        │    └ <function BaseHTTPMiddleware.call_next at 0x10c4e3940>
                     │    │             │        └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x10cf82a30>
                     │    │             └ <starlette.requests.Request object at 0x10cf98ee0>
                     │    └ <function add_process_time_header at 0x10cf7ed30>
                     └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x10cf82a30>

  File "./app/__init__.py", line 65, in add_process_time_header
    response = await call_next(request)
                     │         └ <starlette.requests.Request object at 0x10cf98ee0>
                     └ <bound method BaseHTTPMiddleware.call_next of <starlette.middleware.base.BaseHTTPMiddleware object at 0x10cf82a30>>

  File "/Library/Python/3.8/site-packages/starlette/middleware/base.py", line 45, in call_next
    task.result()
    │    └ <method 'result' of '_asyncio.Task' objects>
    └ <Task finished name='Task-6' coro=<BaseHTTPMiddleware.call_next.<locals>.coro() done, defined at /Library/Python/3.8/site-pac...
  File "/Library/Python/3.8/site-packages/starlette/middleware/base.py", line 38, in coro
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method Queue.put of <Queue at 0x10cf98b80 maxsize=0 tasks=1>>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cf98e50>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x10cf82a00>
          └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x10cf82a30>
  File "/Library/Python/3.8/site-packages/starlette/middleware/cors.py", line 78, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method Queue.put of <Queue at 0x10cf98b80 maxsize=0 tasks=1>>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cf98e50>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x10cf829a0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x10cf82a00>
  File "/Library/Python/3.8/site-packages/starlette/exceptions.py", line 82, in __call__
    raise exc from None
  File "/Library/Python/3.8/site-packages/starlette/exceptions.py", line 71, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x10cfb10d0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cf98e50>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x10cd17cd0>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x10cf829a0>
  File "/Library/Python/3.8/site-packages/starlette/routing.py", line 580, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x10cfb10d0>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cf98e50>>
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │     └ <function Route.handle at 0x10c4b1af0>
          └ <fastapi.routing.APIRoute object at 0x10cf76880>
  File "/Library/Python/3.8/site-packages/starlette/routing.py", line 241, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x10cfb10d0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cf98e50>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <function request_response.<locals>.app at 0x10cf6fca0>
          └ <fastapi.routing.APIRoute object at 0x10cf76880>
  File "/Library/Python/3.8/site-packages/starlette/routing.py", line 52, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x10cf98a00>
                     └ <function get_request_handler.<locals>.app at 0x10cf6fc10>
  File "/Library/Python/3.8/site-packages/fastapi/routing.py", line 214, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x10c49cb80>
  File "/Library/Python/3.8/site-packages/fastapi/routing.py", line 149, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'request': <starlette.requests.Request object at 0x10cf98a00>}
                 │         └ <function action at 0x10ce3f670>
                 └ <fastapi.dependencies.models.Dependant object at 0x10cf76970>

  File "./app/routers/conversation.py", line 10, in action
    return await controller.index(request)
                 │          │     └ <starlette.requests.Request object at 0x10cf98a00>
                 │          └ <staticmethod object at 0x10cdda7c0>
                 └ <class 'app.controllers.Conversation.Conversation'>

  File "./app/controllers/Conversation.py", line 195, in index
    login = Login(agent)
            │     └ <dialogflow_fulfillment.webhook_client.WebhookClient object at 0x10cfb6040>
            └ <class 'app.libraries.Login.Login'>

  File "./app/libraries/Login.py", line 20, in __init__
    self.prosesLoging(agent)
    │    │            └ <dialogflow_fulfillment.webhook_client.WebhookClient object at 0x10cfb6040>
    │    └ <function Login.prosesLoging at 0x10ce3f280>
    └ <app.libraries.Login.Login object at 0x10cfb60d0>

  File "./app/libraries/Login.py", line 51, in prosesLoging
    origintTelegram = agent.original_request['payload']['data']['from']
                      │     └ {'source': 'telegram', 'payload': {'data': {'callback_query': {'data': 'pagecc', 'message': {'text': 'Silahkan Pilih Salah Sa...
                      └ <dialogflow_fulfillment.webhook_client.WebhookClient object at 0x10cfb6040>

KeyError: 'from'
ERROR    2021-07-27 22:33:09.414 request id: app - uvicorn.protocols.http.h11_impl:run_asgi - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 5
               │     └ 8
               └ <function _main at 0x10b8750d0>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 5
           │    └ <function BaseProcess._bootstrap at 0x10b648b80>
           └ <SpawnProcess name='SpawnProcess-26' parent=7596 started>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x10b6481f0>
    └ <SpawnProcess name='SpawnProcess-26' parent=7596 started>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x10b8dc100>, 'target': <bound method Server.run of <uvicorn.server.Server object...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-26' parent=7596 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-26' parent=7596 started>
    │    └ <function subprocess_started at 0x10beb4670>
    └ <SpawnProcess name='SpawnProcess-26' parent=7596 started>
  File "/Library/Python/3.8/site-packages/uvicorn/subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=4, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 5000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x10b8dc1f0>>
  File "/Library/Python/3.8/site-packages/uvicorn/server.py", line 50, in run
    loop.run_until_complete(self.serve(sockets=sockets))
    │    │                  │    │             └ [<socket.socket fd=4, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 5000)>]
    │    │                  │    └ <function Server.serve at 0x10beb1c10>
    │    │                  └ <uvicorn.server.Server object at 0x10b8dc1f0>
    │    └ <function BaseEventLoop.run_until_complete at 0x10bb6e790>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/asyncio/base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x10bb6e700>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/asyncio/base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x10bb70280>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/asyncio/base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x10baa3160>
    └ <Handle <TaskWakeupMethWrapper object at 0x10cf98be0>(<Future finished result=None>)>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/asyncio/events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x10cf98be0>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x10cf98be0>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x10cf98be0>(<Future finished result=None>)>
> File "/Library/Python/3.8/site-packages/uvicorn/protocols/http/h11_impl.py", line 369, in run_asgi
    result = await app(self.scope, self.receive, self.send)
                   │   │    │      │    │        │    └ <function RequestResponseCycle.send at 0x10c013310>
                   │   │    │      │    │        └ <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cf98e50>
                   │   │    │      │    └ <function RequestResponseCycle.receive at 0x10c0133a0>
                   │   │    │      └ <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cf98e50>
                   │   │    └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
                   │   └ <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cf98e50>
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x10bfd4370>
  File "/Library/Python/3.8/site-packages/uvicorn/middleware/proxy_headers.py", line 59, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cf98e50>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cf98e50>>
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x10c007040>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x10bfd4370>
  File "/Library/Python/3.8/site-packages/fastapi/applications.py", line 199, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cf98e50>>
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cf98e50>>
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
  File "/Library/Python/3.8/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cf98e50>>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cf98e50>>
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x10cf82a90>
          └ <fastapi.applications.FastAPI object at 0x10c007040>
  File "/Library/Python/3.8/site-packages/starlette/middleware/errors.py", line 181, in __call__
    raise exc from None
  File "/Library/Python/3.8/site-packages/starlette/middleware/errors.py", line 159, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x10cf7ef70>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cf98e50>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x10cf82a30>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x10cf82a90>
  File "/Library/Python/3.8/site-packages/starlette/middleware/base.py", line 25, in __call__
    response = await self.dispatch_func(request, self.call_next)
                     │    │             │        │    └ <function BaseHTTPMiddleware.call_next at 0x10c4e3940>
                     │    │             │        └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x10cf82a30>
                     │    │             └ <starlette.requests.Request object at 0x10cf98ee0>
                     │    └ <function add_process_time_header at 0x10cf7ed30>
                     └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x10cf82a30>

  File "./app/__init__.py", line 65, in add_process_time_header
    response = await call_next(request)
                     │         └ <starlette.requests.Request object at 0x10cf98ee0>
                     └ <bound method BaseHTTPMiddleware.call_next of <starlette.middleware.base.BaseHTTPMiddleware object at 0x10cf82a30>>

  File "/Library/Python/3.8/site-packages/starlette/middleware/base.py", line 45, in call_next
    task.result()
    │    └ <method 'result' of '_asyncio.Task' objects>
    └ <Task finished name='Task-6' coro=<BaseHTTPMiddleware.call_next.<locals>.coro() done, defined at /Library/Python/3.8/site-pac...
  File "/Library/Python/3.8/site-packages/starlette/middleware/base.py", line 38, in coro
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method Queue.put of <Queue at 0x10cf98b80 maxsize=0 tasks=1>>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cf98e50>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x10cf82a00>
          └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x10cf82a30>
  File "/Library/Python/3.8/site-packages/starlette/middleware/cors.py", line 78, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method Queue.put of <Queue at 0x10cf98b80 maxsize=0 tasks=1>>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cf98e50>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x10cf829a0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x10cf82a00>
  File "/Library/Python/3.8/site-packages/starlette/exceptions.py", line 82, in __call__
    raise exc from None
  File "/Library/Python/3.8/site-packages/starlette/exceptions.py", line 71, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x10cfb10d0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cf98e50>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x10cd17cd0>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x10cf829a0>
  File "/Library/Python/3.8/site-packages/starlette/routing.py", line 580, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x10cfb10d0>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cf98e50>>
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │     └ <function Route.handle at 0x10c4b1af0>
          └ <fastapi.routing.APIRoute object at 0x10cf76880>
  File "/Library/Python/3.8/site-packages/starlette/routing.py", line 241, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x10cfb10d0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cf98e50>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <function request_response.<locals>.app at 0x10cf6fca0>
          └ <fastapi.routing.APIRoute object at 0x10cf76880>
  File "/Library/Python/3.8/site-packages/starlette/routing.py", line 52, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x10cf98a00>
                     └ <function get_request_handler.<locals>.app at 0x10cf6fc10>
  File "/Library/Python/3.8/site-packages/fastapi/routing.py", line 214, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x10c49cb80>
  File "/Library/Python/3.8/site-packages/fastapi/routing.py", line 149, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'request': <starlette.requests.Request object at 0x10cf98a00>}
                 │         └ <function action at 0x10ce3f670>
                 └ <fastapi.dependencies.models.Dependant object at 0x10cf76970>

  File "./app/routers/conversation.py", line 10, in action
    return await controller.index(request)
                 │          │     └ <starlette.requests.Request object at 0x10cf98a00>
                 │          └ <staticmethod object at 0x10cdda7c0>
                 └ <class 'app.controllers.Conversation.Conversation'>

  File "./app/controllers/Conversation.py", line 195, in index
    login = Login(agent)
            │     └ <dialogflow_fulfillment.webhook_client.WebhookClient object at 0x10cfb6040>
            └ <class 'app.libraries.Login.Login'>

  File "./app/libraries/Login.py", line 20, in __init__
    self.prosesLoging(agent)
    │    │            └ <dialogflow_fulfillment.webhook_client.WebhookClient object at 0x10cfb6040>
    │    └ <function Login.prosesLoging at 0x10ce3f280>
    └ <app.libraries.Login.Login object at 0x10cfb60d0>

  File "./app/libraries/Login.py", line 51, in prosesLoging
    origintTelegram = agent.original_request['payload']['data']['from']
                      │     └ {'source': 'telegram', 'payload': {'data': {'callback_query': {'data': 'pagecc', 'message': {'text': 'Silahkan Pilih Salah Sa...
                      └ <dialogflow_fulfillment.webhook_client.WebhookClient object at 0x10cfb6040>

KeyError: 'from'
ERROR    2021-07-27 22:33:09.430 request id: app - uvicorn.protocols.http.h11_impl:run_asgi - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 5
               │     └ 8
               └ <function _main at 0x10b8750d0>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 5
           │    └ <function BaseProcess._bootstrap at 0x10b648b80>
           └ <SpawnProcess name='SpawnProcess-26' parent=7596 started>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x10b6481f0>
    └ <SpawnProcess name='SpawnProcess-26' parent=7596 started>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x10b8dc100>, 'target': <bound method Server.run of <uvicorn.server.Server object...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-26' parent=7596 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-26' parent=7596 started>
    │    └ <function subprocess_started at 0x10beb4670>
    └ <SpawnProcess name='SpawnProcess-26' parent=7596 started>
  File "/Library/Python/3.8/site-packages/uvicorn/subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=4, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 5000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x10b8dc1f0>>
  File "/Library/Python/3.8/site-packages/uvicorn/server.py", line 50, in run
    loop.run_until_complete(self.serve(sockets=sockets))
    │    │                  │    │             └ [<socket.socket fd=4, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 5000)>]
    │    │                  │    └ <function Server.serve at 0x10beb1c10>
    │    │                  └ <uvicorn.server.Server object at 0x10b8dc1f0>
    │    └ <function BaseEventLoop.run_until_complete at 0x10bb6e790>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/asyncio/base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x10bb6e700>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/asyncio/base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x10bb70280>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/asyncio/base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x10baa3160>
    └ <Handle <TaskWakeupMethWrapper object at 0x10cf98be0>(<Future finished result=None>)>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/asyncio/events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x10cf98be0>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x10cf98be0>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x10cf98be0>(<Future finished result=None>)>
> File "/Library/Python/3.8/site-packages/uvicorn/protocols/http/h11_impl.py", line 369, in run_asgi
    result = await app(self.scope, self.receive, self.send)
                   │   │    │      │    │        │    └ <function RequestResponseCycle.send at 0x10c013310>
                   │   │    │      │    │        └ <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cf98e50>
                   │   │    │      │    └ <function RequestResponseCycle.receive at 0x10c0133a0>
                   │   │    │      └ <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cf98e50>
                   │   │    └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
                   │   └ <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cf98e50>
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x10bfd4370>
  File "/Library/Python/3.8/site-packages/uvicorn/middleware/proxy_headers.py", line 59, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cf98e50>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cf98e50>>
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x10c007040>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x10bfd4370>
  File "/Library/Python/3.8/site-packages/fastapi/applications.py", line 199, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cf98e50>>
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cf98e50>>
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
  File "/Library/Python/3.8/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cf98e50>>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cf98e50>>
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x10cf82a90>
          └ <fastapi.applications.FastAPI object at 0x10c007040>
  File "/Library/Python/3.8/site-packages/starlette/middleware/errors.py", line 181, in __call__
    raise exc from None
  File "/Library/Python/3.8/site-packages/starlette/middleware/errors.py", line 159, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x10cf7ef70>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cf98e50>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x10cf82a30>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x10cf82a90>
  File "/Library/Python/3.8/site-packages/starlette/middleware/base.py", line 25, in __call__
    response = await self.dispatch_func(request, self.call_next)
                     │    │             │        │    └ <function BaseHTTPMiddleware.call_next at 0x10c4e3940>
                     │    │             │        └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x10cf82a30>
                     │    │             └ <starlette.requests.Request object at 0x10cf98ee0>
                     │    └ <function add_process_time_header at 0x10cf7ed30>
                     └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x10cf82a30>

  File "./app/__init__.py", line 65, in add_process_time_header
    response = await call_next(request)
                     │         └ <starlette.requests.Request object at 0x10cf98ee0>
                     └ <bound method BaseHTTPMiddleware.call_next of <starlette.middleware.base.BaseHTTPMiddleware object at 0x10cf82a30>>

  File "/Library/Python/3.8/site-packages/starlette/middleware/base.py", line 45, in call_next
    task.result()
    │    └ <method 'result' of '_asyncio.Task' objects>
    └ <Task finished name='Task-6' coro=<BaseHTTPMiddleware.call_next.<locals>.coro() done, defined at /Library/Python/3.8/site-pac...
  File "/Library/Python/3.8/site-packages/starlette/middleware/base.py", line 38, in coro
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method Queue.put of <Queue at 0x10cf98b80 maxsize=0 tasks=1>>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cf98e50>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x10cf82a00>
          └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x10cf82a30>
  File "/Library/Python/3.8/site-packages/starlette/middleware/cors.py", line 78, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method Queue.put of <Queue at 0x10cf98b80 maxsize=0 tasks=1>>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cf98e50>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x10cf829a0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x10cf82a00>
  File "/Library/Python/3.8/site-packages/starlette/exceptions.py", line 82, in __call__
    raise exc from None
  File "/Library/Python/3.8/site-packages/starlette/exceptions.py", line 71, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x10cfb10d0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cf98e50>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x10cd17cd0>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x10cf829a0>
  File "/Library/Python/3.8/site-packages/starlette/routing.py", line 580, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x10cfb10d0>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cf98e50>>
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │     └ <function Route.handle at 0x10c4b1af0>
          └ <fastapi.routing.APIRoute object at 0x10cf76880>
  File "/Library/Python/3.8/site-packages/starlette/routing.py", line 241, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x10cfb10d0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cf98e50>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <function request_response.<locals>.app at 0x10cf6fca0>
          └ <fastapi.routing.APIRoute object at 0x10cf76880>
  File "/Library/Python/3.8/site-packages/starlette/routing.py", line 52, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x10cf98a00>
                     └ <function get_request_handler.<locals>.app at 0x10cf6fc10>
  File "/Library/Python/3.8/site-packages/fastapi/routing.py", line 214, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x10c49cb80>
  File "/Library/Python/3.8/site-packages/fastapi/routing.py", line 149, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'request': <starlette.requests.Request object at 0x10cf98a00>}
                 │         └ <function action at 0x10ce3f670>
                 └ <fastapi.dependencies.models.Dependant object at 0x10cf76970>

  File "./app/routers/conversation.py", line 10, in action
    return await controller.index(request)
                 │          │     └ <starlette.requests.Request object at 0x10cf98a00>
                 │          └ <staticmethod object at 0x10cdda7c0>
                 └ <class 'app.controllers.Conversation.Conversation'>

  File "./app/controllers/Conversation.py", line 195, in index
    login = Login(agent)
            │     └ <dialogflow_fulfillment.webhook_client.WebhookClient object at 0x10cfb6040>
            └ <class 'app.libraries.Login.Login'>

  File "./app/libraries/Login.py", line 20, in __init__
    self.prosesLoging(agent)
    │    │            └ <dialogflow_fulfillment.webhook_client.WebhookClient object at 0x10cfb6040>
    │    └ <function Login.prosesLoging at 0x10ce3f280>
    └ <app.libraries.Login.Login object at 0x10cfb60d0>

  File "./app/libraries/Login.py", line 51, in prosesLoging
    origintTelegram = agent.original_request['payload']['data']['from']
                      │     └ {'source': 'telegram', 'payload': {'data': {'callback_query': {'data': 'pagecc', 'message': {'text': 'Silahkan Pilih Salah Sa...
                      └ <dialogflow_fulfillment.webhook_client.WebhookClient object at 0x10cfb6040>

KeyError: 'from'
INFO     2021-07-27 22:34:48.524 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2021-07-27 22:34:48.528 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2021-07-27 22:34:48.528 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2021-07-27 22:34:48.634 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2021-07-27 22:34:48.634 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2021-07-27 22:34:48.635 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2021-07-27 22:34:48.636 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2021-07-27 22:34:48.636 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2021-07-27 22:34:48.636 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2021-07-27 22:34:48.636 request id: app - uvicorn.server:serve - Finished server process [9921]
INFO     2021-07-27 22:34:48.637 request id: app - uvicorn.server:serve - Finished server process [9921]
INFO     2021-07-27 22:34:48.637 request id: app - uvicorn.server:serve - Finished server process [9921]
INFO     2021-07-27 22:34:49.603 request id: app - uvicorn.server:serve - Started server process [9925]
INFO     2021-07-27 22:34:49.604 request id: app - uvicorn.server:serve - Started server process [9925]
INFO     2021-07-27 22:34:49.604 request id: app - uvicorn.server:serve - Started server process [9925]
INFO     2021-07-27 22:34:49.604 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2021-07-27 22:34:49.605 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2021-07-27 22:34:49.605 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2021-07-27 22:34:49.606 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2021-07-27 22:34:49.607 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2021-07-27 22:34:49.607 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2021-07-27 22:34:52.059 request id: app - uvicorn.protocols.http.h11_impl:send - 74.125.212.146:0 - "POST /webhook HTTP/1.1" 500
ERROR    2021-07-27 22:34:52.063 request id: app - uvicorn.protocols.http.h11_impl:run_asgi - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 5
               │     └ 8
               └ <function _main at 0x10b0300d0>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 5
           │    └ <function BaseProcess._bootstrap at 0x10ae03b80>
           └ <SpawnProcess name='SpawnProcess-27' parent=7596 started>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x10ae031f0>
    └ <SpawnProcess name='SpawnProcess-27' parent=7596 started>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x10b097100>, 'target': <bound method Server.run of <uvicorn.server.Server object...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-27' parent=7596 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-27' parent=7596 started>
    │    └ <function subprocess_started at 0x10b670670>
    └ <SpawnProcess name='SpawnProcess-27' parent=7596 started>
  File "/Library/Python/3.8/site-packages/uvicorn/subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=4, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 5000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x10b0971f0>>
  File "/Library/Python/3.8/site-packages/uvicorn/server.py", line 50, in run
    loop.run_until_complete(self.serve(sockets=sockets))
    │    │                  │    │             └ [<socket.socket fd=4, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 5000)>]
    │    │                  │    └ <function Server.serve at 0x10b66cc10>
    │    │                  └ <uvicorn.server.Server object at 0x10b0971f0>
    │    └ <function BaseEventLoop.run_until_complete at 0x10b329790>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/asyncio/base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x10b329700>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/asyncio/base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x10b32b280>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/asyncio/base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x10b25e160>
    └ <Handle <TaskWakeupMethWrapper object at 0x10c755be0>(<Future finished result=None>)>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/asyncio/events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x10c755be0>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x10c755be0>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x10c755be0>(<Future finished result=None>)>
> File "/Library/Python/3.8/site-packages/uvicorn/protocols/http/h11_impl.py", line 369, in run_asgi
    result = await app(self.scope, self.receive, self.send)
                   │   │    │      │    │        │    └ <function RequestResponseCycle.send at 0x10b7e3310>
                   │   │    │      │    │        └ <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10c755e50>
                   │   │    │      │    └ <function RequestResponseCycle.receive at 0x10b7e33a0>
                   │   │    │      └ <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10c755e50>
                   │   │    └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
                   │   └ <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10c755e50>
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x10b78f370>
  File "/Library/Python/3.8/site-packages/uvicorn/middleware/proxy_headers.py", line 59, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10c755e50>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10c755e50>>
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x10b7de040>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x10b78f370>
  File "/Library/Python/3.8/site-packages/fastapi/applications.py", line 199, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10c755e50>>
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10c755e50>>
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
  File "/Library/Python/3.8/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10c755e50>>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10c755e50>>
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x10c73fa90>
          └ <fastapi.applications.FastAPI object at 0x10b7de040>
  File "/Library/Python/3.8/site-packages/starlette/middleware/errors.py", line 181, in __call__
    raise exc from None
  File "/Library/Python/3.8/site-packages/starlette/middleware/errors.py", line 159, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x10c739f70>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10c755e50>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x10c73fa30>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x10c73fa90>
  File "/Library/Python/3.8/site-packages/starlette/middleware/base.py", line 25, in __call__
    response = await self.dispatch_func(request, self.call_next)
                     │    │             │        │    └ <function BaseHTTPMiddleware.call_next at 0x10bc9e940>
                     │    │             │        └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x10c73fa30>
                     │    │             └ <starlette.requests.Request object at 0x10c755ee0>
                     │    └ <function add_process_time_header at 0x10c739d30>
                     └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x10c73fa30>

  File "./app/__init__.py", line 65, in add_process_time_header
    response = await call_next(request)
                     │         └ <starlette.requests.Request object at 0x10c755ee0>
                     └ <bound method BaseHTTPMiddleware.call_next of <starlette.middleware.base.BaseHTTPMiddleware object at 0x10c73fa30>>

  File "/Library/Python/3.8/site-packages/starlette/middleware/base.py", line 45, in call_next
    task.result()
    │    └ <method 'result' of '_asyncio.Task' objects>
    └ <Task finished name='Task-6' coro=<BaseHTTPMiddleware.call_next.<locals>.coro() done, defined at /Library/Python/3.8/site-pac...
  File "/Library/Python/3.8/site-packages/starlette/middleware/base.py", line 38, in coro
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method Queue.put of <Queue at 0x10c755b80 maxsize=0 tasks=1>>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10c755e50>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x10c73fa00>
          └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x10c73fa30>
  File "/Library/Python/3.8/site-packages/starlette/middleware/cors.py", line 78, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method Queue.put of <Queue at 0x10c755b80 maxsize=0 tasks=1>>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10c755e50>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x10c73f9a0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x10c73fa00>
  File "/Library/Python/3.8/site-packages/starlette/exceptions.py", line 82, in __call__
    raise exc from None
  File "/Library/Python/3.8/site-packages/starlette/exceptions.py", line 71, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x10c76a0d0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10c755e50>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x10c4d2cd0>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x10c73f9a0>
  File "/Library/Python/3.8/site-packages/starlette/routing.py", line 580, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x10c76a0d0>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10c755e50>>
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │     └ <function Route.handle at 0x10bc6caf0>
          └ <fastapi.routing.APIRoute object at 0x10c731880>
  File "/Library/Python/3.8/site-packages/starlette/routing.py", line 241, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x10c76a0d0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10c755e50>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <function request_response.<locals>.app at 0x10c72aca0>
          └ <fastapi.routing.APIRoute object at 0x10c731880>
  File "/Library/Python/3.8/site-packages/starlette/routing.py", line 52, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x10c755a00>
                     └ <function get_request_handler.<locals>.app at 0x10c72ac10>
  File "/Library/Python/3.8/site-packages/fastapi/routing.py", line 214, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x10bc57b80>
  File "/Library/Python/3.8/site-packages/fastapi/routing.py", line 149, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'request': <starlette.requests.Request object at 0x10c755a00>}
                 │         └ <function action at 0x10c5fa670>
                 └ <fastapi.dependencies.models.Dependant object at 0x10c731970>

  File "./app/routers/conversation.py", line 10, in action
    return await controller.index(request)
                 │          │     └ <starlette.requests.Request object at 0x10c755a00>
                 │          └ <staticmethod object at 0x10c58cb80>
                 └ <class 'app.controllers.Conversation.Conversation'>

  File "./app/controllers/Conversation.py", line 195, in index
    login = Login(agent)
            │     └ <dialogflow_fulfillment.webhook_client.WebhookClient object at 0x10c771040>
            └ <class 'app.libraries.Login.Login'>

  File "./app/libraries/Login.py", line 20, in __init__
    self.prosesLoging(agent)
    │    │            └ <dialogflow_fulfillment.webhook_client.WebhookClient object at 0x10c771040>
    │    └ <function Login.prosesLoging at 0x10c5fa280>
    └ <app.libraries.Login.Login object at 0x10c7710d0>

  File "./app/libraries/Login.py", line 51, in prosesLoging
    origintTelegram = agent.original_request['payload']['data']['from']
                      │     └ {'source': 'telegram', 'payload': {'data': {'update_id': '102371384', 'callback_query': {'data': 'pagecc', 'id': '11329230894...
                      └ <dialogflow_fulfillment.webhook_client.WebhookClient object at 0x10c771040>

KeyError: 'from'
ERROR    2021-07-27 22:34:52.121 request id: app - uvicorn.protocols.http.h11_impl:run_asgi - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 5
               │     └ 8
               └ <function _main at 0x10b0300d0>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 5
           │    └ <function BaseProcess._bootstrap at 0x10ae03b80>
           └ <SpawnProcess name='SpawnProcess-27' parent=7596 started>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x10ae031f0>
    └ <SpawnProcess name='SpawnProcess-27' parent=7596 started>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x10b097100>, 'target': <bound method Server.run of <uvicorn.server.Server object...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-27' parent=7596 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-27' parent=7596 started>
    │    └ <function subprocess_started at 0x10b670670>
    └ <SpawnProcess name='SpawnProcess-27' parent=7596 started>
  File "/Library/Python/3.8/site-packages/uvicorn/subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=4, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 5000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x10b0971f0>>
  File "/Library/Python/3.8/site-packages/uvicorn/server.py", line 50, in run
    loop.run_until_complete(self.serve(sockets=sockets))
    │    │                  │    │             └ [<socket.socket fd=4, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 5000)>]
    │    │                  │    └ <function Server.serve at 0x10b66cc10>
    │    │                  └ <uvicorn.server.Server object at 0x10b0971f0>
    │    └ <function BaseEventLoop.run_until_complete at 0x10b329790>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/asyncio/base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x10b329700>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/asyncio/base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x10b32b280>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/asyncio/base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x10b25e160>
    └ <Handle <TaskWakeupMethWrapper object at 0x10c755be0>(<Future finished result=None>)>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/asyncio/events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x10c755be0>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x10c755be0>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x10c755be0>(<Future finished result=None>)>
> File "/Library/Python/3.8/site-packages/uvicorn/protocols/http/h11_impl.py", line 369, in run_asgi
    result = await app(self.scope, self.receive, self.send)
                   │   │    │      │    │        │    └ <function RequestResponseCycle.send at 0x10b7e3310>
                   │   │    │      │    │        └ <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10c755e50>
                   │   │    │      │    └ <function RequestResponseCycle.receive at 0x10b7e33a0>
                   │   │    │      └ <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10c755e50>
                   │   │    └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
                   │   └ <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10c755e50>
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x10b78f370>
  File "/Library/Python/3.8/site-packages/uvicorn/middleware/proxy_headers.py", line 59, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10c755e50>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10c755e50>>
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x10b7de040>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x10b78f370>
  File "/Library/Python/3.8/site-packages/fastapi/applications.py", line 199, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10c755e50>>
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10c755e50>>
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
  File "/Library/Python/3.8/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10c755e50>>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10c755e50>>
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x10c73fa90>
          └ <fastapi.applications.FastAPI object at 0x10b7de040>
  File "/Library/Python/3.8/site-packages/starlette/middleware/errors.py", line 181, in __call__
    raise exc from None
  File "/Library/Python/3.8/site-packages/starlette/middleware/errors.py", line 159, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x10c739f70>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10c755e50>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x10c73fa30>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x10c73fa90>
  File "/Library/Python/3.8/site-packages/starlette/middleware/base.py", line 25, in __call__
    response = await self.dispatch_func(request, self.call_next)
                     │    │             │        │    └ <function BaseHTTPMiddleware.call_next at 0x10bc9e940>
                     │    │             │        └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x10c73fa30>
                     │    │             └ <starlette.requests.Request object at 0x10c755ee0>
                     │    └ <function add_process_time_header at 0x10c739d30>
                     └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x10c73fa30>

  File "./app/__init__.py", line 65, in add_process_time_header
    response = await call_next(request)
                     │         └ <starlette.requests.Request object at 0x10c755ee0>
                     └ <bound method BaseHTTPMiddleware.call_next of <starlette.middleware.base.BaseHTTPMiddleware object at 0x10c73fa30>>

  File "/Library/Python/3.8/site-packages/starlette/middleware/base.py", line 45, in call_next
    task.result()
    │    └ <method 'result' of '_asyncio.Task' objects>
    └ <Task finished name='Task-6' coro=<BaseHTTPMiddleware.call_next.<locals>.coro() done, defined at /Library/Python/3.8/site-pac...
  File "/Library/Python/3.8/site-packages/starlette/middleware/base.py", line 38, in coro
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method Queue.put of <Queue at 0x10c755b80 maxsize=0 tasks=1>>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10c755e50>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x10c73fa00>
          └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x10c73fa30>
  File "/Library/Python/3.8/site-packages/starlette/middleware/cors.py", line 78, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method Queue.put of <Queue at 0x10c755b80 maxsize=0 tasks=1>>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10c755e50>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x10c73f9a0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x10c73fa00>
  File "/Library/Python/3.8/site-packages/starlette/exceptions.py", line 82, in __call__
    raise exc from None
  File "/Library/Python/3.8/site-packages/starlette/exceptions.py", line 71, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x10c76a0d0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10c755e50>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x10c4d2cd0>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x10c73f9a0>
  File "/Library/Python/3.8/site-packages/starlette/routing.py", line 580, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x10c76a0d0>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10c755e50>>
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │     └ <function Route.handle at 0x10bc6caf0>
          └ <fastapi.routing.APIRoute object at 0x10c731880>
  File "/Library/Python/3.8/site-packages/starlette/routing.py", line 241, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x10c76a0d0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10c755e50>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <function request_response.<locals>.app at 0x10c72aca0>
          └ <fastapi.routing.APIRoute object at 0x10c731880>
  File "/Library/Python/3.8/site-packages/starlette/routing.py", line 52, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x10c755a00>
                     └ <function get_request_handler.<locals>.app at 0x10c72ac10>
  File "/Library/Python/3.8/site-packages/fastapi/routing.py", line 214, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x10bc57b80>
  File "/Library/Python/3.8/site-packages/fastapi/routing.py", line 149, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'request': <starlette.requests.Request object at 0x10c755a00>}
                 │         └ <function action at 0x10c5fa670>
                 └ <fastapi.dependencies.models.Dependant object at 0x10c731970>

  File "./app/routers/conversation.py", line 10, in action
    return await controller.index(request)
                 │          │     └ <starlette.requests.Request object at 0x10c755a00>
                 │          └ <staticmethod object at 0x10c58cb80>
                 └ <class 'app.controllers.Conversation.Conversation'>

  File "./app/controllers/Conversation.py", line 195, in index
    login = Login(agent)
            │     └ <dialogflow_fulfillment.webhook_client.WebhookClient object at 0x10c771040>
            └ <class 'app.libraries.Login.Login'>

  File "./app/libraries/Login.py", line 20, in __init__
    self.prosesLoging(agent)
    │    │            └ <dialogflow_fulfillment.webhook_client.WebhookClient object at 0x10c771040>
    │    └ <function Login.prosesLoging at 0x10c5fa280>
    └ <app.libraries.Login.Login object at 0x10c7710d0>

  File "./app/libraries/Login.py", line 51, in prosesLoging
    origintTelegram = agent.original_request['payload']['data']['from']
                      │     └ {'source': 'telegram', 'payload': {'data': {'update_id': '102371384', 'callback_query': {'data': 'pagecc', 'id': '11329230894...
                      └ <dialogflow_fulfillment.webhook_client.WebhookClient object at 0x10c771040>

KeyError: 'from'
ERROR    2021-07-27 22:34:52.134 request id: app - uvicorn.protocols.http.h11_impl:run_asgi - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 5
               │     └ 8
               └ <function _main at 0x10b0300d0>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 5
           │    └ <function BaseProcess._bootstrap at 0x10ae03b80>
           └ <SpawnProcess name='SpawnProcess-27' parent=7596 started>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x10ae031f0>
    └ <SpawnProcess name='SpawnProcess-27' parent=7596 started>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x10b097100>, 'target': <bound method Server.run of <uvicorn.server.Server object...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-27' parent=7596 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-27' parent=7596 started>
    │    └ <function subprocess_started at 0x10b670670>
    └ <SpawnProcess name='SpawnProcess-27' parent=7596 started>
  File "/Library/Python/3.8/site-packages/uvicorn/subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=4, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 5000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x10b0971f0>>
  File "/Library/Python/3.8/site-packages/uvicorn/server.py", line 50, in run
    loop.run_until_complete(self.serve(sockets=sockets))
    │    │                  │    │             └ [<socket.socket fd=4, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 5000)>]
    │    │                  │    └ <function Server.serve at 0x10b66cc10>
    │    │                  └ <uvicorn.server.Server object at 0x10b0971f0>
    │    └ <function BaseEventLoop.run_until_complete at 0x10b329790>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/asyncio/base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x10b329700>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/asyncio/base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x10b32b280>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/asyncio/base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x10b25e160>
    └ <Handle <TaskWakeupMethWrapper object at 0x10c755be0>(<Future finished result=None>)>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/asyncio/events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x10c755be0>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x10c755be0>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x10c755be0>(<Future finished result=None>)>
> File "/Library/Python/3.8/site-packages/uvicorn/protocols/http/h11_impl.py", line 369, in run_asgi
    result = await app(self.scope, self.receive, self.send)
                   │   │    │      │    │        │    └ <function RequestResponseCycle.send at 0x10b7e3310>
                   │   │    │      │    │        └ <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10c755e50>
                   │   │    │      │    └ <function RequestResponseCycle.receive at 0x10b7e33a0>
                   │   │    │      └ <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10c755e50>
                   │   │    └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
                   │   └ <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10c755e50>
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x10b78f370>
  File "/Library/Python/3.8/site-packages/uvicorn/middleware/proxy_headers.py", line 59, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10c755e50>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10c755e50>>
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x10b7de040>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x10b78f370>
  File "/Library/Python/3.8/site-packages/fastapi/applications.py", line 199, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10c755e50>>
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10c755e50>>
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
  File "/Library/Python/3.8/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10c755e50>>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10c755e50>>
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x10c73fa90>
          └ <fastapi.applications.FastAPI object at 0x10b7de040>
  File "/Library/Python/3.8/site-packages/starlette/middleware/errors.py", line 181, in __call__
    raise exc from None
  File "/Library/Python/3.8/site-packages/starlette/middleware/errors.py", line 159, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x10c739f70>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10c755e50>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x10c73fa30>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x10c73fa90>
  File "/Library/Python/3.8/site-packages/starlette/middleware/base.py", line 25, in __call__
    response = await self.dispatch_func(request, self.call_next)
                     │    │             │        │    └ <function BaseHTTPMiddleware.call_next at 0x10bc9e940>
                     │    │             │        └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x10c73fa30>
                     │    │             └ <starlette.requests.Request object at 0x10c755ee0>
                     │    └ <function add_process_time_header at 0x10c739d30>
                     └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x10c73fa30>

  File "./app/__init__.py", line 65, in add_process_time_header
    response = await call_next(request)
                     │         └ <starlette.requests.Request object at 0x10c755ee0>
                     └ <bound method BaseHTTPMiddleware.call_next of <starlette.middleware.base.BaseHTTPMiddleware object at 0x10c73fa30>>

  File "/Library/Python/3.8/site-packages/starlette/middleware/base.py", line 45, in call_next
    task.result()
    │    └ <method 'result' of '_asyncio.Task' objects>
    └ <Task finished name='Task-6' coro=<BaseHTTPMiddleware.call_next.<locals>.coro() done, defined at /Library/Python/3.8/site-pac...
  File "/Library/Python/3.8/site-packages/starlette/middleware/base.py", line 38, in coro
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method Queue.put of <Queue at 0x10c755b80 maxsize=0 tasks=1>>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10c755e50>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x10c73fa00>
          └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x10c73fa30>
  File "/Library/Python/3.8/site-packages/starlette/middleware/cors.py", line 78, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method Queue.put of <Queue at 0x10c755b80 maxsize=0 tasks=1>>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10c755e50>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x10c73f9a0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x10c73fa00>
  File "/Library/Python/3.8/site-packages/starlette/exceptions.py", line 82, in __call__
    raise exc from None
  File "/Library/Python/3.8/site-packages/starlette/exceptions.py", line 71, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x10c76a0d0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10c755e50>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x10c4d2cd0>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x10c73f9a0>
  File "/Library/Python/3.8/site-packages/starlette/routing.py", line 580, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x10c76a0d0>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10c755e50>>
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │     └ <function Route.handle at 0x10bc6caf0>
          └ <fastapi.routing.APIRoute object at 0x10c731880>
  File "/Library/Python/3.8/site-packages/starlette/routing.py", line 241, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x10c76a0d0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10c755e50>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <function request_response.<locals>.app at 0x10c72aca0>
          └ <fastapi.routing.APIRoute object at 0x10c731880>
  File "/Library/Python/3.8/site-packages/starlette/routing.py", line 52, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x10c755a00>
                     └ <function get_request_handler.<locals>.app at 0x10c72ac10>
  File "/Library/Python/3.8/site-packages/fastapi/routing.py", line 214, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x10bc57b80>
  File "/Library/Python/3.8/site-packages/fastapi/routing.py", line 149, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'request': <starlette.requests.Request object at 0x10c755a00>}
                 │         └ <function action at 0x10c5fa670>
                 └ <fastapi.dependencies.models.Dependant object at 0x10c731970>

  File "./app/routers/conversation.py", line 10, in action
    return await controller.index(request)
                 │          │     └ <starlette.requests.Request object at 0x10c755a00>
                 │          └ <staticmethod object at 0x10c58cb80>
                 └ <class 'app.controllers.Conversation.Conversation'>

  File "./app/controllers/Conversation.py", line 195, in index
    login = Login(agent)
            │     └ <dialogflow_fulfillment.webhook_client.WebhookClient object at 0x10c771040>
            └ <class 'app.libraries.Login.Login'>

  File "./app/libraries/Login.py", line 20, in __init__
    self.prosesLoging(agent)
    │    │            └ <dialogflow_fulfillment.webhook_client.WebhookClient object at 0x10c771040>
    │    └ <function Login.prosesLoging at 0x10c5fa280>
    └ <app.libraries.Login.Login object at 0x10c7710d0>

  File "./app/libraries/Login.py", line 51, in prosesLoging
    origintTelegram = agent.original_request['payload']['data']['from']
                      │     └ {'source': 'telegram', 'payload': {'data': {'update_id': '102371384', 'callback_query': {'data': 'pagecc', 'id': '11329230894...
                      └ <dialogflow_fulfillment.webhook_client.WebhookClient object at 0x10c771040>

KeyError: 'from'
INFO     2021-07-27 22:35:01.111 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2021-07-27 22:35:01.112 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2021-07-27 22:35:01.113 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2021-07-27 22:35:01.220 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2021-07-27 22:35:01.221 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2021-07-27 22:35:01.221 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2021-07-27 22:35:01.222 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2021-07-27 22:35:01.222 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2021-07-27 22:35:01.222 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2021-07-27 22:35:01.222 request id: app - uvicorn.server:serve - Finished server process [9925]
INFO     2021-07-27 22:35:01.223 request id: app - uvicorn.server:serve - Finished server process [9925]
INFO     2021-07-27 22:35:01.223 request id: app - uvicorn.server:serve - Finished server process [9925]
INFO     2021-07-27 22:35:02.193 request id: app - uvicorn.server:serve - Started server process [9941]
INFO     2021-07-27 22:35:02.193 request id: app - uvicorn.server:serve - Started server process [9941]
INFO     2021-07-27 22:35:02.194 request id: app - uvicorn.server:serve - Started server process [9941]
INFO     2021-07-27 22:35:02.194 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2021-07-27 22:35:02.194 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2021-07-27 22:35:02.194 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2021-07-27 22:35:02.195 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2021-07-27 22:35:02.195 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2021-07-27 22:35:02.195 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2021-07-27 22:35:04.145 request id: app - uvicorn.protocols.http.h11_impl:send - 74.125.212.146:0 - "POST /webhook HTTP/1.1" 500
ERROR    2021-07-27 22:35:04.148 request id: app - uvicorn.protocols.http.h11_impl:run_asgi - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 5
               │     └ 8
               └ <function _main at 0x10b86d0d0>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 5
           │    └ <function BaseProcess._bootstrap at 0x10b640b80>
           └ <SpawnProcess name='SpawnProcess-28' parent=7596 started>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x10b6401f0>
    └ <SpawnProcess name='SpawnProcess-28' parent=7596 started>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x10b8d4100>, 'target': <bound method Server.run of <uvicorn.server.Server object...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-28' parent=7596 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-28' parent=7596 started>
    │    └ <function subprocess_started at 0x10beac670>
    └ <SpawnProcess name='SpawnProcess-28' parent=7596 started>
  File "/Library/Python/3.8/site-packages/uvicorn/subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=4, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 5000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x10b8d41f0>>
  File "/Library/Python/3.8/site-packages/uvicorn/server.py", line 50, in run
    loop.run_until_complete(self.serve(sockets=sockets))
    │    │                  │    │             └ [<socket.socket fd=4, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 5000)>]
    │    │                  │    └ <function Server.serve at 0x10bea9c10>
    │    │                  └ <uvicorn.server.Server object at 0x10b8d41f0>
    │    └ <function BaseEventLoop.run_until_complete at 0x10bb66790>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/asyncio/base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x10bb66700>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/asyncio/base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x10bb68280>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/asyncio/base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x10ba9b160>
    └ <Handle <TaskWakeupMethWrapper object at 0x10cf95be0>(<Future finished result=None>)>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/asyncio/events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x10cf95be0>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x10cf95be0>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x10cf95be0>(<Future finished result=None>)>
> File "/Library/Python/3.8/site-packages/uvicorn/protocols/http/h11_impl.py", line 369, in run_asgi
    result = await app(self.scope, self.receive, self.send)
                   │   │    │      │    │        │    └ <function RequestResponseCycle.send at 0x10c020310>
                   │   │    │      │    │        └ <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cf95e50>
                   │   │    │      │    └ <function RequestResponseCycle.receive at 0x10c0203a0>
                   │   │    │      └ <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cf95e50>
                   │   │    └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
                   │   └ <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cf95e50>
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x10bfcc370>
  File "/Library/Python/3.8/site-packages/uvicorn/middleware/proxy_headers.py", line 59, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cf95e50>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cf95e50>>
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x10c01b040>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x10bfcc370>
  File "/Library/Python/3.8/site-packages/fastapi/applications.py", line 199, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cf95e50>>
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cf95e50>>
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
  File "/Library/Python/3.8/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cf95e50>>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cf95e50>>
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x10cf7ca90>
          └ <fastapi.applications.FastAPI object at 0x10c01b040>
  File "/Library/Python/3.8/site-packages/starlette/middleware/errors.py", line 181, in __call__
    raise exc from None
  File "/Library/Python/3.8/site-packages/starlette/middleware/errors.py", line 159, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x10cf76f70>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cf95e50>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x10cf7ca30>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x10cf7ca90>
  File "/Library/Python/3.8/site-packages/starlette/middleware/base.py", line 25, in __call__
    response = await self.dispatch_func(request, self.call_next)
                     │    │             │        │    └ <function BaseHTTPMiddleware.call_next at 0x10c4db940>
                     │    │             │        └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x10cf7ca30>
                     │    │             └ <starlette.requests.Request object at 0x10cf95ee0>
                     │    └ <function add_process_time_header at 0x10cf76d30>
                     └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x10cf7ca30>

  File "./app/__init__.py", line 65, in add_process_time_header
    response = await call_next(request)
                     │         └ <starlette.requests.Request object at 0x10cf95ee0>
                     └ <bound method BaseHTTPMiddleware.call_next of <starlette.middleware.base.BaseHTTPMiddleware object at 0x10cf7ca30>>

  File "/Library/Python/3.8/site-packages/starlette/middleware/base.py", line 45, in call_next
    task.result()
    │    └ <method 'result' of '_asyncio.Task' objects>
    └ <Task finished name='Task-6' coro=<BaseHTTPMiddleware.call_next.<locals>.coro() done, defined at /Library/Python/3.8/site-pac...
  File "/Library/Python/3.8/site-packages/starlette/middleware/base.py", line 38, in coro
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method Queue.put of <Queue at 0x10cf95b80 maxsize=0 tasks=1>>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cf95e50>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x10cf7ca00>
          └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x10cf7ca30>
  File "/Library/Python/3.8/site-packages/starlette/middleware/cors.py", line 78, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method Queue.put of <Queue at 0x10cf95b80 maxsize=0 tasks=1>>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cf95e50>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x10cf7c9a0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x10cf7ca00>
  File "/Library/Python/3.8/site-packages/starlette/exceptions.py", line 82, in __call__
    raise exc from None
  File "/Library/Python/3.8/site-packages/starlette/exceptions.py", line 71, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x10cfa80d0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cf95e50>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x10cd0fcd0>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x10cf7c9a0>
  File "/Library/Python/3.8/site-packages/starlette/routing.py", line 580, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x10cfa80d0>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cf95e50>>
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │     └ <function Route.handle at 0x10c4a9af0>
          └ <fastapi.routing.APIRoute object at 0x10cf6e880>
  File "/Library/Python/3.8/site-packages/starlette/routing.py", line 241, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x10cfa80d0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cf95e50>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <function request_response.<locals>.app at 0x10cf67ca0>
          └ <fastapi.routing.APIRoute object at 0x10cf6e880>
  File "/Library/Python/3.8/site-packages/starlette/routing.py", line 52, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x10cf95a00>
                     └ <function get_request_handler.<locals>.app at 0x10cf67c10>
  File "/Library/Python/3.8/site-packages/fastapi/routing.py", line 214, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x10c494b80>
  File "/Library/Python/3.8/site-packages/fastapi/routing.py", line 149, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'request': <starlette.requests.Request object at 0x10cf95a00>}
                 │         └ <function action at 0x10ce37670>
                 └ <fastapi.dependencies.models.Dependant object at 0x10cf6e970>

  File "./app/routers/conversation.py", line 10, in action
    return await controller.index(request)
                 │          │     └ <starlette.requests.Request object at 0x10cf95a00>
                 │          └ <staticmethod object at 0x10cdc8b80>
                 └ <class 'app.controllers.Conversation.Conversation'>

  File "./app/controllers/Conversation.py", line 195, in index
    login = Login(agent)
            │     └ <dialogflow_fulfillment.webhook_client.WebhookClient object at 0x10cfae040>
            └ <class 'app.libraries.Login.Login'>

  File "./app/libraries/Login.py", line 20, in __init__
    self.prosesLoging(agent)
    │    │            └ <dialogflow_fulfillment.webhook_client.WebhookClient object at 0x10cfae040>
    │    └ <function Login.prosesLoging at 0x10ce37280>
    └ <app.libraries.Login.Login object at 0x10cfae0d0>

  File "./app/libraries/Login.py", line 51, in prosesLoging
    origintTelegram = agent.original_request['payload']['data']['from']
                      │     └ {'source': 'telegram', 'payload': {'data': {'callback_query': {'message': {'text': 'Silahkan Pilih Salah Satu Konteks Menu Ch...
                      └ <dialogflow_fulfillment.webhook_client.WebhookClient object at 0x10cfae040>

KeyError: 'from'
ERROR    2021-07-27 22:35:04.207 request id: app - uvicorn.protocols.http.h11_impl:run_asgi - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 5
               │     └ 8
               └ <function _main at 0x10b86d0d0>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 5
           │    └ <function BaseProcess._bootstrap at 0x10b640b80>
           └ <SpawnProcess name='SpawnProcess-28' parent=7596 started>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x10b6401f0>
    └ <SpawnProcess name='SpawnProcess-28' parent=7596 started>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x10b8d4100>, 'target': <bound method Server.run of <uvicorn.server.Server object...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-28' parent=7596 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-28' parent=7596 started>
    │    └ <function subprocess_started at 0x10beac670>
    └ <SpawnProcess name='SpawnProcess-28' parent=7596 started>
  File "/Library/Python/3.8/site-packages/uvicorn/subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=4, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 5000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x10b8d41f0>>
  File "/Library/Python/3.8/site-packages/uvicorn/server.py", line 50, in run
    loop.run_until_complete(self.serve(sockets=sockets))
    │    │                  │    │             └ [<socket.socket fd=4, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 5000)>]
    │    │                  │    └ <function Server.serve at 0x10bea9c10>
    │    │                  └ <uvicorn.server.Server object at 0x10b8d41f0>
    │    └ <function BaseEventLoop.run_until_complete at 0x10bb66790>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/asyncio/base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x10bb66700>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/asyncio/base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x10bb68280>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/asyncio/base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x10ba9b160>
    └ <Handle <TaskWakeupMethWrapper object at 0x10cf95be0>(<Future finished result=None>)>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/asyncio/events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x10cf95be0>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x10cf95be0>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x10cf95be0>(<Future finished result=None>)>
> File "/Library/Python/3.8/site-packages/uvicorn/protocols/http/h11_impl.py", line 369, in run_asgi
    result = await app(self.scope, self.receive, self.send)
                   │   │    │      │    │        │    └ <function RequestResponseCycle.send at 0x10c020310>
                   │   │    │      │    │        └ <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cf95e50>
                   │   │    │      │    └ <function RequestResponseCycle.receive at 0x10c0203a0>
                   │   │    │      └ <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cf95e50>
                   │   │    └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
                   │   └ <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cf95e50>
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x10bfcc370>
  File "/Library/Python/3.8/site-packages/uvicorn/middleware/proxy_headers.py", line 59, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cf95e50>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cf95e50>>
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x10c01b040>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x10bfcc370>
  File "/Library/Python/3.8/site-packages/fastapi/applications.py", line 199, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cf95e50>>
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cf95e50>>
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
  File "/Library/Python/3.8/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cf95e50>>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cf95e50>>
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x10cf7ca90>
          └ <fastapi.applications.FastAPI object at 0x10c01b040>
  File "/Library/Python/3.8/site-packages/starlette/middleware/errors.py", line 181, in __call__
    raise exc from None
  File "/Library/Python/3.8/site-packages/starlette/middleware/errors.py", line 159, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x10cf76f70>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cf95e50>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x10cf7ca30>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x10cf7ca90>
  File "/Library/Python/3.8/site-packages/starlette/middleware/base.py", line 25, in __call__
    response = await self.dispatch_func(request, self.call_next)
                     │    │             │        │    └ <function BaseHTTPMiddleware.call_next at 0x10c4db940>
                     │    │             │        └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x10cf7ca30>
                     │    │             └ <starlette.requests.Request object at 0x10cf95ee0>
                     │    └ <function add_process_time_header at 0x10cf76d30>
                     └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x10cf7ca30>

  File "./app/__init__.py", line 65, in add_process_time_header
    response = await call_next(request)
                     │         └ <starlette.requests.Request object at 0x10cf95ee0>
                     └ <bound method BaseHTTPMiddleware.call_next of <starlette.middleware.base.BaseHTTPMiddleware object at 0x10cf7ca30>>

  File "/Library/Python/3.8/site-packages/starlette/middleware/base.py", line 45, in call_next
    task.result()
    │    └ <method 'result' of '_asyncio.Task' objects>
    └ <Task finished name='Task-6' coro=<BaseHTTPMiddleware.call_next.<locals>.coro() done, defined at /Library/Python/3.8/site-pac...
  File "/Library/Python/3.8/site-packages/starlette/middleware/base.py", line 38, in coro
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method Queue.put of <Queue at 0x10cf95b80 maxsize=0 tasks=1>>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cf95e50>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x10cf7ca00>
          └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x10cf7ca30>
  File "/Library/Python/3.8/site-packages/starlette/middleware/cors.py", line 78, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method Queue.put of <Queue at 0x10cf95b80 maxsize=0 tasks=1>>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cf95e50>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x10cf7c9a0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x10cf7ca00>
  File "/Library/Python/3.8/site-packages/starlette/exceptions.py", line 82, in __call__
    raise exc from None
  File "/Library/Python/3.8/site-packages/starlette/exceptions.py", line 71, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x10cfa80d0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cf95e50>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x10cd0fcd0>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x10cf7c9a0>
  File "/Library/Python/3.8/site-packages/starlette/routing.py", line 580, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x10cfa80d0>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cf95e50>>
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │     └ <function Route.handle at 0x10c4a9af0>
          └ <fastapi.routing.APIRoute object at 0x10cf6e880>
  File "/Library/Python/3.8/site-packages/starlette/routing.py", line 241, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x10cfa80d0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cf95e50>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <function request_response.<locals>.app at 0x10cf67ca0>
          └ <fastapi.routing.APIRoute object at 0x10cf6e880>
  File "/Library/Python/3.8/site-packages/starlette/routing.py", line 52, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x10cf95a00>
                     └ <function get_request_handler.<locals>.app at 0x10cf67c10>
  File "/Library/Python/3.8/site-packages/fastapi/routing.py", line 214, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x10c494b80>
  File "/Library/Python/3.8/site-packages/fastapi/routing.py", line 149, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'request': <starlette.requests.Request object at 0x10cf95a00>}
                 │         └ <function action at 0x10ce37670>
                 └ <fastapi.dependencies.models.Dependant object at 0x10cf6e970>

  File "./app/routers/conversation.py", line 10, in action
    return await controller.index(request)
                 │          │     └ <starlette.requests.Request object at 0x10cf95a00>
                 │          └ <staticmethod object at 0x10cdc8b80>
                 └ <class 'app.controllers.Conversation.Conversation'>

  File "./app/controllers/Conversation.py", line 195, in index
    login = Login(agent)
            │     └ <dialogflow_fulfillment.webhook_client.WebhookClient object at 0x10cfae040>
            └ <class 'app.libraries.Login.Login'>

  File "./app/libraries/Login.py", line 20, in __init__
    self.prosesLoging(agent)
    │    │            └ <dialogflow_fulfillment.webhook_client.WebhookClient object at 0x10cfae040>
    │    └ <function Login.prosesLoging at 0x10ce37280>
    └ <app.libraries.Login.Login object at 0x10cfae0d0>

  File "./app/libraries/Login.py", line 51, in prosesLoging
    origintTelegram = agent.original_request['payload']['data']['from']
                      │     └ {'source': 'telegram', 'payload': {'data': {'callback_query': {'message': {'text': 'Silahkan Pilih Salah Satu Konteks Menu Ch...
                      └ <dialogflow_fulfillment.webhook_client.WebhookClient object at 0x10cfae040>

KeyError: 'from'
ERROR    2021-07-27 22:35:04.222 request id: app - uvicorn.protocols.http.h11_impl:run_asgi - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 5
               │     └ 8
               └ <function _main at 0x10b86d0d0>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 5
           │    └ <function BaseProcess._bootstrap at 0x10b640b80>
           └ <SpawnProcess name='SpawnProcess-28' parent=7596 started>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x10b6401f0>
    └ <SpawnProcess name='SpawnProcess-28' parent=7596 started>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x10b8d4100>, 'target': <bound method Server.run of <uvicorn.server.Server object...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-28' parent=7596 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-28' parent=7596 started>
    │    └ <function subprocess_started at 0x10beac670>
    └ <SpawnProcess name='SpawnProcess-28' parent=7596 started>
  File "/Library/Python/3.8/site-packages/uvicorn/subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=4, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 5000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x10b8d41f0>>
  File "/Library/Python/3.8/site-packages/uvicorn/server.py", line 50, in run
    loop.run_until_complete(self.serve(sockets=sockets))
    │    │                  │    │             └ [<socket.socket fd=4, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 5000)>]
    │    │                  │    └ <function Server.serve at 0x10bea9c10>
    │    │                  └ <uvicorn.server.Server object at 0x10b8d41f0>
    │    └ <function BaseEventLoop.run_until_complete at 0x10bb66790>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/asyncio/base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x10bb66700>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/asyncio/base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x10bb68280>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/asyncio/base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x10ba9b160>
    └ <Handle <TaskWakeupMethWrapper object at 0x10cf95be0>(<Future finished result=None>)>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/asyncio/events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x10cf95be0>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x10cf95be0>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x10cf95be0>(<Future finished result=None>)>
> File "/Library/Python/3.8/site-packages/uvicorn/protocols/http/h11_impl.py", line 369, in run_asgi
    result = await app(self.scope, self.receive, self.send)
                   │   │    │      │    │        │    └ <function RequestResponseCycle.send at 0x10c020310>
                   │   │    │      │    │        └ <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cf95e50>
                   │   │    │      │    └ <function RequestResponseCycle.receive at 0x10c0203a0>
                   │   │    │      └ <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cf95e50>
                   │   │    └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
                   │   └ <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cf95e50>
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x10bfcc370>
  File "/Library/Python/3.8/site-packages/uvicorn/middleware/proxy_headers.py", line 59, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cf95e50>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cf95e50>>
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x10c01b040>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x10bfcc370>
  File "/Library/Python/3.8/site-packages/fastapi/applications.py", line 199, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cf95e50>>
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cf95e50>>
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
  File "/Library/Python/3.8/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cf95e50>>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cf95e50>>
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x10cf7ca90>
          └ <fastapi.applications.FastAPI object at 0x10c01b040>
  File "/Library/Python/3.8/site-packages/starlette/middleware/errors.py", line 181, in __call__
    raise exc from None
  File "/Library/Python/3.8/site-packages/starlette/middleware/errors.py", line 159, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x10cf76f70>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cf95e50>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x10cf7ca30>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x10cf7ca90>
  File "/Library/Python/3.8/site-packages/starlette/middleware/base.py", line 25, in __call__
    response = await self.dispatch_func(request, self.call_next)
                     │    │             │        │    └ <function BaseHTTPMiddleware.call_next at 0x10c4db940>
                     │    │             │        └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x10cf7ca30>
                     │    │             └ <starlette.requests.Request object at 0x10cf95ee0>
                     │    └ <function add_process_time_header at 0x10cf76d30>
                     └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x10cf7ca30>

  File "./app/__init__.py", line 65, in add_process_time_header
    response = await call_next(request)
                     │         └ <starlette.requests.Request object at 0x10cf95ee0>
                     └ <bound method BaseHTTPMiddleware.call_next of <starlette.middleware.base.BaseHTTPMiddleware object at 0x10cf7ca30>>

  File "/Library/Python/3.8/site-packages/starlette/middleware/base.py", line 45, in call_next
    task.result()
    │    └ <method 'result' of '_asyncio.Task' objects>
    └ <Task finished name='Task-6' coro=<BaseHTTPMiddleware.call_next.<locals>.coro() done, defined at /Library/Python/3.8/site-pac...
  File "/Library/Python/3.8/site-packages/starlette/middleware/base.py", line 38, in coro
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method Queue.put of <Queue at 0x10cf95b80 maxsize=0 tasks=1>>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cf95e50>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x10cf7ca00>
          └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x10cf7ca30>
  File "/Library/Python/3.8/site-packages/starlette/middleware/cors.py", line 78, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method Queue.put of <Queue at 0x10cf95b80 maxsize=0 tasks=1>>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cf95e50>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x10cf7c9a0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x10cf7ca00>
  File "/Library/Python/3.8/site-packages/starlette/exceptions.py", line 82, in __call__
    raise exc from None
  File "/Library/Python/3.8/site-packages/starlette/exceptions.py", line 71, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x10cfa80d0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cf95e50>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x10cd0fcd0>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x10cf7c9a0>
  File "/Library/Python/3.8/site-packages/starlette/routing.py", line 580, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x10cfa80d0>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cf95e50>>
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │     └ <function Route.handle at 0x10c4a9af0>
          └ <fastapi.routing.APIRoute object at 0x10cf6e880>
  File "/Library/Python/3.8/site-packages/starlette/routing.py", line 241, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x10cfa80d0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cf95e50>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <function request_response.<locals>.app at 0x10cf67ca0>
          └ <fastapi.routing.APIRoute object at 0x10cf6e880>
  File "/Library/Python/3.8/site-packages/starlette/routing.py", line 52, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x10cf95a00>
                     └ <function get_request_handler.<locals>.app at 0x10cf67c10>
  File "/Library/Python/3.8/site-packages/fastapi/routing.py", line 214, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x10c494b80>
  File "/Library/Python/3.8/site-packages/fastapi/routing.py", line 149, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'request': <starlette.requests.Request object at 0x10cf95a00>}
                 │         └ <function action at 0x10ce37670>
                 └ <fastapi.dependencies.models.Dependant object at 0x10cf6e970>

  File "./app/routers/conversation.py", line 10, in action
    return await controller.index(request)
                 │          │     └ <starlette.requests.Request object at 0x10cf95a00>
                 │          └ <staticmethod object at 0x10cdc8b80>
                 └ <class 'app.controllers.Conversation.Conversation'>

  File "./app/controllers/Conversation.py", line 195, in index
    login = Login(agent)
            │     └ <dialogflow_fulfillment.webhook_client.WebhookClient object at 0x10cfae040>
            └ <class 'app.libraries.Login.Login'>

  File "./app/libraries/Login.py", line 20, in __init__
    self.prosesLoging(agent)
    │    │            └ <dialogflow_fulfillment.webhook_client.WebhookClient object at 0x10cfae040>
    │    └ <function Login.prosesLoging at 0x10ce37280>
    └ <app.libraries.Login.Login object at 0x10cfae0d0>

  File "./app/libraries/Login.py", line 51, in prosesLoging
    origintTelegram = agent.original_request['payload']['data']['from']
                      │     └ {'source': 'telegram', 'payload': {'data': {'callback_query': {'message': {'text': 'Silahkan Pilih Salah Satu Konteks Menu Ch...
                      └ <dialogflow_fulfillment.webhook_client.WebhookClient object at 0x10cfae040>

KeyError: 'from'
INFO     2021-07-27 22:36:04.591 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2021-07-27 22:36:04.591 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2021-07-27 22:36:04.592 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2021-07-27 22:36:04.694 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2021-07-27 22:36:04.694 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2021-07-27 22:36:04.695 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2021-07-27 22:36:04.695 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2021-07-27 22:36:04.695 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2021-07-27 22:36:04.696 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2021-07-27 22:36:04.696 request id: app - uvicorn.server:serve - Finished server process [9941]
INFO     2021-07-27 22:36:04.696 request id: app - uvicorn.server:serve - Finished server process [9941]
INFO     2021-07-27 22:36:04.696 request id: app - uvicorn.server:serve - Finished server process [9941]
INFO     2021-07-27 22:36:05.756 request id: app - uvicorn.server:serve - Started server process [9951]
INFO     2021-07-27 22:36:05.757 request id: app - uvicorn.server:serve - Started server process [9951]
INFO     2021-07-27 22:36:05.757 request id: app - uvicorn.server:serve - Started server process [9951]
INFO     2021-07-27 22:36:05.757 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2021-07-27 22:36:05.758 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2021-07-27 22:36:05.758 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2021-07-27 22:36:05.759 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2021-07-27 22:36:05.759 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2021-07-27 22:36:05.760 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2021-07-27 22:36:07.842 request id: app - uvicorn.protocols.http.h11_impl:send - 74.125.212.133:0 - "POST /webhook HTTP/1.1" 200
INFO     2021-07-27 22:36:18.132 request id: app - uvicorn.protocols.http.h11_impl:send - 74.125.212.144:0 - "POST /webhook HTTP/1.1" 200
INFO     2021-07-27 22:36:26.443 request id: app - uvicorn.protocols.http.h11_impl:send - 66.249.83.84:0 - "POST /webhook HTTP/1.1" 200
INFO     2021-07-27 22:36:31.173 request id: app - uvicorn.protocols.http.h11_impl:send - 66.249.83.68:0 - "POST /webhook HTTP/1.1" 200
INFO     2021-07-27 22:36:38.567 request id: app - uvicorn.protocols.http.h11_impl:send - 66.249.83.89:0 - "POST /webhook HTTP/1.1" 200
INFO     2021-07-27 22:39:07.633 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:62229 - "PUT /product/610002789d4ff36dbbafa66d HTTP/1.1" 422
INFO     2021-07-27 22:41:22.510 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2021-07-27 22:41:22.511 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2021-07-27 22:41:22.511 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2021-07-27 22:41:22.617 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2021-07-27 22:41:22.617 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2021-07-27 22:41:22.617 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2021-07-27 22:41:22.618 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2021-07-27 22:41:22.619 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2021-07-27 22:41:22.619 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2021-07-27 22:41:22.619 request id: app - uvicorn.server:serve - Finished server process [9951]
INFO     2021-07-27 22:41:22.619 request id: app - uvicorn.server:serve - Finished server process [9951]
INFO     2021-07-27 22:41:22.619 request id: app - uvicorn.server:serve - Finished server process [9951]
INFO     2021-07-27 22:41:23.485 request id: app - uvicorn.server:serve - Started server process [10135]
INFO     2021-07-27 22:41:23.485 request id: app - uvicorn.server:serve - Started server process [10135]
INFO     2021-07-27 22:41:23.486 request id: app - uvicorn.server:serve - Started server process [10135]
INFO     2021-07-27 22:41:23.486 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2021-07-27 22:41:23.486 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2021-07-27 22:41:23.486 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2021-07-27 22:41:23.486 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2021-07-27 22:41:23.487 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2021-07-27 22:41:23.487 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2021-07-27 22:41:25.384 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:62821 - "PUT /product/610002789d4ff36dbbafa66d HTTP/1.1" 422
INFO     2021-07-27 22:41:29.633 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2021-07-27 22:41:29.634 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2021-07-27 22:41:29.634 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2021-07-27 22:41:29.735 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2021-07-27 22:41:29.735 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2021-07-27 22:41:29.735 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2021-07-27 22:41:29.736 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2021-07-27 22:41:29.736 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2021-07-27 22:41:29.737 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2021-07-27 22:41:29.737 request id: app - uvicorn.server:serve - Finished server process [10135]
INFO     2021-07-27 22:41:29.737 request id: app - uvicorn.server:serve - Finished server process [10135]
INFO     2021-07-27 22:41:29.737 request id: app - uvicorn.server:serve - Finished server process [10135]
INFO     2021-07-27 22:41:30.495 request id: app - uvicorn.server:serve - Started server process [10143]
INFO     2021-07-27 22:41:30.496 request id: app - uvicorn.server:serve - Started server process [10143]
INFO     2021-07-27 22:41:30.496 request id: app - uvicorn.server:serve - Started server process [10143]
INFO     2021-07-27 22:41:30.496 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2021-07-27 22:41:30.496 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2021-07-27 22:41:30.496 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2021-07-27 22:41:30.498 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2021-07-27 22:41:30.498 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2021-07-27 22:41:30.498 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2021-07-27 22:41:33.111 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2021-07-27 22:41:33.112 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2021-07-27 22:41:33.112 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2021-07-27 22:41:33.218 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2021-07-27 22:41:33.218 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2021-07-27 22:41:33.218 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2021-07-27 22:41:33.219 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2021-07-27 22:41:33.219 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2021-07-27 22:41:33.219 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2021-07-27 22:41:33.219 request id: app - uvicorn.server:serve - Finished server process [10143]
INFO     2021-07-27 22:41:33.219 request id: app - uvicorn.server:serve - Finished server process [10143]
INFO     2021-07-27 22:41:33.220 request id: app - uvicorn.server:serve - Finished server process [10143]
INFO     2021-07-27 22:41:33.979 request id: app - uvicorn.server:serve - Started server process [10145]
INFO     2021-07-27 22:41:33.980 request id: app - uvicorn.server:serve - Started server process [10145]
INFO     2021-07-27 22:41:33.980 request id: app - uvicorn.server:serve - Started server process [10145]
INFO     2021-07-27 22:41:33.980 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2021-07-27 22:41:33.980 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2021-07-27 22:41:33.980 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2021-07-27 22:41:33.981 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2021-07-27 22:41:33.982 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2021-07-27 22:41:33.982 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2021-07-27 22:41:35.677 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:62874 - "PUT /product/610002789d4ff36dbbafa66d HTTP/1.1" 422
INFO     2021-07-27 22:41:40.251 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2021-07-27 22:41:40.252 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2021-07-27 22:41:40.252 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2021-07-27 22:41:40.358 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2021-07-27 22:41:40.358 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2021-07-27 22:41:40.358 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2021-07-27 22:41:40.359 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2021-07-27 22:41:40.359 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2021-07-27 22:41:40.359 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2021-07-27 22:41:40.360 request id: app - uvicorn.server:serve - Finished server process [10145]
INFO     2021-07-27 22:41:40.360 request id: app - uvicorn.server:serve - Finished server process [10145]
INFO     2021-07-27 22:41:40.360 request id: app - uvicorn.server:serve - Finished server process [10145]
INFO     2021-07-27 22:41:40.918 request id: app - uvicorn.server:serve - Started server process [10149]
INFO     2021-07-27 22:41:40.919 request id: app - uvicorn.server:serve - Started server process [10149]
INFO     2021-07-27 22:41:40.919 request id: app - uvicorn.server:serve - Started server process [10149]
INFO     2021-07-27 22:41:40.919 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2021-07-27 22:41:40.919 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2021-07-27 22:41:40.919 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2021-07-27 22:41:40.920 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2021-07-27 22:41:40.921 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2021-07-27 22:41:40.921 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2021-07-27 22:42:15.972 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2021-07-27 22:42:15.973 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2021-07-27 22:42:15.973 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2021-07-27 22:42:16.079 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2021-07-27 22:42:16.079 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2021-07-27 22:42:16.079 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2021-07-27 22:42:16.080 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2021-07-27 22:42:16.081 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2021-07-27 22:42:16.081 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2021-07-27 22:42:16.081 request id: app - uvicorn.server:serve - Finished server process [10149]
INFO     2021-07-27 22:42:16.081 request id: app - uvicorn.server:serve - Finished server process [10149]
INFO     2021-07-27 22:42:16.081 request id: app - uvicorn.server:serve - Finished server process [10149]
INFO     2021-07-27 22:42:16.621 request id: app - uvicorn.server:serve - Started server process [10157]
INFO     2021-07-27 22:42:16.621 request id: app - uvicorn.server:serve - Started server process [10157]
INFO     2021-07-27 22:42:16.622 request id: app - uvicorn.server:serve - Started server process [10157]
INFO     2021-07-27 22:42:16.622 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2021-07-27 22:42:16.622 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2021-07-27 22:42:16.622 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2021-07-27 22:42:16.623 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2021-07-27 22:42:16.623 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2021-07-27 22:42:16.623 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2021-07-27 22:42:18.814 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:63055 - "PUT /product/610002789d4ff36dbbafa66d HTTP/1.1" 422
INFO     2021-07-27 22:42:23.910 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2021-07-27 22:42:23.911 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2021-07-27 22:42:23.911 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2021-07-27 22:42:24.017 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2021-07-27 22:42:24.017 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2021-07-27 22:42:24.018 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2021-07-27 22:42:24.018 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2021-07-27 22:42:24.019 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2021-07-27 22:42:24.019 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2021-07-27 22:42:24.019 request id: app - uvicorn.server:serve - Finished server process [10157]
INFO     2021-07-27 22:42:24.019 request id: app - uvicorn.server:serve - Finished server process [10157]
INFO     2021-07-27 22:42:24.019 request id: app - uvicorn.server:serve - Finished server process [10157]
INFO     2021-07-27 22:42:24.589 request id: app - uvicorn.server:serve - Started server process [10161]
INFO     2021-07-27 22:42:24.589 request id: app - uvicorn.server:serve - Started server process [10161]
INFO     2021-07-27 22:42:24.589 request id: app - uvicorn.server:serve - Started server process [10161]
INFO     2021-07-27 22:42:24.590 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2021-07-27 22:42:24.590 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2021-07-27 22:42:24.590 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2021-07-27 22:42:24.591 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2021-07-27 22:42:24.591 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2021-07-27 22:42:24.591 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2021-07-27 22:42:31.785 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2021-07-27 22:42:31.787 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2021-07-27 22:42:31.787 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2021-07-27 22:42:31.893 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2021-07-27 22:42:31.894 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2021-07-27 22:42:31.894 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2021-07-27 22:42:31.895 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2021-07-27 22:42:31.895 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2021-07-27 22:42:31.895 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2021-07-27 22:42:31.895 request id: app - uvicorn.server:serve - Finished server process [10161]
INFO     2021-07-27 22:42:31.896 request id: app - uvicorn.server:serve - Finished server process [10161]
INFO     2021-07-27 22:42:31.896 request id: app - uvicorn.server:serve - Finished server process [10161]
INFO     2021-07-27 22:42:32.604 request id: app - uvicorn.server:serve - Started server process [10166]
INFO     2021-07-27 22:42:32.605 request id: app - uvicorn.server:serve - Started server process [10166]
INFO     2021-07-27 22:42:32.605 request id: app - uvicorn.server:serve - Started server process [10166]
INFO     2021-07-27 22:42:32.605 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2021-07-27 22:42:32.605 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2021-07-27 22:42:32.606 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2021-07-27 22:42:32.606 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2021-07-27 22:42:32.606 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2021-07-27 22:42:32.606 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2021-07-27 22:42:33.946 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:63128 - "PUT /product/610002789d4ff36dbbafa66d HTTP/1.1" 422
INFO     2021-07-27 22:42:46.357 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2021-07-27 22:42:46.358 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2021-07-27 22:42:46.358 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2021-07-27 22:42:46.463 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2021-07-27 22:42:46.464 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2021-07-27 22:42:46.464 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2021-07-27 22:42:46.465 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2021-07-27 22:42:46.465 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2021-07-27 22:42:46.465 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2021-07-27 22:42:46.465 request id: app - uvicorn.server:serve - Finished server process [10166]
INFO     2021-07-27 22:42:46.465 request id: app - uvicorn.server:serve - Finished server process [10166]
INFO     2021-07-27 22:42:46.465 request id: app - uvicorn.server:serve - Finished server process [10166]
INFO     2021-07-27 22:42:47.126 request id: app - uvicorn.server:serve - Started server process [10171]
INFO     2021-07-27 22:42:47.126 request id: app - uvicorn.server:serve - Started server process [10171]
INFO     2021-07-27 22:42:47.126 request id: app - uvicorn.server:serve - Started server process [10171]
INFO     2021-07-27 22:42:47.127 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2021-07-27 22:42:47.127 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2021-07-27 22:42:47.127 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2021-07-27 22:42:47.128 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2021-07-27 22:42:47.128 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2021-07-27 22:42:47.128 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2021-07-27 22:43:09.010 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2021-07-27 22:43:09.011 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2021-07-27 22:43:09.011 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2021-07-27 22:43:09.113 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2021-07-27 22:43:09.114 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2021-07-27 22:43:09.114 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2021-07-27 22:43:09.114 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2021-07-27 22:43:09.115 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2021-07-27 22:43:09.115 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2021-07-27 22:43:09.115 request id: app - uvicorn.server:serve - Finished server process [10171]
INFO     2021-07-27 22:43:09.116 request id: app - uvicorn.server:serve - Finished server process [10171]
INFO     2021-07-27 22:43:09.116 request id: app - uvicorn.server:serve - Finished server process [10171]
INFO     2021-07-27 22:43:09.788 request id: app - uvicorn.server:serve - Started server process [10174]
INFO     2021-07-27 22:43:09.788 request id: app - uvicorn.server:serve - Started server process [10174]
INFO     2021-07-27 22:43:09.788 request id: app - uvicorn.server:serve - Started server process [10174]
INFO     2021-07-27 22:43:09.789 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2021-07-27 22:43:09.789 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2021-07-27 22:43:09.789 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2021-07-27 22:43:09.791 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2021-07-27 22:43:09.791 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2021-07-27 22:43:09.791 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2021-07-27 22:43:11.326 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:63287 - "PUT /product/610002789d4ff36dbbafa66d HTTP/1.1" 422
INFO     2021-07-27 22:43:15.409 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2021-07-27 22:43:15.410 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2021-07-27 22:43:15.410 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2021-07-27 22:43:15.515 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2021-07-27 22:43:15.516 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2021-07-27 22:43:15.516 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2021-07-27 22:43:15.517 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2021-07-27 22:43:15.517 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2021-07-27 22:43:15.517 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2021-07-27 22:43:15.518 request id: app - uvicorn.server:serve - Finished server process [10174]
INFO     2021-07-27 22:43:15.518 request id: app - uvicorn.server:serve - Finished server process [10174]
INFO     2021-07-27 22:43:15.518 request id: app - uvicorn.server:serve - Finished server process [10174]
INFO     2021-07-27 22:43:16.262 request id: app - uvicorn.server:serve - Started server process [10178]
INFO     2021-07-27 22:43:16.263 request id: app - uvicorn.server:serve - Started server process [10178]
INFO     2021-07-27 22:43:16.263 request id: app - uvicorn.server:serve - Started server process [10178]
INFO     2021-07-27 22:43:16.264 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2021-07-27 22:43:16.264 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2021-07-27 22:43:16.264 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2021-07-27 22:43:16.265 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2021-07-27 22:43:16.265 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2021-07-27 22:43:16.266 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2021-07-27 22:43:40.060 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2021-07-27 22:43:40.060 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2021-07-27 22:43:40.060 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2021-07-27 22:43:40.166 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2021-07-27 22:43:40.166 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2021-07-27 22:43:40.166 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2021-07-27 22:43:40.167 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2021-07-27 22:43:40.167 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2021-07-27 22:43:40.168 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2021-07-27 22:43:40.168 request id: app - uvicorn.server:serve - Finished server process [10178]
INFO     2021-07-27 22:43:40.168 request id: app - uvicorn.server:serve - Finished server process [10178]
INFO     2021-07-27 22:43:40.168 request id: app - uvicorn.server:serve - Finished server process [10178]
INFO     2021-07-27 22:43:41.039 request id: app - uvicorn.server:serve - Started server process [10181]
INFO     2021-07-27 22:43:41.039 request id: app - uvicorn.server:serve - Started server process [10181]
INFO     2021-07-27 22:43:41.040 request id: app - uvicorn.server:serve - Started server process [10181]
INFO     2021-07-27 22:43:41.040 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2021-07-27 22:43:41.040 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2021-07-27 22:43:41.040 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2021-07-27 22:43:41.041 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2021-07-27 22:43:41.041 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2021-07-27 22:43:41.041 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2021-07-27 22:43:41.816 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:63418 - "PUT /product/610002789d4ff36dbbafa66d HTTP/1.1" 422
INFO     2021-07-27 22:43:43.802 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:63418 - "PUT /product/610002789d4ff36dbbafa66d HTTP/1.1" 422
INFO     2021-07-27 22:44:16.599 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2021-07-27 22:44:16.601 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2021-07-27 22:44:16.601 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2021-07-27 22:44:16.706 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2021-07-27 22:44:16.707 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2021-07-27 22:44:16.707 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2021-07-27 22:44:16.707 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2021-07-27 22:44:16.708 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2021-07-27 22:44:16.708 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2021-07-27 22:44:16.708 request id: app - uvicorn.server:serve - Finished server process [10181]
INFO     2021-07-27 22:44:16.708 request id: app - uvicorn.server:serve - Finished server process [10181]
INFO     2021-07-27 22:44:16.708 request id: app - uvicorn.server:serve - Finished server process [10181]
INFO     2021-07-27 22:44:17.230 request id: app - uvicorn.server:serve - Started server process [10188]
INFO     2021-07-27 22:44:17.230 request id: app - uvicorn.server:serve - Started server process [10188]
INFO     2021-07-27 22:44:17.230 request id: app - uvicorn.server:serve - Started server process [10188]
INFO     2021-07-27 22:44:17.231 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2021-07-27 22:44:17.231 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2021-07-27 22:44:17.231 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2021-07-27 22:44:17.231 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2021-07-27 22:44:17.231 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2021-07-27 22:44:17.232 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2021-07-27 22:44:19.645 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:63581 - "PUT /product/610002789d4ff36dbbafa66d HTTP/1.1" 400
INFO     2021-07-27 22:44:36.608 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2021-07-27 22:44:36.609 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2021-07-27 22:44:36.609 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2021-07-27 22:44:36.715 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2021-07-27 22:44:36.715 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2021-07-27 22:44:36.715 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2021-07-27 22:44:36.716 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2021-07-27 22:44:36.716 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2021-07-27 22:44:36.716 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2021-07-27 22:44:36.717 request id: app - uvicorn.server:serve - Finished server process [10188]
INFO     2021-07-27 22:44:36.717 request id: app - uvicorn.server:serve - Finished server process [10188]
INFO     2021-07-27 22:44:36.717 request id: app - uvicorn.server:serve - Finished server process [10188]
INFO     2021-07-27 22:44:37.373 request id: app - uvicorn.server:serve - Started server process [10202]
INFO     2021-07-27 22:44:37.373 request id: app - uvicorn.server:serve - Started server process [10202]
INFO     2021-07-27 22:44:37.373 request id: app - uvicorn.server:serve - Started server process [10202]
INFO     2021-07-27 22:44:37.373 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2021-07-27 22:44:37.374 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2021-07-27 22:44:37.374 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2021-07-27 22:44:37.374 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2021-07-27 22:44:37.375 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2021-07-27 22:44:37.375 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2021-07-27 22:44:38.685 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:63665 - "PUT /product/610002789d4ff36dbbafa66d HTTP/1.1" 400
INFO     2021-07-27 22:45:08.244 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2021-07-27 22:45:08.245 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2021-07-27 22:45:08.245 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2021-07-27 22:45:08.351 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2021-07-27 22:45:08.351 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2021-07-27 22:45:08.351 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2021-07-27 22:45:08.352 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2021-07-27 22:45:08.353 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2021-07-27 22:45:08.353 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2021-07-27 22:45:08.353 request id: app - uvicorn.server:serve - Finished server process [10202]
INFO     2021-07-27 22:45:08.353 request id: app - uvicorn.server:serve - Finished server process [10202]
INFO     2021-07-27 22:45:08.353 request id: app - uvicorn.server:serve - Finished server process [10202]
INFO     2021-07-27 22:45:09.102 request id: app - uvicorn.server:serve - Started server process [10209]
INFO     2021-07-27 22:45:09.102 request id: app - uvicorn.server:serve - Started server process [10209]
INFO     2021-07-27 22:45:09.102 request id: app - uvicorn.server:serve - Started server process [10209]
INFO     2021-07-27 22:45:09.102 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2021-07-27 22:45:09.103 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2021-07-27 22:45:09.103 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2021-07-27 22:45:09.104 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2021-07-27 22:45:09.104 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2021-07-27 22:45:09.104 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2021-07-27 22:45:10.619 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:63801 - "PUT /product/610002789d4ff36dbbafa66d HTTP/1.1" 200
INFO     2021-07-27 22:45:27.758 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2021-07-27 22:45:27.759 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2021-07-27 22:45:27.759 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2021-07-27 22:45:27.865 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2021-07-27 22:45:27.865 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2021-07-27 22:45:27.865 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2021-07-27 22:45:27.866 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2021-07-27 22:45:27.866 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2021-07-27 22:45:27.866 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2021-07-27 22:45:27.867 request id: app - uvicorn.server:serve - Finished server process [10209]
INFO     2021-07-27 22:45:27.867 request id: app - uvicorn.server:serve - Finished server process [10209]
INFO     2021-07-27 22:45:27.867 request id: app - uvicorn.server:serve - Finished server process [10209]
INFO     2021-07-27 22:45:28.877 request id: app - uvicorn.server:serve - Started server process [10215]
INFO     2021-07-27 22:45:28.878 request id: app - uvicorn.server:serve - Started server process [10215]
INFO     2021-07-27 22:45:28.878 request id: app - uvicorn.server:serve - Started server process [10215]
INFO     2021-07-27 22:45:28.878 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2021-07-27 22:45:28.878 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2021-07-27 22:45:28.878 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2021-07-27 22:45:28.879 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2021-07-27 22:45:28.879 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2021-07-27 22:45:28.880 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2021-07-27 22:45:29.635 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:63885 - "PUT /product/610002789d4ff36dbbafa66d HTTP/1.1" 400
INFO     2021-07-27 22:45:45.580 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2021-07-27 22:45:45.581 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2021-07-27 22:45:45.581 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2021-07-27 22:45:45.686 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2021-07-27 22:45:45.687 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2021-07-27 22:45:45.687 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2021-07-27 22:45:45.687 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2021-07-27 22:45:45.688 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2021-07-27 22:45:45.688 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2021-07-27 22:45:45.688 request id: app - uvicorn.server:serve - Finished server process [10215]
INFO     2021-07-27 22:45:45.688 request id: app - uvicorn.server:serve - Finished server process [10215]
INFO     2021-07-27 22:45:45.688 request id: app - uvicorn.server:serve - Finished server process [10215]
INFO     2021-07-27 22:45:46.534 request id: app - uvicorn.server:serve - Started server process [10220]
INFO     2021-07-27 22:45:46.535 request id: app - uvicorn.server:serve - Started server process [10220]
INFO     2021-07-27 22:45:46.536 request id: app - uvicorn.server:serve - Started server process [10220]
INFO     2021-07-27 22:45:46.536 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2021-07-27 22:45:46.537 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2021-07-27 22:45:46.537 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2021-07-27 22:45:46.538 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2021-07-27 22:45:46.538 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2021-07-27 22:45:46.538 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2021-07-27 22:45:47.845 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:63963 - "PUT /product/610002789d4ff36dbbafa66d HTTP/1.1" 400
INFO     2021-07-27 22:46:16.130 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2021-07-27 22:46:16.131 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2021-07-27 22:46:16.131 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2021-07-27 22:46:16.239 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2021-07-27 22:46:16.240 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2021-07-27 22:46:16.240 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2021-07-27 22:46:16.241 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2021-07-27 22:46:16.241 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2021-07-27 22:46:16.241 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2021-07-27 22:46:16.241 request id: app - uvicorn.server:serve - Finished server process [10220]
INFO     2021-07-27 22:46:16.241 request id: app - uvicorn.server:serve - Finished server process [10220]
INFO     2021-07-27 22:46:16.242 request id: app - uvicorn.server:serve - Finished server process [10220]
INFO     2021-07-27 22:46:17.108 request id: app - uvicorn.server:serve - Started server process [10227]
INFO     2021-07-27 22:46:17.108 request id: app - uvicorn.server:serve - Started server process [10227]
INFO     2021-07-27 22:46:17.108 request id: app - uvicorn.server:serve - Started server process [10227]
INFO     2021-07-27 22:46:17.108 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2021-07-27 22:46:17.109 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2021-07-27 22:46:17.109 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2021-07-27 22:46:17.110 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2021-07-27 22:46:17.110 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2021-07-27 22:46:17.110 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2021-07-27 22:46:18.743 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:64097 - "PUT /product/610002789d4ff36dbbafa66d HTTP/1.1" 400
INFO     2021-07-27 22:46:40.796 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2021-07-27 22:46:40.801 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2021-07-27 22:46:40.801 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2021-07-27 22:46:40.906 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2021-07-27 22:46:40.907 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2021-07-27 22:46:40.907 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2021-07-27 22:46:40.908 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2021-07-27 22:46:40.908 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2021-07-27 22:46:40.908 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2021-07-27 22:46:40.908 request id: app - uvicorn.server:serve - Finished server process [10227]
INFO     2021-07-27 22:46:40.908 request id: app - uvicorn.server:serve - Finished server process [10227]
INFO     2021-07-27 22:46:40.909 request id: app - uvicorn.server:serve - Finished server process [10227]
INFO     2021-07-27 22:46:41.737 request id: app - uvicorn.server:serve - Started server process [10232]
INFO     2021-07-27 22:46:41.738 request id: app - uvicorn.server:serve - Started server process [10232]
INFO     2021-07-27 22:46:41.738 request id: app - uvicorn.server:serve - Started server process [10232]
INFO     2021-07-27 22:46:41.738 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2021-07-27 22:46:41.738 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2021-07-27 22:46:41.738 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2021-07-27 22:46:41.739 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2021-07-27 22:46:41.739 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2021-07-27 22:46:41.739 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2021-07-27 22:47:06.537 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2021-07-27 22:47:06.539 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2021-07-27 22:47:06.539 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2021-07-27 22:47:06.644 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2021-07-27 22:47:06.645 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2021-07-27 22:47:06.645 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2021-07-27 22:47:06.646 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2021-07-27 22:47:06.646 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2021-07-27 22:47:06.646 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2021-07-27 22:47:06.647 request id: app - uvicorn.server:serve - Finished server process [10232]
INFO     2021-07-27 22:47:06.647 request id: app - uvicorn.server:serve - Finished server process [10232]
INFO     2021-07-27 22:47:06.647 request id: app - uvicorn.server:serve - Finished server process [10232]
INFO     2021-07-27 22:47:07.527 request id: app - uvicorn.server:serve - Started server process [10241]
INFO     2021-07-27 22:47:07.529 request id: app - uvicorn.server:serve - Started server process [10241]
INFO     2021-07-27 22:47:07.529 request id: app - uvicorn.server:serve - Started server process [10241]
INFO     2021-07-27 22:47:07.530 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2021-07-27 22:47:07.530 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2021-07-27 22:47:07.530 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2021-07-27 22:47:07.530 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2021-07-27 22:47:07.530 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2021-07-27 22:47:07.531 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2021-07-27 22:47:08.571 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:64306 - "PUT /product/610002789d4ff36dbbafa66d HTTP/1.1" 400
INFO     2021-07-27 22:47:13.780 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2021-07-27 22:47:13.781 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2021-07-27 22:47:13.781 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2021-07-27 22:47:13.886 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2021-07-27 22:47:13.887 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2021-07-27 22:47:13.887 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2021-07-27 22:47:13.888 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2021-07-27 22:47:13.888 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2021-07-27 22:47:13.888 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2021-07-27 22:47:13.888 request id: app - uvicorn.server:serve - Finished server process [10241]
INFO     2021-07-27 22:47:13.888 request id: app - uvicorn.server:serve - Finished server process [10241]
INFO     2021-07-27 22:47:13.889 request id: app - uvicorn.server:serve - Finished server process [10241]
INFO     2021-07-27 22:47:14.654 request id: app - uvicorn.server:serve - Started server process [10245]
INFO     2021-07-27 22:47:14.654 request id: app - uvicorn.server:serve - Started server process [10245]
INFO     2021-07-27 22:47:14.655 request id: app - uvicorn.server:serve - Started server process [10245]
INFO     2021-07-27 22:47:14.655 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2021-07-27 22:47:14.655 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2021-07-27 22:47:14.655 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2021-07-27 22:47:14.656 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2021-07-27 22:47:14.656 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2021-07-27 22:47:14.656 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2021-07-27 22:47:15.560 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:64341 - "PUT /product/610002789d4ff36dbbafa66d HTTP/1.1" 200
INFO     2021-07-27 22:47:19.336 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2021-07-27 22:47:19.337 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2021-07-27 22:47:19.337 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2021-07-27 22:47:19.443 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2021-07-27 22:47:19.444 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2021-07-27 22:47:19.444 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2021-07-27 22:47:19.444 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2021-07-27 22:47:19.445 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2021-07-27 22:47:19.445 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2021-07-27 22:47:19.445 request id: app - uvicorn.server:serve - Finished server process [10245]
INFO     2021-07-27 22:47:19.445 request id: app - uvicorn.server:serve - Finished server process [10245]
INFO     2021-07-27 22:47:19.445 request id: app - uvicorn.server:serve - Finished server process [10245]
INFO     2021-07-27 22:47:20.118 request id: app - uvicorn.server:serve - Started server process [10250]
INFO     2021-07-27 22:47:20.118 request id: app - uvicorn.server:serve - Started server process [10250]
INFO     2021-07-27 22:47:20.118 request id: app - uvicorn.server:serve - Started server process [10250]
INFO     2021-07-27 22:47:20.119 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2021-07-27 22:47:20.119 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2021-07-27 22:47:20.119 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2021-07-27 22:47:20.120 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2021-07-27 22:47:20.120 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2021-07-27 22:47:20.120 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2021-07-27 22:47:21.972 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:64375 - "PUT /product/610002789d4ff36dbbafa66d HTTP/1.1" 400
INFO     2021-07-27 22:47:47.108 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2021-07-27 22:47:47.109 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2021-07-27 22:47:47.109 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2021-07-27 22:47:47.215 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2021-07-27 22:47:47.215 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2021-07-27 22:47:47.215 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2021-07-27 22:47:47.216 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2021-07-27 22:47:47.217 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2021-07-27 22:47:47.217 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2021-07-27 22:47:47.217 request id: app - uvicorn.server:serve - Finished server process [10250]
INFO     2021-07-27 22:47:47.217 request id: app - uvicorn.server:serve - Finished server process [10250]
INFO     2021-07-27 22:47:47.217 request id: app - uvicorn.server:serve - Finished server process [10250]
INFO     2021-07-27 22:47:47.753 request id: app - uvicorn.server:serve - Started server process [10257]
INFO     2021-07-27 22:47:47.755 request id: app - uvicorn.server:serve - Started server process [10257]
INFO     2021-07-27 22:47:47.755 request id: app - uvicorn.server:serve - Started server process [10257]
INFO     2021-07-27 22:47:47.755 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2021-07-27 22:47:47.755 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2021-07-27 22:47:47.755 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2021-07-27 22:47:47.756 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2021-07-27 22:47:47.756 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2021-07-27 22:47:47.756 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2021-07-27 22:47:49.305 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:64491 - "PUT /product/610002789d4ff36dbbafa66d HTTP/1.1" 400
INFO     2021-07-27 22:47:56.916 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2021-07-27 22:47:56.917 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2021-07-27 22:47:56.917 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2021-07-27 22:47:57.023 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2021-07-27 22:47:57.024 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2021-07-27 22:47:57.024 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2021-07-27 22:47:57.025 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2021-07-27 22:47:57.025 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2021-07-27 22:47:57.025 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2021-07-27 22:47:57.026 request id: app - uvicorn.server:serve - Finished server process [10257]
INFO     2021-07-27 22:47:57.026 request id: app - uvicorn.server:serve - Finished server process [10257]
INFO     2021-07-27 22:47:57.026 request id: app - uvicorn.server:serve - Finished server process [10257]
INFO     2021-07-27 22:47:57.789 request id: app - uvicorn.server:serve - Started server process [10261]
INFO     2021-07-27 22:47:57.790 request id: app - uvicorn.server:serve - Started server process [10261]
INFO     2021-07-27 22:47:57.790 request id: app - uvicorn.server:serve - Started server process [10261]
INFO     2021-07-27 22:47:57.790 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2021-07-27 22:47:57.790 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2021-07-27 22:47:57.790 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2021-07-27 22:47:57.792 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2021-07-27 22:47:57.792 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2021-07-27 22:47:57.792 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2021-07-27 22:49:10.124 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2021-07-27 22:49:10.125 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2021-07-27 22:49:10.125 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2021-07-27 22:49:10.231 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2021-07-27 22:49:10.231 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2021-07-27 22:49:10.231 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2021-07-27 22:49:10.232 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2021-07-27 22:49:10.232 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2021-07-27 22:49:10.232 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2021-07-27 22:49:10.233 request id: app - uvicorn.server:serve - Finished server process [10261]
INFO     2021-07-27 22:49:10.233 request id: app - uvicorn.server:serve - Finished server process [10261]
INFO     2021-07-27 22:49:10.233 request id: app - uvicorn.server:serve - Finished server process [10261]
INFO     2021-07-27 22:49:10.856 request id: app - uvicorn.server:serve - Started server process [10272]
INFO     2021-07-27 22:49:10.856 request id: app - uvicorn.server:serve - Started server process [10272]
INFO     2021-07-27 22:49:10.856 request id: app - uvicorn.server:serve - Started server process [10272]
INFO     2021-07-27 22:49:10.856 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2021-07-27 22:49:10.857 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2021-07-27 22:49:10.857 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2021-07-27 22:49:10.858 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2021-07-27 22:49:10.858 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2021-07-27 22:49:10.858 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2021-07-27 22:49:17.162 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:64859 - "GET /product/page?limit=10&offset=0&filter= HTTP/1.1" 200
INFO     2021-07-27 22:49:20.206 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:64859 - "GET /product/page?limit=10&offset=0&filter=test HTTP/1.1" 200
INFO     2021-07-27 22:49:22.356 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:64859 - "GET /product/610002789d4ff36dbbafa66d HTTP/1.1" 200
INFO     2021-07-27 22:49:31.182 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:64920 - "OPTIONS /product/610002789d4ff36dbbafa66d HTTP/1.1" 200
INFO     2021-07-27 22:49:31.209 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:64920 - "PUT /product/610002789d4ff36dbbafa66d HTTP/1.1" 400
INFO     2021-07-27 22:49:48.699 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:64994 - "PUT /product/610002789d4ff36dbbafa66d HTTP/1.1" 400
INFO     2021-07-27 22:50:52.659 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:65252 - "PUT /product/610002789d4ff36dbbafa66d HTTP/1.1" 400
INFO     2021-07-27 22:51:07.521 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:65316 - "PUT /product/610002789d4ff36dbbafa66d HTTP/1.1" 400
INFO     2021-07-27 22:51:40.515 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:65454 - "GET /product/610002789d4ff36dbbafa66d HTTP/1.1" 200
INFO     2021-07-27 22:51:46.951 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:65484 - "PUT /product/610002789d4ff36dbbafa66d HTTP/1.1" 400
INFO     2021-07-27 22:52:30.925 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:49279 - "GET /product/610002789d4ff36dbbafa66d HTTP/1.1" 200
INFO     2021-07-27 22:53:16.165 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2021-07-27 22:53:16.166 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2021-07-27 22:53:16.166 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2021-07-27 22:53:16.272 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2021-07-27 22:53:16.272 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2021-07-27 22:53:16.273 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2021-07-27 22:53:16.274 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2021-07-27 22:53:16.274 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2021-07-27 22:53:16.274 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2021-07-27 22:53:16.274 request id: app - uvicorn.server:serve - Finished server process [10272]
INFO     2021-07-27 22:53:16.274 request id: app - uvicorn.server:serve - Finished server process [10272]
INFO     2021-07-27 22:53:16.275 request id: app - uvicorn.server:serve - Finished server process [10272]
INFO     2021-07-27 22:53:17.505 request id: app - uvicorn.server:serve - Started server process [10320]
INFO     2021-07-27 22:53:17.505 request id: app - uvicorn.server:serve - Started server process [10320]
INFO     2021-07-27 22:53:17.506 request id: app - uvicorn.server:serve - Started server process [10320]
INFO     2021-07-27 22:53:17.506 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2021-07-27 22:53:17.506 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2021-07-27 22:53:17.506 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2021-07-27 22:53:17.507 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2021-07-27 22:53:17.507 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2021-07-27 22:53:17.507 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2021-07-27 22:53:25.171 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:49505 - "PUT /product/610002789d4ff36dbbafa66d HTTP/1.1" 400
INFO     2021-07-27 22:54:07.982 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2021-07-27 22:54:07.983 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2021-07-27 22:54:07.983 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2021-07-27 22:54:08.090 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2021-07-27 22:54:08.090 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2021-07-27 22:54:08.090 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2021-07-27 22:54:08.091 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2021-07-27 22:54:08.091 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2021-07-27 22:54:08.091 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2021-07-27 22:54:08.092 request id: app - uvicorn.server:serve - Finished server process [10320]
INFO     2021-07-27 22:54:08.092 request id: app - uvicorn.server:serve - Finished server process [10320]
INFO     2021-07-27 22:54:08.092 request id: app - uvicorn.server:serve - Finished server process [10320]
INFO     2021-07-27 22:54:08.972 request id: app - uvicorn.server:serve - Started server process [10342]
INFO     2021-07-27 22:54:08.973 request id: app - uvicorn.server:serve - Started server process [10342]
INFO     2021-07-27 22:54:08.973 request id: app - uvicorn.server:serve - Started server process [10342]
INFO     2021-07-27 22:54:08.973 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2021-07-27 22:54:08.973 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2021-07-27 22:54:08.973 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2021-07-27 22:54:08.975 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2021-07-27 22:54:08.976 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2021-07-27 22:54:08.976 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2021-07-27 22:55:01.999 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2021-07-27 22:55:02.000 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2021-07-27 22:55:02.000 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2021-07-27 22:55:02.106 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2021-07-27 22:55:02.106 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2021-07-27 22:55:02.106 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2021-07-27 22:55:02.107 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2021-07-27 22:55:02.107 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2021-07-27 22:55:02.107 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2021-07-27 22:55:02.108 request id: app - uvicorn.server:serve - Finished server process [10342]
INFO     2021-07-27 22:55:02.108 request id: app - uvicorn.server:serve - Finished server process [10342]
INFO     2021-07-27 22:55:02.108 request id: app - uvicorn.server:serve - Finished server process [10342]
INFO     2021-07-27 22:55:02.925 request id: app - uvicorn.server:serve - Started server process [10358]
INFO     2021-07-27 22:55:02.925 request id: app - uvicorn.server:serve - Started server process [10358]
INFO     2021-07-27 22:55:02.925 request id: app - uvicorn.server:serve - Started server process [10358]
INFO     2021-07-27 22:55:02.925 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2021-07-27 22:55:02.926 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2021-07-27 22:55:02.926 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2021-07-27 22:55:02.927 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2021-07-27 22:55:02.927 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2021-07-27 22:55:02.927 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2021-07-27 22:55:04.784 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:49956 - "PUT /product/610002789d4ff36dbbafa66d HTTP/1.1" 400
INFO     2021-07-27 22:55:12.728 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:49993 - "PUT /product/610002789d4ff36dbbafa66d HTTP/1.1" 400
INFO     2021-07-27 22:55:29.382 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2021-07-27 22:55:29.383 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2021-07-27 22:55:29.383 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2021-07-27 22:55:29.486 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2021-07-27 22:55:29.486 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2021-07-27 22:55:29.486 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2021-07-27 22:55:29.487 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2021-07-27 22:55:29.487 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2021-07-27 22:55:29.488 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2021-07-27 22:55:29.488 request id: app - uvicorn.server:serve - Finished server process [10358]
INFO     2021-07-27 22:55:29.489 request id: app - uvicorn.server:serve - Finished server process [10358]
INFO     2021-07-27 22:55:29.489 request id: app - uvicorn.server:serve - Finished server process [10358]
INFO     2021-07-27 22:55:30.109 request id: app - uvicorn.server:serve - Started server process [10362]
INFO     2021-07-27 22:55:30.110 request id: app - uvicorn.server:serve - Started server process [10362]
INFO     2021-07-27 22:55:30.110 request id: app - uvicorn.server:serve - Started server process [10362]
INFO     2021-07-27 22:55:30.110 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2021-07-27 22:55:30.110 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2021-07-27 22:55:30.110 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2021-07-27 22:55:30.111 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2021-07-27 22:55:30.111 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2021-07-27 22:55:30.111 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2021-07-27 22:55:31.740 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:50074 - "PUT /product/610002789d4ff36dbbafa66d HTTP/1.1" 400
INFO     2021-07-27 22:56:31.796 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2021-07-27 22:56:31.797 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2021-07-27 22:56:31.797 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2021-07-27 22:56:31.910 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2021-07-27 22:56:31.910 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2021-07-27 22:56:31.910 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2021-07-27 22:56:31.913 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2021-07-27 22:56:31.913 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2021-07-27 22:56:31.914 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2021-07-27 22:56:31.915 request id: app - uvicorn.server:serve - Finished server process [10362]
INFO     2021-07-27 22:56:31.915 request id: app - uvicorn.server:serve - Finished server process [10362]
INFO     2021-07-27 22:56:31.916 request id: app - uvicorn.server:serve - Finished server process [10362]
INFO     2021-07-27 22:56:32.896 request id: app - uvicorn.server:serve - Started server process [10368]
INFO     2021-07-27 22:56:32.897 request id: app - uvicorn.server:serve - Started server process [10368]
INFO     2021-07-27 22:56:32.897 request id: app - uvicorn.server:serve - Started server process [10368]
INFO     2021-07-27 22:56:32.897 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2021-07-27 22:56:32.897 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2021-07-27 22:56:32.897 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2021-07-27 22:56:32.899 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2021-07-27 22:56:32.899 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2021-07-27 22:56:32.899 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2021-07-27 22:57:36.963 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2021-07-27 22:57:36.964 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2021-07-27 22:57:36.964 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2021-07-27 22:57:37.070 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2021-07-27 22:57:37.070 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2021-07-27 22:57:37.070 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2021-07-27 22:57:37.071 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2021-07-27 22:57:37.072 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2021-07-27 22:57:37.072 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2021-07-27 22:57:37.072 request id: app - uvicorn.server:serve - Finished server process [10368]
INFO     2021-07-27 22:57:37.072 request id: app - uvicorn.server:serve - Finished server process [10368]
INFO     2021-07-27 22:57:37.072 request id: app - uvicorn.server:serve - Finished server process [10368]
INFO     2021-07-27 22:57:38.028 request id: app - uvicorn.server:serve - Started server process [10396]
INFO     2021-07-27 22:57:38.029 request id: app - uvicorn.server:serve - Started server process [10396]
INFO     2021-07-27 22:57:38.029 request id: app - uvicorn.server:serve - Started server process [10396]
INFO     2021-07-27 22:57:38.029 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2021-07-27 22:57:38.029 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2021-07-27 22:57:38.029 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2021-07-27 22:57:38.031 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2021-07-27 22:57:38.031 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2021-07-27 22:57:38.031 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2021-07-27 22:57:38.886 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:50600 - "PUT /product/610002789d4ff36dbbafa66d HTTP/1.1" 400
INFO     2021-07-27 22:58:37.197 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2021-07-27 22:58:37.198 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2021-07-27 22:58:37.198 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2021-07-27 22:58:37.303 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2021-07-27 22:58:37.304 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2021-07-27 22:58:37.304 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2021-07-27 22:58:37.305 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2021-07-27 22:58:37.305 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2021-07-27 22:58:37.305 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2021-07-27 22:58:37.305 request id: app - uvicorn.server:serve - Finished server process [10396]
INFO     2021-07-27 22:58:37.306 request id: app - uvicorn.server:serve - Finished server process [10396]
INFO     2021-07-27 22:58:37.306 request id: app - uvicorn.server:serve - Finished server process [10396]
INFO     2021-07-27 22:58:37.979 request id: app - uvicorn.server:serve - Started server process [10417]
INFO     2021-07-27 22:58:37.979 request id: app - uvicorn.server:serve - Started server process [10417]
INFO     2021-07-27 22:58:37.979 request id: app - uvicorn.server:serve - Started server process [10417]
INFO     2021-07-27 22:58:37.980 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2021-07-27 22:58:37.980 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2021-07-27 22:58:37.980 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2021-07-27 22:58:37.981 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2021-07-27 22:58:37.981 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2021-07-27 22:58:37.981 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2021-07-27 22:58:40.683 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:50860 - "PUT /product/610002789d4ff36dbbafa66d HTTP/1.1" 400
INFO     2021-07-27 22:58:59.479 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2021-07-27 22:58:59.480 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2021-07-27 22:58:59.480 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2021-07-27 22:58:59.586 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2021-07-27 22:58:59.586 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2021-07-27 22:58:59.586 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2021-07-27 22:58:59.587 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2021-07-27 22:58:59.587 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2021-07-27 22:58:59.587 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2021-07-27 22:58:59.588 request id: app - uvicorn.server:serve - Finished server process [10417]
INFO     2021-07-27 22:58:59.588 request id: app - uvicorn.server:serve - Finished server process [10417]
INFO     2021-07-27 22:58:59.588 request id: app - uvicorn.server:serve - Finished server process [10417]
INFO     2021-07-27 22:59:00.514 request id: app - uvicorn.server:serve - Started server process [10430]
INFO     2021-07-27 22:59:00.514 request id: app - uvicorn.server:serve - Started server process [10430]
INFO     2021-07-27 22:59:00.514 request id: app - uvicorn.server:serve - Started server process [10430]
INFO     2021-07-27 22:59:00.515 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2021-07-27 22:59:00.515 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2021-07-27 22:59:00.515 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2021-07-27 22:59:00.515 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2021-07-27 22:59:00.516 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2021-07-27 22:59:00.516 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2021-07-27 22:59:02.371 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:50955 - "PUT /product/610002789d4ff36dbbafa66d HTTP/1.1" 400
INFO     2021-07-27 22:59:11.245 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2021-07-27 22:59:11.246 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2021-07-27 22:59:11.246 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2021-07-27 22:59:11.352 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2021-07-27 22:59:11.352 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2021-07-27 22:59:11.352 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2021-07-27 22:59:11.353 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2021-07-27 22:59:11.353 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2021-07-27 22:59:11.353 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2021-07-27 22:59:11.354 request id: app - uvicorn.server:serve - Finished server process [10430]
INFO     2021-07-27 22:59:11.354 request id: app - uvicorn.server:serve - Finished server process [10430]
INFO     2021-07-27 22:59:11.354 request id: app - uvicorn.server:serve - Finished server process [10430]
INFO     2021-07-27 22:59:12.054 request id: app - uvicorn.server:serve - Started server process [10435]
INFO     2021-07-27 22:59:12.054 request id: app - uvicorn.server:serve - Started server process [10435]
INFO     2021-07-27 22:59:12.054 request id: app - uvicorn.server:serve - Started server process [10435]
INFO     2021-07-27 22:59:12.054 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2021-07-27 22:59:12.054 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2021-07-27 22:59:12.055 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2021-07-27 22:59:12.055 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2021-07-27 22:59:12.056 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2021-07-27 22:59:12.056 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2021-07-27 22:59:13.250 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:51005 - "PUT /product/610002789d4ff36dbbafa66d HTTP/1.1" 400
INFO     2021-07-27 22:59:21.943 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2021-07-27 22:59:21.944 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2021-07-27 22:59:21.944 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2021-07-27 22:59:22.049 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2021-07-27 22:59:22.049 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2021-07-27 22:59:22.049 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2021-07-27 22:59:22.050 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2021-07-27 22:59:22.051 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2021-07-27 22:59:22.051 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2021-07-27 22:59:22.051 request id: app - uvicorn.server:serve - Finished server process [10435]
INFO     2021-07-27 22:59:22.051 request id: app - uvicorn.server:serve - Finished server process [10435]
INFO     2021-07-27 22:59:22.051 request id: app - uvicorn.server:serve - Finished server process [10435]
INFO     2021-07-27 22:59:22.513 request id: app - uvicorn.server:serve - Started server process [10439]
INFO     2021-07-27 22:59:22.514 request id: app - uvicorn.server:serve - Started server process [10439]
INFO     2021-07-27 22:59:22.514 request id: app - uvicorn.server:serve - Started server process [10439]
INFO     2021-07-27 22:59:22.514 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2021-07-27 22:59:22.514 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2021-07-27 22:59:22.514 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2021-07-27 22:59:22.515 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2021-07-27 22:59:22.516 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2021-07-27 22:59:22.516 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2021-07-27 22:59:23.827 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:51057 - "PUT /product/610002789d4ff36dbbafa66d HTTP/1.1" 400
INFO     2021-07-27 22:59:34.689 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2021-07-27 22:59:34.690 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2021-07-27 22:59:34.690 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2021-07-27 22:59:34.795 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2021-07-27 22:59:34.795 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2021-07-27 22:59:34.795 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2021-07-27 22:59:34.796 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2021-07-27 22:59:34.796 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2021-07-27 22:59:34.797 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2021-07-27 22:59:34.797 request id: app - uvicorn.server:serve - Finished server process [10439]
INFO     2021-07-27 22:59:34.797 request id: app - uvicorn.server:serve - Finished server process [10439]
INFO     2021-07-27 22:59:34.797 request id: app - uvicorn.server:serve - Finished server process [10439]
INFO     2021-07-27 22:59:35.607 request id: app - uvicorn.server:serve - Started server process [10444]
INFO     2021-07-27 22:59:35.608 request id: app - uvicorn.server:serve - Started server process [10444]
INFO     2021-07-27 22:59:35.608 request id: app - uvicorn.server:serve - Started server process [10444]
INFO     2021-07-27 22:59:35.608 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2021-07-27 22:59:35.608 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2021-07-27 22:59:35.608 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2021-07-27 22:59:35.609 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2021-07-27 22:59:35.610 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2021-07-27 22:59:35.610 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2021-07-27 22:59:36.753 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:51115 - "PUT /product/610002789d4ff36dbbafa66d HTTP/1.1" 200
INFO     2021-07-27 22:59:49.037 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:51166 - "PUT /product/610002789d4ff36dbbafa66d HTTP/1.1" 200
INFO     2021-07-27 22:59:56.546 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:51198 - "PUT /product/610002789d4ff36dbbafa66d HTTP/1.1" 200
INFO     2021-07-27 23:00:11.870 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2021-07-27 23:00:11.870 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2021-07-27 23:00:11.870 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2021-07-27 23:00:11.975 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2021-07-27 23:00:11.975 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2021-07-27 23:00:11.975 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2021-07-27 23:00:11.976 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2021-07-27 23:00:11.977 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2021-07-27 23:00:11.977 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2021-07-27 23:00:11.977 request id: app - uvicorn.server:serve - Finished server process [10444]
INFO     2021-07-27 23:00:11.977 request id: app - uvicorn.server:serve - Finished server process [10444]
INFO     2021-07-27 23:00:11.977 request id: app - uvicorn.server:serve - Finished server process [10444]
INFO     2021-07-27 23:00:12.839 request id: app - uvicorn.server:serve - Started server process [10448]
INFO     2021-07-27 23:00:12.840 request id: app - uvicorn.server:serve - Started server process [10448]
INFO     2021-07-27 23:00:12.840 request id: app - uvicorn.server:serve - Started server process [10448]
INFO     2021-07-27 23:00:12.840 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2021-07-27 23:00:12.840 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2021-07-27 23:00:12.840 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2021-07-27 23:00:12.842 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2021-07-27 23:00:12.842 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2021-07-27 23:00:12.842 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2021-07-27 23:00:15.821 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:51283 - "OPTIONS /product/610002789d4ff36dbbafa66d HTTP/1.1" 200
INFO     2021-07-27 23:00:15.839 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:51283 - "PUT /product/610002789d4ff36dbbafa66d HTTP/1.1" 200
INFO     2021-07-27 23:00:16.914 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:51283 - "GET /product/page?limit=10&offset=0&filter= HTTP/1.1" 200
INFO     2021-07-27 23:00:20.237 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:51283 - "GET /product/page?limit=10&offset=0&filter=test HTTP/1.1" 200
INFO     2021-07-27 23:00:21.838 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:51283 - "GET /product/610002789d4ff36dbbafa66d HTTP/1.1" 200
INFO     2021-07-27 23:00:28.165 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:51336 - "PUT /product/610002789d4ff36dbbafa66d HTTP/1.1" 200
INFO     2021-07-27 23:00:29.212 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:51336 - "GET /product/page?limit=10&offset=0&filter= HTTP/1.1" 200
INFO     2021-07-27 23:00:32.497 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:51336 - "GET /product/page?limit=10&offset=0&filter=test HTTP/1.1" 200
INFO     2021-07-27 23:00:59.687 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2021-07-27 23:00:59.688 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2021-07-27 23:00:59.688 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2021-07-27 23:00:59.794 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2021-07-27 23:00:59.794 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2021-07-27 23:00:59.794 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2021-07-27 23:00:59.795 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2021-07-27 23:00:59.795 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2021-07-27 23:00:59.795 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2021-07-27 23:00:59.796 request id: app - uvicorn.server:serve - Finished server process [10448]
INFO     2021-07-27 23:00:59.796 request id: app - uvicorn.server:serve - Finished server process [10448]
INFO     2021-07-27 23:00:59.796 request id: app - uvicorn.server:serve - Finished server process [10448]
INFO     2021-07-27 23:01:00.718 request id: app - uvicorn.server:serve - Started server process [10461]
INFO     2021-07-27 23:01:00.718 request id: app - uvicorn.server:serve - Started server process [10461]
INFO     2021-07-27 23:01:00.718 request id: app - uvicorn.server:serve - Started server process [10461]
INFO     2021-07-27 23:01:00.719 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2021-07-27 23:01:00.719 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2021-07-27 23:01:00.719 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2021-07-27 23:01:00.720 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2021-07-27 23:01:00.720 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2021-07-27 23:01:00.720 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2021-07-27 23:01:02.149 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:51481 - "PUT /product/610002789d4ff36dbbafa66d HTTP/1.1" 200
INFO     2021-07-27 23:01:34.997 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:51616 - "GET /product/610002789d4ff36dbbafa66d HTTP/1.1" 200
INFO     2021-07-27 23:01:57.027 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:51708 - "PUT /product/610002789d4ff36dbbafa66d HTTP/1.1" 200
INFO     2021-07-27 23:01:58.144 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:51708 - "GET /product/page?limit=10&offset=0&filter= HTTP/1.1" 200
INFO     2021-07-27 23:02:00.824 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:51708 - "GET /product/page?limit=10&offset=0&filter=test HTTP/1.1" 200
INFO     2021-07-27 23:02:02.472 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:51708 - "GET /product/610002789d4ff36dbbafa66d HTTP/1.1" 200
INFO     2021-07-27 23:02:58.617 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2021-07-27 23:02:58.620 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2021-07-27 23:02:58.621 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2021-07-27 23:02:58.727 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2021-07-27 23:02:58.727 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2021-07-27 23:02:58.727 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2021-07-27 23:02:58.728 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2021-07-27 23:02:58.728 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2021-07-27 23:02:58.729 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2021-07-27 23:02:58.729 request id: app - uvicorn.server:serve - Finished server process [10461]
INFO     2021-07-27 23:02:58.729 request id: app - uvicorn.server:serve - Finished server process [10461]
INFO     2021-07-27 23:02:58.729 request id: app - uvicorn.server:serve - Finished server process [10461]
INFO     2021-07-27 23:02:59.746 request id: app - uvicorn.server:serve - Started server process [10480]
INFO     2021-07-27 23:02:59.747 request id: app - uvicorn.server:serve - Started server process [10480]
INFO     2021-07-27 23:02:59.747 request id: app - uvicorn.server:serve - Started server process [10480]
INFO     2021-07-27 23:02:59.747 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2021-07-27 23:02:59.748 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2021-07-27 23:02:59.748 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2021-07-27 23:02:59.748 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2021-07-27 23:02:59.748 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2021-07-27 23:02:59.748 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2021-07-27 23:03:19.094 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:52048 - "PUT /product/610002789d4ff36dbbafa66d HTTP/1.1" 200
INFO     2021-07-27 23:03:20.163 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:52048 - "GET /product/page?limit=10&offset=0&filter= HTTP/1.1" 200
INFO     2021-07-27 23:03:22.874 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:52048 - "GET /product/page?limit=10&offset=0&filter=test HTTP/1.1" 200
INFO     2021-07-27 23:03:24.361 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:52048 - "GET /product/610002789d4ff36dbbafa66d HTTP/1.1" 200
INFO     2021-07-27 23:04:33.362 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2021-07-27 23:04:33.363 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2021-07-27 23:04:33.363 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2021-07-27 23:04:33.469 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2021-07-27 23:04:33.469 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2021-07-27 23:04:33.469 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2021-07-27 23:04:33.471 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2021-07-27 23:04:33.471 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2021-07-27 23:04:33.471 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2021-07-27 23:04:33.472 request id: app - uvicorn.server:serve - Finished server process [10480]
INFO     2021-07-27 23:04:33.472 request id: app - uvicorn.server:serve - Finished server process [10480]
INFO     2021-07-27 23:04:33.472 request id: app - uvicorn.server:serve - Finished server process [10480]
INFO     2021-07-28 06:40:41.503 request id: app - uvicorn.server:serve - Started server process [1293]
INFO     2021-07-28 06:40:41.503 request id: app - uvicorn.server:serve - Started server process [1293]
INFO     2021-07-28 06:40:41.503 request id: app - uvicorn.server:serve - Started server process [1293]
INFO     2021-07-28 06:40:41.504 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2021-07-28 06:40:41.504 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2021-07-28 06:40:41.504 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2021-07-28 06:40:41.504 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2021-07-28 06:40:41.505 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2021-07-28 06:40:41.505 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2021-07-28 06:42:42.530 request id: app - uvicorn.protocols.http.h11_impl:send - 66.249.83.70:0 - "POST /webhook HTTP/1.1" 500
ERROR    2021-07-28 06:42:42.533 request id: app - uvicorn.protocols.http.h11_impl:run_asgi - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 5
               │     └ 8
               └ <function _main at 0x10b3060d0>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 5
           │    └ <function BaseProcess._bootstrap at 0x10b0d9b80>
           └ <SpawnProcess name='SpawnProcess-1' parent=1291 started>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x10b0d91f0>
    └ <SpawnProcess name='SpawnProcess-1' parent=1291 started>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x10b36d100>, 'target': <bound method Server.run of <uvicorn.server.Server object...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-1' parent=1291 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-1' parent=1291 started>
    │    └ <function subprocess_started at 0x10b945670>
    └ <SpawnProcess name='SpawnProcess-1' parent=1291 started>
  File "/Library/Python/3.8/site-packages/uvicorn/subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=4, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 5000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x10b36d1f0>>
  File "/Library/Python/3.8/site-packages/uvicorn/server.py", line 50, in run
    loop.run_until_complete(self.serve(sockets=sockets))
    │    │                  │    │             └ [<socket.socket fd=4, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 5000)>]
    │    │                  │    └ <function Server.serve at 0x10b942c10>
    │    │                  └ <uvicorn.server.Server object at 0x10b36d1f0>
    │    └ <function BaseEventLoop.run_until_complete at 0x10b5ff790>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/asyncio/base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x10b5ff700>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/asyncio/base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x10b601280>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/asyncio/base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x10b534160>
    └ <Handle <TaskWakeupMethWrapper object at 0x10ca296a0>(<Future finished result=None>)>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/asyncio/events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x10ca296a0>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x10ca296a0>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x10ca296a0>(<Future finished result=None>)>
> File "/Library/Python/3.8/site-packages/uvicorn/protocols/http/h11_impl.py", line 369, in run_asgi
    result = await app(self.scope, self.receive, self.send)
                   │   │    │      │    │        │    └ <function RequestResponseCycle.send at 0x10baad310>
                   │   │    │      │    │        └ <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10ca29940>
                   │   │    │      │    └ <function RequestResponseCycle.receive at 0x10baad3a0>
                   │   │    │      └ <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10ca29940>
                   │   │    └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
                   │   └ <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10ca29940>
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x10ba65370>
  File "/Library/Python/3.8/site-packages/uvicorn/middleware/proxy_headers.py", line 59, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10ca29940>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10ca29940>>
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x10bab6040>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x10ba65370>
  File "/Library/Python/3.8/site-packages/fastapi/applications.py", line 199, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10ca29940>>
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10ca29940>>
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
  File "/Library/Python/3.8/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10ca29940>>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10ca29940>>
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x10ca0ea90>
          └ <fastapi.applications.FastAPI object at 0x10bab6040>
  File "/Library/Python/3.8/site-packages/starlette/middleware/errors.py", line 181, in __call__
    raise exc from None
  File "/Library/Python/3.8/site-packages/starlette/middleware/errors.py", line 159, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x10ca0ae50>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10ca29940>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x10ca0ea30>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x10ca0ea90>
  File "/Library/Python/3.8/site-packages/starlette/middleware/base.py", line 25, in __call__
    response = await self.dispatch_func(request, self.call_next)
                     │    │             │        │    └ <function BaseHTTPMiddleware.call_next at 0x10bf74940>
                     │    │             │        └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x10ca0ea30>
                     │    │             └ <starlette.requests.Request object at 0x10ca299a0>
                     │    └ <function add_process_time_header at 0x10ca0aca0>
                     └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x10ca0ea30>

  File "./app/__init__.py", line 65, in add_process_time_header
    response = await call_next(request)
                     │         └ <starlette.requests.Request object at 0x10ca299a0>
                     └ <bound method BaseHTTPMiddleware.call_next of <starlette.middleware.base.BaseHTTPMiddleware object at 0x10ca0ea30>>

  File "/Library/Python/3.8/site-packages/starlette/middleware/base.py", line 45, in call_next
    task.result()
    │    └ <method 'result' of '_asyncio.Task' objects>
    └ <Task finished name='Task-6' coro=<BaseHTTPMiddleware.call_next.<locals>.coro() done, defined at /Library/Python/3.8/site-pac...
  File "/Library/Python/3.8/site-packages/starlette/middleware/base.py", line 38, in coro
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method Queue.put of <Queue at 0x10ca29640 maxsize=0 tasks=1>>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10ca29940>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x10ca0ea00>
          └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x10ca0ea30>
  File "/Library/Python/3.8/site-packages/starlette/middleware/cors.py", line 78, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method Queue.put of <Queue at 0x10ca29640 maxsize=0 tasks=1>>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10ca29940>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x10ca0e9a0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x10ca0ea00>
  File "/Library/Python/3.8/site-packages/starlette/exceptions.py", line 82, in __call__
    raise exc from None
  File "/Library/Python/3.8/site-packages/starlette/exceptions.py", line 71, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x10ca0af70>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10ca29940>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x10c7a8cd0>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x10ca0e9a0>
  File "/Library/Python/3.8/site-packages/starlette/routing.py", line 580, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x10ca0af70>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10ca29940>>
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │     └ <function Route.handle at 0x10bf42af0>
          └ <fastapi.routing.APIRoute object at 0x10c9ff880>
  File "/Library/Python/3.8/site-packages/starlette/routing.py", line 241, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x10ca0af70>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10ca29940>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <function request_response.<locals>.app at 0x10c9fac10>
          └ <fastapi.routing.APIRoute object at 0x10c9ff880>
  File "/Library/Python/3.8/site-packages/starlette/routing.py", line 52, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x10ca294c0>
                     └ <function get_request_handler.<locals>.app at 0x10c9fab80>
  File "/Library/Python/3.8/site-packages/fastapi/routing.py", line 214, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x10bf2db80>
  File "/Library/Python/3.8/site-packages/fastapi/routing.py", line 149, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'request': <starlette.requests.Request object at 0x10ca294c0>}
                 │         └ <function action at 0x10c88f5e0>
                 └ <fastapi.dependencies.models.Dependant object at 0x10c9ff970>

  File "./app/routers/conversation.py", line 10, in action
    return await controller.index(request)
                 │          │     └ <starlette.requests.Request object at 0x10ca294c0>
                 │          └ <staticmethod object at 0x10c86c7c0>
                 └ <class 'app.controllers.Conversation.Conversation'>

  File "./app/controllers/Conversation.py", line 195, in index
    login = Login(agent)
            │     └ <dialogflow_fulfillment.webhook_client.WebhookClient object at 0x10ca29af0>
            └ <class 'app.libraries.Login.Login'>

  File "./app/libraries/Login.py", line 15, in __init__
    if(self.checkingLogin(agent)):
       │    │             └ <dialogflow_fulfillment.webhook_client.WebhookClient object at 0x10ca29af0>
       │    └ <function Login.checkingLogin at 0x10c88f0d0>
       └ <app.libraries.Login.Login object at 0x10ca29b80>

  File "./app/libraries/Login.py", line 27, in checkingLogin
    self.verifiyAccess = self.CheckIsVerify(dict(id_telegram)['id'])
    │    │               │    │                  └ {'language_code': 'en', 'last_name': 'Sopian Tsaury', 'first_name': 'Yayan', 'username': 'yayan_sopian_tsaury', 'id': 1900341...
    │    │               │    └ <function Login.CheckIsVerify at 0x10c88f160>
    │    │               └ <app.libraries.Login.Login object at 0x10ca29b80>
    │    └ {'status': False}
    └ <app.libraries.Login.Login object at 0x10ca29b80>

  File "./app/libraries/Login.py", line 39, in CheckIsVerify
    userCheck = Usersbot.objects((Q(id_telegram=id_telegram) & Q(isverify=True))).count()
                │        │        │             │              └ <class 'mongoengine.queryset.visitor.Q'>
                │        │        │             └ 1900341814.0
                │        │        └ <class 'mongoengine.queryset.visitor.Q'>
                │        └ <mongoengine.queryset.manager.QuerySetManager object at 0x10c861430>
                └ <class 'app.models.usersbot.Usersbot'>

  File "/Library/Python/3.8/site-packages/mongoengine/queryset/manager.py", line 38, in __get__
    queryset = queryset_class(owner, owner._get_collection())
               │              │      │     └ <classmethod object at 0x10c401f40>
               │              │      └ <class 'app.models.usersbot.Usersbot'>
               │              └ <class 'app.models.usersbot.Usersbot'>
               └ <class 'mongoengine.queryset.queryset.QuerySet'>
  File "/Library/Python/3.8/site-packages/mongoengine/document.py", line 223, in _get_collection
    if cls._meta.get("auto_create_index", True) and db.client.is_primary:
       │   │     │                                  │  └ <property object at 0x10c29f5e0>
       │   │     │                                  └ Database(MongoClient(host=['127.0.0.1:27017'], document_class=dict, tz_aware=False, connect=True, read_preference=Primary()),...
       │   │     └ <method 'get' of 'dict' objects>
       │   └ {'abstract': False, 'max_documents': None, 'max_size': None, 'ordering': [], 'indexes': [], 'id_field': 'id_telegram', 'index...
       └ <class 'app.models.usersbot.Usersbot'>
  File "/Library/Python/3.8/site-packages/pymongo/mongo_client.py", line 1031, in is_primary
    return self._server_property('is_writable')
           │    └ <function MongoClient._server_property at 0x10c3f1700>
           └ MongoClient(host=['127.0.0.1:27017'], document_class=dict, tz_aware=False, connect=True, read_preference=Primary())
  File "/Library/Python/3.8/site-packages/pymongo/mongo_client.py", line 855, in _server_property
    server = self._topology.select_server(
             │    │         └ <function Topology.select_server at 0x10c3484c0>
             │    └ <Topology <TopologyDescription id: 61009979c961d371b1f9a8d0, topology_type: Single, servers: [<ServerDescription ('127.0.0.1'...
             └ MongoClient(host=['127.0.0.1:27017'], document_class=dict, tz_aware=False, connect=True, read_preference=Primary())
  File "/Library/Python/3.8/site-packages/pymongo/topology.py", line 241, in select_server
    return random.choice(self.select_servers(selector,
           │      │      │    │              └ <function writable_server_selector at 0x10c1d41f0>
           │      │      │    └ <function Topology.select_servers at 0x10c3483a0>
           │      │      └ <Topology <TopologyDescription id: 61009979c961d371b1f9a8d0, topology_type: Single, servers: [<ServerDescription ('127.0.0.1'...
           │      └ <bound method Random.choice of <random.Random object at 0x7fa2108cb610>>
           └ <module 'random' from '/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/ra...
  File "/Library/Python/3.8/site-packages/pymongo/topology.py", line 199, in select_servers
    server_descriptions = self._select_servers_loop(
                          │    └ <function Topology._select_servers_loop at 0x10c348430>
                          └ <Topology <TopologyDescription id: 61009979c961d371b1f9a8d0, topology_type: Single, servers: [<ServerDescription ('127.0.0.1'...
  File "/Library/Python/3.8/site-packages/pymongo/topology.py", line 215, in _select_servers_loop
    raise ServerSelectionTimeoutError(
          └ <class 'pymongo.errors.ServerSelectionTimeoutError'>

pymongo.errors.ServerSelectionTimeoutError: 127.0.0.1:27017: [Errno 61] Connection refused, Timeout: 30s, Topology Description: <TopologyDescription id: 61009979c961d371b1f9a8d0, topology_type: Single, servers: [<ServerDescription ('127.0.0.1', 27017) server_type: Unknown, rtt: None, error=AutoReconnect('127.0.0.1:27017: [Errno 61] Connection refused')>]>
ERROR    2021-07-28 06:42:42.572 request id: app - uvicorn.protocols.http.h11_impl:run_asgi - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 5
               │     └ 8
               └ <function _main at 0x10b3060d0>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 5
           │    └ <function BaseProcess._bootstrap at 0x10b0d9b80>
           └ <SpawnProcess name='SpawnProcess-1' parent=1291 started>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x10b0d91f0>
    └ <SpawnProcess name='SpawnProcess-1' parent=1291 started>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x10b36d100>, 'target': <bound method Server.run of <uvicorn.server.Server object...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-1' parent=1291 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-1' parent=1291 started>
    │    └ <function subprocess_started at 0x10b945670>
    └ <SpawnProcess name='SpawnProcess-1' parent=1291 started>
  File "/Library/Python/3.8/site-packages/uvicorn/subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=4, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 5000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x10b36d1f0>>
  File "/Library/Python/3.8/site-packages/uvicorn/server.py", line 50, in run
    loop.run_until_complete(self.serve(sockets=sockets))
    │    │                  │    │             └ [<socket.socket fd=4, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 5000)>]
    │    │                  │    └ <function Server.serve at 0x10b942c10>
    │    │                  └ <uvicorn.server.Server object at 0x10b36d1f0>
    │    └ <function BaseEventLoop.run_until_complete at 0x10b5ff790>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/asyncio/base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x10b5ff700>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/asyncio/base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x10b601280>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/asyncio/base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x10b534160>
    └ <Handle <TaskWakeupMethWrapper object at 0x10ca296a0>(<Future finished result=None>)>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/asyncio/events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x10ca296a0>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x10ca296a0>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x10ca296a0>(<Future finished result=None>)>
> File "/Library/Python/3.8/site-packages/uvicorn/protocols/http/h11_impl.py", line 369, in run_asgi
    result = await app(self.scope, self.receive, self.send)
                   │   │    │      │    │        │    └ <function RequestResponseCycle.send at 0x10baad310>
                   │   │    │      │    │        └ <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10ca29940>
                   │   │    │      │    └ <function RequestResponseCycle.receive at 0x10baad3a0>
                   │   │    │      └ <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10ca29940>
                   │   │    └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
                   │   └ <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10ca29940>
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x10ba65370>
  File "/Library/Python/3.8/site-packages/uvicorn/middleware/proxy_headers.py", line 59, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10ca29940>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10ca29940>>
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x10bab6040>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x10ba65370>
  File "/Library/Python/3.8/site-packages/fastapi/applications.py", line 199, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10ca29940>>
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10ca29940>>
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
  File "/Library/Python/3.8/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10ca29940>>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10ca29940>>
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x10ca0ea90>
          └ <fastapi.applications.FastAPI object at 0x10bab6040>
  File "/Library/Python/3.8/site-packages/starlette/middleware/errors.py", line 181, in __call__
    raise exc from None
  File "/Library/Python/3.8/site-packages/starlette/middleware/errors.py", line 159, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x10ca0ae50>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10ca29940>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x10ca0ea30>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x10ca0ea90>
  File "/Library/Python/3.8/site-packages/starlette/middleware/base.py", line 25, in __call__
    response = await self.dispatch_func(request, self.call_next)
                     │    │             │        │    └ <function BaseHTTPMiddleware.call_next at 0x10bf74940>
                     │    │             │        └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x10ca0ea30>
                     │    │             └ <starlette.requests.Request object at 0x10ca299a0>
                     │    └ <function add_process_time_header at 0x10ca0aca0>
                     └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x10ca0ea30>

  File "./app/__init__.py", line 65, in add_process_time_header
    response = await call_next(request)
                     │         └ <starlette.requests.Request object at 0x10ca299a0>
                     └ <bound method BaseHTTPMiddleware.call_next of <starlette.middleware.base.BaseHTTPMiddleware object at 0x10ca0ea30>>

  File "/Library/Python/3.8/site-packages/starlette/middleware/base.py", line 45, in call_next
    task.result()
    │    └ <method 'result' of '_asyncio.Task' objects>
    └ <Task finished name='Task-6' coro=<BaseHTTPMiddleware.call_next.<locals>.coro() done, defined at /Library/Python/3.8/site-pac...
  File "/Library/Python/3.8/site-packages/starlette/middleware/base.py", line 38, in coro
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method Queue.put of <Queue at 0x10ca29640 maxsize=0 tasks=1>>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10ca29940>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x10ca0ea00>
          └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x10ca0ea30>
  File "/Library/Python/3.8/site-packages/starlette/middleware/cors.py", line 78, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method Queue.put of <Queue at 0x10ca29640 maxsize=0 tasks=1>>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10ca29940>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x10ca0e9a0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x10ca0ea00>
  File "/Library/Python/3.8/site-packages/starlette/exceptions.py", line 82, in __call__
    raise exc from None
  File "/Library/Python/3.8/site-packages/starlette/exceptions.py", line 71, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x10ca0af70>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10ca29940>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x10c7a8cd0>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x10ca0e9a0>
  File "/Library/Python/3.8/site-packages/starlette/routing.py", line 580, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x10ca0af70>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10ca29940>>
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │     └ <function Route.handle at 0x10bf42af0>
          └ <fastapi.routing.APIRoute object at 0x10c9ff880>
  File "/Library/Python/3.8/site-packages/starlette/routing.py", line 241, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x10ca0af70>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10ca29940>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <function request_response.<locals>.app at 0x10c9fac10>
          └ <fastapi.routing.APIRoute object at 0x10c9ff880>
  File "/Library/Python/3.8/site-packages/starlette/routing.py", line 52, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x10ca294c0>
                     └ <function get_request_handler.<locals>.app at 0x10c9fab80>
  File "/Library/Python/3.8/site-packages/fastapi/routing.py", line 214, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x10bf2db80>
  File "/Library/Python/3.8/site-packages/fastapi/routing.py", line 149, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'request': <starlette.requests.Request object at 0x10ca294c0>}
                 │         └ <function action at 0x10c88f5e0>
                 └ <fastapi.dependencies.models.Dependant object at 0x10c9ff970>

  File "./app/routers/conversation.py", line 10, in action
    return await controller.index(request)
                 │          │     └ <starlette.requests.Request object at 0x10ca294c0>
                 │          └ <staticmethod object at 0x10c86c7c0>
                 └ <class 'app.controllers.Conversation.Conversation'>

  File "./app/controllers/Conversation.py", line 195, in index
    login = Login(agent)
            │     └ <dialogflow_fulfillment.webhook_client.WebhookClient object at 0x10ca29af0>
            └ <class 'app.libraries.Login.Login'>

  File "./app/libraries/Login.py", line 15, in __init__
    if(self.checkingLogin(agent)):
       │    │             └ <dialogflow_fulfillment.webhook_client.WebhookClient object at 0x10ca29af0>
       │    └ <function Login.checkingLogin at 0x10c88f0d0>
       └ <app.libraries.Login.Login object at 0x10ca29b80>

  File "./app/libraries/Login.py", line 27, in checkingLogin
    self.verifiyAccess = self.CheckIsVerify(dict(id_telegram)['id'])
    │    │               │    │                  └ {'language_code': 'en', 'last_name': 'Sopian Tsaury', 'first_name': 'Yayan', 'username': 'yayan_sopian_tsaury', 'id': 1900341...
    │    │               │    └ <function Login.CheckIsVerify at 0x10c88f160>
    │    │               └ <app.libraries.Login.Login object at 0x10ca29b80>
    │    └ {'status': False}
    └ <app.libraries.Login.Login object at 0x10ca29b80>

  File "./app/libraries/Login.py", line 39, in CheckIsVerify
    userCheck = Usersbot.objects((Q(id_telegram=id_telegram) & Q(isverify=True))).count()
                │        │        │             │              └ <class 'mongoengine.queryset.visitor.Q'>
                │        │        │             └ 1900341814.0
                │        │        └ <class 'mongoengine.queryset.visitor.Q'>
                │        └ <mongoengine.queryset.manager.QuerySetManager object at 0x10c861430>
                └ <class 'app.models.usersbot.Usersbot'>

  File "/Library/Python/3.8/site-packages/mongoengine/queryset/manager.py", line 38, in __get__
    queryset = queryset_class(owner, owner._get_collection())
               │              │      │     └ <classmethod object at 0x10c401f40>
               │              │      └ <class 'app.models.usersbot.Usersbot'>
               │              └ <class 'app.models.usersbot.Usersbot'>
               └ <class 'mongoengine.queryset.queryset.QuerySet'>
  File "/Library/Python/3.8/site-packages/mongoengine/document.py", line 223, in _get_collection
    if cls._meta.get("auto_create_index", True) and db.client.is_primary:
       │   │     │                                  │  └ <property object at 0x10c29f5e0>
       │   │     │                                  └ Database(MongoClient(host=['127.0.0.1:27017'], document_class=dict, tz_aware=False, connect=True, read_preference=Primary()),...
       │   │     └ <method 'get' of 'dict' objects>
       │   └ {'abstract': False, 'max_documents': None, 'max_size': None, 'ordering': [], 'indexes': [], 'id_field': 'id_telegram', 'index...
       └ <class 'app.models.usersbot.Usersbot'>
  File "/Library/Python/3.8/site-packages/pymongo/mongo_client.py", line 1031, in is_primary
    return self._server_property('is_writable')
           │    └ <function MongoClient._server_property at 0x10c3f1700>
           └ MongoClient(host=['127.0.0.1:27017'], document_class=dict, tz_aware=False, connect=True, read_preference=Primary())
  File "/Library/Python/3.8/site-packages/pymongo/mongo_client.py", line 855, in _server_property
    server = self._topology.select_server(
             │    │         └ <function Topology.select_server at 0x10c3484c0>
             │    └ <Topology <TopologyDescription id: 61009979c961d371b1f9a8d0, topology_type: Single, servers: [<ServerDescription ('127.0.0.1'...
             └ MongoClient(host=['127.0.0.1:27017'], document_class=dict, tz_aware=False, connect=True, read_preference=Primary())
  File "/Library/Python/3.8/site-packages/pymongo/topology.py", line 241, in select_server
    return random.choice(self.select_servers(selector,
           │      │      │    │              └ <function writable_server_selector at 0x10c1d41f0>
           │      │      │    └ <function Topology.select_servers at 0x10c3483a0>
           │      │      └ <Topology <TopologyDescription id: 61009979c961d371b1f9a8d0, topology_type: Single, servers: [<ServerDescription ('127.0.0.1'...
           │      └ <bound method Random.choice of <random.Random object at 0x7fa2108cb610>>
           └ <module 'random' from '/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/ra...
  File "/Library/Python/3.8/site-packages/pymongo/topology.py", line 199, in select_servers
    server_descriptions = self._select_servers_loop(
                          │    └ <function Topology._select_servers_loop at 0x10c348430>
                          └ <Topology <TopologyDescription id: 61009979c961d371b1f9a8d0, topology_type: Single, servers: [<ServerDescription ('127.0.0.1'...
  File "/Library/Python/3.8/site-packages/pymongo/topology.py", line 215, in _select_servers_loop
    raise ServerSelectionTimeoutError(
          └ <class 'pymongo.errors.ServerSelectionTimeoutError'>

pymongo.errors.ServerSelectionTimeoutError: 127.0.0.1:27017: [Errno 61] Connection refused, Timeout: 30s, Topology Description: <TopologyDescription id: 61009979c961d371b1f9a8d0, topology_type: Single, servers: [<ServerDescription ('127.0.0.1', 27017) server_type: Unknown, rtt: None, error=AutoReconnect('127.0.0.1:27017: [Errno 61] Connection refused')>]>
ERROR    2021-07-28 06:42:42.584 request id: app - uvicorn.protocols.http.h11_impl:run_asgi - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 5
               │     └ 8
               └ <function _main at 0x10b3060d0>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 5
           │    └ <function BaseProcess._bootstrap at 0x10b0d9b80>
           └ <SpawnProcess name='SpawnProcess-1' parent=1291 started>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x10b0d91f0>
    └ <SpawnProcess name='SpawnProcess-1' parent=1291 started>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x10b36d100>, 'target': <bound method Server.run of <uvicorn.server.Server object...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-1' parent=1291 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-1' parent=1291 started>
    │    └ <function subprocess_started at 0x10b945670>
    └ <SpawnProcess name='SpawnProcess-1' parent=1291 started>
  File "/Library/Python/3.8/site-packages/uvicorn/subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=4, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 5000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x10b36d1f0>>
  File "/Library/Python/3.8/site-packages/uvicorn/server.py", line 50, in run
    loop.run_until_complete(self.serve(sockets=sockets))
    │    │                  │    │             └ [<socket.socket fd=4, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 5000)>]
    │    │                  │    └ <function Server.serve at 0x10b942c10>
    │    │                  └ <uvicorn.server.Server object at 0x10b36d1f0>
    │    └ <function BaseEventLoop.run_until_complete at 0x10b5ff790>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/asyncio/base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x10b5ff700>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/asyncio/base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x10b601280>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/asyncio/base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x10b534160>
    └ <Handle <TaskWakeupMethWrapper object at 0x10ca296a0>(<Future finished result=None>)>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/asyncio/events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x10ca296a0>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x10ca296a0>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x10ca296a0>(<Future finished result=None>)>
> File "/Library/Python/3.8/site-packages/uvicorn/protocols/http/h11_impl.py", line 369, in run_asgi
    result = await app(self.scope, self.receive, self.send)
                   │   │    │      │    │        │    └ <function RequestResponseCycle.send at 0x10baad310>
                   │   │    │      │    │        └ <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10ca29940>
                   │   │    │      │    └ <function RequestResponseCycle.receive at 0x10baad3a0>
                   │   │    │      └ <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10ca29940>
                   │   │    └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
                   │   └ <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10ca29940>
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x10ba65370>
  File "/Library/Python/3.8/site-packages/uvicorn/middleware/proxy_headers.py", line 59, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10ca29940>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10ca29940>>
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x10bab6040>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x10ba65370>
  File "/Library/Python/3.8/site-packages/fastapi/applications.py", line 199, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10ca29940>>
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10ca29940>>
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
  File "/Library/Python/3.8/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10ca29940>>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10ca29940>>
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x10ca0ea90>
          └ <fastapi.applications.FastAPI object at 0x10bab6040>
  File "/Library/Python/3.8/site-packages/starlette/middleware/errors.py", line 181, in __call__
    raise exc from None
  File "/Library/Python/3.8/site-packages/starlette/middleware/errors.py", line 159, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x10ca0ae50>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10ca29940>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x10ca0ea30>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x10ca0ea90>
  File "/Library/Python/3.8/site-packages/starlette/middleware/base.py", line 25, in __call__
    response = await self.dispatch_func(request, self.call_next)
                     │    │             │        │    └ <function BaseHTTPMiddleware.call_next at 0x10bf74940>
                     │    │             │        └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x10ca0ea30>
                     │    │             └ <starlette.requests.Request object at 0x10ca299a0>
                     │    └ <function add_process_time_header at 0x10ca0aca0>
                     └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x10ca0ea30>

  File "./app/__init__.py", line 65, in add_process_time_header
    response = await call_next(request)
                     │         └ <starlette.requests.Request object at 0x10ca299a0>
                     └ <bound method BaseHTTPMiddleware.call_next of <starlette.middleware.base.BaseHTTPMiddleware object at 0x10ca0ea30>>

  File "/Library/Python/3.8/site-packages/starlette/middleware/base.py", line 45, in call_next
    task.result()
    │    └ <method 'result' of '_asyncio.Task' objects>
    └ <Task finished name='Task-6' coro=<BaseHTTPMiddleware.call_next.<locals>.coro() done, defined at /Library/Python/3.8/site-pac...
  File "/Library/Python/3.8/site-packages/starlette/middleware/base.py", line 38, in coro
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method Queue.put of <Queue at 0x10ca29640 maxsize=0 tasks=1>>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10ca29940>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x10ca0ea00>
          └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x10ca0ea30>
  File "/Library/Python/3.8/site-packages/starlette/middleware/cors.py", line 78, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method Queue.put of <Queue at 0x10ca29640 maxsize=0 tasks=1>>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10ca29940>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x10ca0e9a0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x10ca0ea00>
  File "/Library/Python/3.8/site-packages/starlette/exceptions.py", line 82, in __call__
    raise exc from None
  File "/Library/Python/3.8/site-packages/starlette/exceptions.py", line 71, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x10ca0af70>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10ca29940>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x10c7a8cd0>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x10ca0e9a0>
  File "/Library/Python/3.8/site-packages/starlette/routing.py", line 580, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x10ca0af70>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10ca29940>>
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │     └ <function Route.handle at 0x10bf42af0>
          └ <fastapi.routing.APIRoute object at 0x10c9ff880>
  File "/Library/Python/3.8/site-packages/starlette/routing.py", line 241, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x10ca0af70>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10ca29940>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <function request_response.<locals>.app at 0x10c9fac10>
          └ <fastapi.routing.APIRoute object at 0x10c9ff880>
  File "/Library/Python/3.8/site-packages/starlette/routing.py", line 52, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x10ca294c0>
                     └ <function get_request_handler.<locals>.app at 0x10c9fab80>
  File "/Library/Python/3.8/site-packages/fastapi/routing.py", line 214, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x10bf2db80>
  File "/Library/Python/3.8/site-packages/fastapi/routing.py", line 149, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'request': <starlette.requests.Request object at 0x10ca294c0>}
                 │         └ <function action at 0x10c88f5e0>
                 └ <fastapi.dependencies.models.Dependant object at 0x10c9ff970>

  File "./app/routers/conversation.py", line 10, in action
    return await controller.index(request)
                 │          │     └ <starlette.requests.Request object at 0x10ca294c0>
                 │          └ <staticmethod object at 0x10c86c7c0>
                 └ <class 'app.controllers.Conversation.Conversation'>

  File "./app/controllers/Conversation.py", line 195, in index
    login = Login(agent)
            │     └ <dialogflow_fulfillment.webhook_client.WebhookClient object at 0x10ca29af0>
            └ <class 'app.libraries.Login.Login'>

  File "./app/libraries/Login.py", line 15, in __init__
    if(self.checkingLogin(agent)):
       │    │             └ <dialogflow_fulfillment.webhook_client.WebhookClient object at 0x10ca29af0>
       │    └ <function Login.checkingLogin at 0x10c88f0d0>
       └ <app.libraries.Login.Login object at 0x10ca29b80>

  File "./app/libraries/Login.py", line 27, in checkingLogin
    self.verifiyAccess = self.CheckIsVerify(dict(id_telegram)['id'])
    │    │               │    │                  └ {'language_code': 'en', 'last_name': 'Sopian Tsaury', 'first_name': 'Yayan', 'username': 'yayan_sopian_tsaury', 'id': 1900341...
    │    │               │    └ <function Login.CheckIsVerify at 0x10c88f160>
    │    │               └ <app.libraries.Login.Login object at 0x10ca29b80>
    │    └ {'status': False}
    └ <app.libraries.Login.Login object at 0x10ca29b80>

  File "./app/libraries/Login.py", line 39, in CheckIsVerify
    userCheck = Usersbot.objects((Q(id_telegram=id_telegram) & Q(isverify=True))).count()
                │        │        │             │              └ <class 'mongoengine.queryset.visitor.Q'>
                │        │        │             └ 1900341814.0
                │        │        └ <class 'mongoengine.queryset.visitor.Q'>
                │        └ <mongoengine.queryset.manager.QuerySetManager object at 0x10c861430>
                └ <class 'app.models.usersbot.Usersbot'>

  File "/Library/Python/3.8/site-packages/mongoengine/queryset/manager.py", line 38, in __get__
    queryset = queryset_class(owner, owner._get_collection())
               │              │      │     └ <classmethod object at 0x10c401f40>
               │              │      └ <class 'app.models.usersbot.Usersbot'>
               │              └ <class 'app.models.usersbot.Usersbot'>
               └ <class 'mongoengine.queryset.queryset.QuerySet'>
  File "/Library/Python/3.8/site-packages/mongoengine/document.py", line 223, in _get_collection
    if cls._meta.get("auto_create_index", True) and db.client.is_primary:
       │   │     │                                  │  └ <property object at 0x10c29f5e0>
       │   │     │                                  └ Database(MongoClient(host=['127.0.0.1:27017'], document_class=dict, tz_aware=False, connect=True, read_preference=Primary()),...
       │   │     └ <method 'get' of 'dict' objects>
       │   └ {'abstract': False, 'max_documents': None, 'max_size': None, 'ordering': [], 'indexes': [], 'id_field': 'id_telegram', 'index...
       └ <class 'app.models.usersbot.Usersbot'>
  File "/Library/Python/3.8/site-packages/pymongo/mongo_client.py", line 1031, in is_primary
    return self._server_property('is_writable')
           │    └ <function MongoClient._server_property at 0x10c3f1700>
           └ MongoClient(host=['127.0.0.1:27017'], document_class=dict, tz_aware=False, connect=True, read_preference=Primary())
  File "/Library/Python/3.8/site-packages/pymongo/mongo_client.py", line 855, in _server_property
    server = self._topology.select_server(
             │    │         └ <function Topology.select_server at 0x10c3484c0>
             │    └ <Topology <TopologyDescription id: 61009979c961d371b1f9a8d0, topology_type: Single, servers: [<ServerDescription ('127.0.0.1'...
             └ MongoClient(host=['127.0.0.1:27017'], document_class=dict, tz_aware=False, connect=True, read_preference=Primary())
  File "/Library/Python/3.8/site-packages/pymongo/topology.py", line 241, in select_server
    return random.choice(self.select_servers(selector,
           │      │      │    │              └ <function writable_server_selector at 0x10c1d41f0>
           │      │      │    └ <function Topology.select_servers at 0x10c3483a0>
           │      │      └ <Topology <TopologyDescription id: 61009979c961d371b1f9a8d0, topology_type: Single, servers: [<ServerDescription ('127.0.0.1'...
           │      └ <bound method Random.choice of <random.Random object at 0x7fa2108cb610>>
           └ <module 'random' from '/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/ra...
  File "/Library/Python/3.8/site-packages/pymongo/topology.py", line 199, in select_servers
    server_descriptions = self._select_servers_loop(
                          │    └ <function Topology._select_servers_loop at 0x10c348430>
                          └ <Topology <TopologyDescription id: 61009979c961d371b1f9a8d0, topology_type: Single, servers: [<ServerDescription ('127.0.0.1'...
  File "/Library/Python/3.8/site-packages/pymongo/topology.py", line 215, in _select_servers_loop
    raise ServerSelectionTimeoutError(
          └ <class 'pymongo.errors.ServerSelectionTimeoutError'>

pymongo.errors.ServerSelectionTimeoutError: 127.0.0.1:27017: [Errno 61] Connection refused, Timeout: 30s, Topology Description: <TopologyDescription id: 61009979c961d371b1f9a8d0, topology_type: Single, servers: [<ServerDescription ('127.0.0.1', 27017) server_type: Unknown, rtt: None, error=AutoReconnect('127.0.0.1:27017: [Errno 61] Connection refused')>]>
INFO     2021-07-28 06:43:12.874 request id: app - uvicorn.protocols.http.h11_impl:send - 66.249.83.90:0 - "POST /webhook HTTP/1.1" 500
ERROR    2021-07-28 06:43:12.878 request id: app - uvicorn.protocols.http.h11_impl:run_asgi - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 5
               │     └ 8
               └ <function _main at 0x10b3060d0>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 5
           │    └ <function BaseProcess._bootstrap at 0x10b0d9b80>
           └ <SpawnProcess name='SpawnProcess-1' parent=1291 started>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x10b0d91f0>
    └ <SpawnProcess name='SpawnProcess-1' parent=1291 started>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x10b36d100>, 'target': <bound method Server.run of <uvicorn.server.Server object...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-1' parent=1291 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-1' parent=1291 started>
    │    └ <function subprocess_started at 0x10b945670>
    └ <SpawnProcess name='SpawnProcess-1' parent=1291 started>
  File "/Library/Python/3.8/site-packages/uvicorn/subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=4, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 5000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x10b36d1f0>>
  File "/Library/Python/3.8/site-packages/uvicorn/server.py", line 50, in run
    loop.run_until_complete(self.serve(sockets=sockets))
    │    │                  │    │             └ [<socket.socket fd=4, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 5000)>]
    │    │                  │    └ <function Server.serve at 0x10b942c10>
    │    │                  └ <uvicorn.server.Server object at 0x10b36d1f0>
    │    └ <function BaseEventLoop.run_until_complete at 0x10b5ff790>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/asyncio/base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x10b5ff700>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/asyncio/base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x10b601280>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/asyncio/base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x10b534160>
    └ <Handle <TaskWakeupMethWrapper object at 0x10ca4fbe0>(<Future finished result=None>)>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/asyncio/events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x10ca4fbe0>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x10ca4fbe0>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x10ca4fbe0>(<Future finished result=None>)>
> File "/Library/Python/3.8/site-packages/uvicorn/protocols/http/h11_impl.py", line 369, in run_asgi
    result = await app(self.scope, self.receive, self.send)
                   │   │    │      │    │        │    └ <function RequestResponseCycle.send at 0x10baad310>
                   │   │    │      │    │        └ <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10ca4fe50>
                   │   │    │      │    └ <function RequestResponseCycle.receive at 0x10baad3a0>
                   │   │    │      └ <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10ca4fe50>
                   │   │    └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
                   │   └ <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10ca4fe50>
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x10ba65370>
  File "/Library/Python/3.8/site-packages/uvicorn/middleware/proxy_headers.py", line 59, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10ca4fe50>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10ca4fe50>>
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x10bab6040>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x10ba65370>
  File "/Library/Python/3.8/site-packages/fastapi/applications.py", line 199, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10ca4fe50>>
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10ca4fe50>>
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
  File "/Library/Python/3.8/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10ca4fe50>>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10ca4fe50>>
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x10ca0ea90>
          └ <fastapi.applications.FastAPI object at 0x10bab6040>
  File "/Library/Python/3.8/site-packages/starlette/middleware/errors.py", line 181, in __call__
    raise exc from None
  File "/Library/Python/3.8/site-packages/starlette/middleware/errors.py", line 159, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x10caba0d0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10ca4fe50>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x10ca0ea30>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x10ca0ea90>
  File "/Library/Python/3.8/site-packages/starlette/middleware/base.py", line 25, in __call__
    response = await self.dispatch_func(request, self.call_next)
                     │    │             │        │    └ <function BaseHTTPMiddleware.call_next at 0x10bf74940>
                     │    │             │        └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x10ca0ea30>
                     │    │             └ <starlette.requests.Request object at 0x10ca4feb0>
                     │    └ <function add_process_time_header at 0x10ca0aca0>
                     └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x10ca0ea30>

  File "./app/__init__.py", line 65, in add_process_time_header
    response = await call_next(request)
                     │         └ <starlette.requests.Request object at 0x10ca4feb0>
                     └ <bound method BaseHTTPMiddleware.call_next of <starlette.middleware.base.BaseHTTPMiddleware object at 0x10ca0ea30>>

  File "/Library/Python/3.8/site-packages/starlette/middleware/base.py", line 45, in call_next
    task.result()
    │    └ <method 'result' of '_asyncio.Task' objects>
    └ <Task finished name='Task-10' coro=<BaseHTTPMiddleware.call_next.<locals>.coro() done, defined at /Library/Python/3.8/site-pa...
  File "/Library/Python/3.8/site-packages/starlette/middleware/base.py", line 38, in coro
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method Queue.put of <Queue at 0x10ca4f550 maxsize=0 tasks=1>>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10ca4fe50>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x10ca0ea00>
          └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x10ca0ea30>
  File "/Library/Python/3.8/site-packages/starlette/middleware/cors.py", line 78, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method Queue.put of <Queue at 0x10ca4f550 maxsize=0 tasks=1>>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10ca4fe50>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x10ca0e9a0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x10ca0ea00>
  File "/Library/Python/3.8/site-packages/starlette/exceptions.py", line 82, in __call__
    raise exc from None
  File "/Library/Python/3.8/site-packages/starlette/exceptions.py", line 71, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x10ca610d0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10ca4fe50>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x10c7a8cd0>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x10ca0e9a0>
  File "/Library/Python/3.8/site-packages/starlette/routing.py", line 580, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x10ca610d0>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10ca4fe50>>
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │     └ <function Route.handle at 0x10bf42af0>
          └ <fastapi.routing.APIRoute object at 0x10c9ff880>
  File "/Library/Python/3.8/site-packages/starlette/routing.py", line 241, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x10ca610d0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10ca4fe50>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <function request_response.<locals>.app at 0x10c9fac10>
          └ <fastapi.routing.APIRoute object at 0x10c9ff880>
  File "/Library/Python/3.8/site-packages/starlette/routing.py", line 52, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x10ca4fc10>
                     └ <function get_request_handler.<locals>.app at 0x10c9fab80>
  File "/Library/Python/3.8/site-packages/fastapi/routing.py", line 214, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x10bf2db80>
  File "/Library/Python/3.8/site-packages/fastapi/routing.py", line 149, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'request': <starlette.requests.Request object at 0x10ca4fc10>}
                 │         └ <function action at 0x10c88f5e0>
                 └ <fastapi.dependencies.models.Dependant object at 0x10c9ff970>

  File "./app/routers/conversation.py", line 10, in action
    return await controller.index(request)
                 │          │     └ <starlette.requests.Request object at 0x10ca4fc10>
                 │          └ <staticmethod object at 0x10c86c7c0>
                 └ <class 'app.controllers.Conversation.Conversation'>

  File "./app/controllers/Conversation.py", line 195, in index
    login = Login(agent)
            │     └ <dialogflow_fulfillment.webhook_client.WebhookClient object at 0x10ca4ffd0>
            └ <class 'app.libraries.Login.Login'>

  File "./app/libraries/Login.py", line 15, in __init__
    if(self.checkingLogin(agent)):
       │    │             └ <dialogflow_fulfillment.webhook_client.WebhookClient object at 0x10ca4ffd0>
       │    └ <function Login.checkingLogin at 0x10c88f0d0>
       └ <app.libraries.Login.Login object at 0x10ca4f820>

  File "./app/libraries/Login.py", line 27, in checkingLogin
    self.verifiyAccess = self.CheckIsVerify(dict(id_telegram)['id'])
    │    │               │    │                  └ {'first_name': 'Yayan', 'username': 'yayan_sopian_tsaury', 'language_code': 'en', 'id': 1900341814.0, 'last_name': 'Sopian Ts...
    │    │               │    └ <function Login.CheckIsVerify at 0x10c88f160>
    │    │               └ <app.libraries.Login.Login object at 0x10ca4f820>
    │    └ {'status': False}
    └ <app.libraries.Login.Login object at 0x10ca4f820>

  File "./app/libraries/Login.py", line 39, in CheckIsVerify
    userCheck = Usersbot.objects((Q(id_telegram=id_telegram) & Q(isverify=True))).count()
                │        │        │             │              └ <class 'mongoengine.queryset.visitor.Q'>
                │        │        │             └ 1900341814.0
                │        │        └ <class 'mongoengine.queryset.visitor.Q'>
                │        └ <mongoengine.queryset.manager.QuerySetManager object at 0x10c861430>
                └ <class 'app.models.usersbot.Usersbot'>

  File "/Library/Python/3.8/site-packages/mongoengine/queryset/queryset.py", line 144, in count
    return super().count(with_limit_and_skip)
                         └ False
  File "/Library/Python/3.8/site-packages/mongoengine/queryset/base.py", line 420, in count
    count = count_documents(
            └ <function count_documents at 0x10c459820>
  File "/Library/Python/3.8/site-packages/mongoengine/pymongo_support.py", line 34, in count_documents
    return collection.count_documents(filter=filter, **kwargs)
           │          │                      │         └ {}
           │          │                      └ {'_id': 1900341814, 'isverify': True}
           │          └ <function Collection.count_documents at 0x10c27a700>
           └ Collection(Database(MongoClient(host=['127.0.0.1:27017'], document_class=dict, tz_aware=False, connect=True, read_preference=...
  File "/Library/Python/3.8/site-packages/pymongo/collection.py", line 1785, in count_documents
    return self.__database.client._retryable_read(
           └ Collection(Database(MongoClient(host=['127.0.0.1:27017'], document_class=dict, tz_aware=False, connect=True, read_preference=...
  File "/Library/Python/3.8/site-packages/pymongo/mongo_client.py", line 1460, in _retryable_read
    server = self._select_server(
             │    └ <function MongoClient._select_server at 0x10c3f4670>
             └ MongoClient(host=['127.0.0.1:27017'], document_class=dict, tz_aware=False, connect=True, read_preference=Primary())
  File "/Library/Python/3.8/site-packages/pymongo/mongo_client.py", line 1278, in _select_server
    server = topology.select_server(server_selector)
             │        │             └ Primary()
             │        └ <function Topology.select_server at 0x10c3484c0>
             └ <Topology <TopologyDescription id: 61009979c961d371b1f9a8d0, topology_type: Single, servers: [<ServerDescription ('127.0.0.1'...
  File "/Library/Python/3.8/site-packages/pymongo/topology.py", line 241, in select_server
    return random.choice(self.select_servers(selector,
           │      │      │    │              └ Primary()
           │      │      │    └ <function Topology.select_servers at 0x10c3483a0>
           │      │      └ <Topology <TopologyDescription id: 61009979c961d371b1f9a8d0, topology_type: Single, servers: [<ServerDescription ('127.0.0.1'...
           │      └ <bound method Random.choice of <random.Random object at 0x7fa2108cb610>>
           └ <module 'random' from '/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/ra...
  File "/Library/Python/3.8/site-packages/pymongo/topology.py", line 199, in select_servers
    server_descriptions = self._select_servers_loop(
                          │    └ <function Topology._select_servers_loop at 0x10c348430>
                          └ <Topology <TopologyDescription id: 61009979c961d371b1f9a8d0, topology_type: Single, servers: [<ServerDescription ('127.0.0.1'...
  File "/Library/Python/3.8/site-packages/pymongo/topology.py", line 215, in _select_servers_loop
    raise ServerSelectionTimeoutError(
          └ <class 'pymongo.errors.ServerSelectionTimeoutError'>

pymongo.errors.ServerSelectionTimeoutError: 127.0.0.1:27017: [Errno 61] Connection refused, Timeout: 30s, Topology Description: <TopologyDescription id: 61009979c961d371b1f9a8d0, topology_type: Single, servers: [<ServerDescription ('127.0.0.1', 27017) server_type: Unknown, rtt: None, error=AutoReconnect('127.0.0.1:27017: [Errno 61] Connection refused')>]>
ERROR    2021-07-28 06:43:12.927 request id: app - uvicorn.protocols.http.h11_impl:run_asgi - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 5
               │     └ 8
               └ <function _main at 0x10b3060d0>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 5
           │    └ <function BaseProcess._bootstrap at 0x10b0d9b80>
           └ <SpawnProcess name='SpawnProcess-1' parent=1291 started>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x10b0d91f0>
    └ <SpawnProcess name='SpawnProcess-1' parent=1291 started>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x10b36d100>, 'target': <bound method Server.run of <uvicorn.server.Server object...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-1' parent=1291 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-1' parent=1291 started>
    │    └ <function subprocess_started at 0x10b945670>
    └ <SpawnProcess name='SpawnProcess-1' parent=1291 started>
  File "/Library/Python/3.8/site-packages/uvicorn/subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=4, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 5000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x10b36d1f0>>
  File "/Library/Python/3.8/site-packages/uvicorn/server.py", line 50, in run
    loop.run_until_complete(self.serve(sockets=sockets))
    │    │                  │    │             └ [<socket.socket fd=4, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 5000)>]
    │    │                  │    └ <function Server.serve at 0x10b942c10>
    │    │                  └ <uvicorn.server.Server object at 0x10b36d1f0>
    │    └ <function BaseEventLoop.run_until_complete at 0x10b5ff790>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/asyncio/base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x10b5ff700>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/asyncio/base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x10b601280>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/asyncio/base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x10b534160>
    └ <Handle <TaskWakeupMethWrapper object at 0x10ca4fbe0>(<Future finished result=None>)>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/asyncio/events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x10ca4fbe0>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x10ca4fbe0>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x10ca4fbe0>(<Future finished result=None>)>
> File "/Library/Python/3.8/site-packages/uvicorn/protocols/http/h11_impl.py", line 369, in run_asgi
    result = await app(self.scope, self.receive, self.send)
                   │   │    │      │    │        │    └ <function RequestResponseCycle.send at 0x10baad310>
                   │   │    │      │    │        └ <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10ca4fe50>
                   │   │    │      │    └ <function RequestResponseCycle.receive at 0x10baad3a0>
                   │   │    │      └ <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10ca4fe50>
                   │   │    └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
                   │   └ <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10ca4fe50>
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x10ba65370>
  File "/Library/Python/3.8/site-packages/uvicorn/middleware/proxy_headers.py", line 59, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10ca4fe50>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10ca4fe50>>
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x10bab6040>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x10ba65370>
  File "/Library/Python/3.8/site-packages/fastapi/applications.py", line 199, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10ca4fe50>>
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10ca4fe50>>
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
  File "/Library/Python/3.8/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10ca4fe50>>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10ca4fe50>>
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x10ca0ea90>
          └ <fastapi.applications.FastAPI object at 0x10bab6040>
  File "/Library/Python/3.8/site-packages/starlette/middleware/errors.py", line 181, in __call__
    raise exc from None
  File "/Library/Python/3.8/site-packages/starlette/middleware/errors.py", line 159, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x10caba0d0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10ca4fe50>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x10ca0ea30>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x10ca0ea90>
  File "/Library/Python/3.8/site-packages/starlette/middleware/base.py", line 25, in __call__
    response = await self.dispatch_func(request, self.call_next)
                     │    │             │        │    └ <function BaseHTTPMiddleware.call_next at 0x10bf74940>
                     │    │             │        └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x10ca0ea30>
                     │    │             └ <starlette.requests.Request object at 0x10ca4feb0>
                     │    └ <function add_process_time_header at 0x10ca0aca0>
                     └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x10ca0ea30>

  File "./app/__init__.py", line 65, in add_process_time_header
    response = await call_next(request)
                     │         └ <starlette.requests.Request object at 0x10ca4feb0>
                     └ <bound method BaseHTTPMiddleware.call_next of <starlette.middleware.base.BaseHTTPMiddleware object at 0x10ca0ea30>>

  File "/Library/Python/3.8/site-packages/starlette/middleware/base.py", line 45, in call_next
    task.result()
    │    └ <method 'result' of '_asyncio.Task' objects>
    └ <Task finished name='Task-10' coro=<BaseHTTPMiddleware.call_next.<locals>.coro() done, defined at /Library/Python/3.8/site-pa...
  File "/Library/Python/3.8/site-packages/starlette/middleware/base.py", line 38, in coro
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method Queue.put of <Queue at 0x10ca4f550 maxsize=0 tasks=1>>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10ca4fe50>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x10ca0ea00>
          └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x10ca0ea30>
  File "/Library/Python/3.8/site-packages/starlette/middleware/cors.py", line 78, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method Queue.put of <Queue at 0x10ca4f550 maxsize=0 tasks=1>>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10ca4fe50>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x10ca0e9a0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x10ca0ea00>
  File "/Library/Python/3.8/site-packages/starlette/exceptions.py", line 82, in __call__
    raise exc from None
  File "/Library/Python/3.8/site-packages/starlette/exceptions.py", line 71, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x10ca610d0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10ca4fe50>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x10c7a8cd0>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x10ca0e9a0>
  File "/Library/Python/3.8/site-packages/starlette/routing.py", line 580, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x10ca610d0>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10ca4fe50>>
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │     └ <function Route.handle at 0x10bf42af0>
          └ <fastapi.routing.APIRoute object at 0x10c9ff880>
  File "/Library/Python/3.8/site-packages/starlette/routing.py", line 241, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x10ca610d0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10ca4fe50>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <function request_response.<locals>.app at 0x10c9fac10>
          └ <fastapi.routing.APIRoute object at 0x10c9ff880>
  File "/Library/Python/3.8/site-packages/starlette/routing.py", line 52, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x10ca4fc10>
                     └ <function get_request_handler.<locals>.app at 0x10c9fab80>
  File "/Library/Python/3.8/site-packages/fastapi/routing.py", line 214, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x10bf2db80>
  File "/Library/Python/3.8/site-packages/fastapi/routing.py", line 149, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'request': <starlette.requests.Request object at 0x10ca4fc10>}
                 │         └ <function action at 0x10c88f5e0>
                 └ <fastapi.dependencies.models.Dependant object at 0x10c9ff970>

  File "./app/routers/conversation.py", line 10, in action
    return await controller.index(request)
                 │          │     └ <starlette.requests.Request object at 0x10ca4fc10>
                 │          └ <staticmethod object at 0x10c86c7c0>
                 └ <class 'app.controllers.Conversation.Conversation'>

  File "./app/controllers/Conversation.py", line 195, in index
    login = Login(agent)
            │     └ <dialogflow_fulfillment.webhook_client.WebhookClient object at 0x10ca4ffd0>
            └ <class 'app.libraries.Login.Login'>

  File "./app/libraries/Login.py", line 15, in __init__
    if(self.checkingLogin(agent)):
       │    │             └ <dialogflow_fulfillment.webhook_client.WebhookClient object at 0x10ca4ffd0>
       │    └ <function Login.checkingLogin at 0x10c88f0d0>
       └ <app.libraries.Login.Login object at 0x10ca4f820>

  File "./app/libraries/Login.py", line 27, in checkingLogin
    self.verifiyAccess = self.CheckIsVerify(dict(id_telegram)['id'])
    │    │               │    │                  └ {'first_name': 'Yayan', 'username': 'yayan_sopian_tsaury', 'language_code': 'en', 'id': 1900341814.0, 'last_name': 'Sopian Ts...
    │    │               │    └ <function Login.CheckIsVerify at 0x10c88f160>
    │    │               └ <app.libraries.Login.Login object at 0x10ca4f820>
    │    └ {'status': False}
    └ <app.libraries.Login.Login object at 0x10ca4f820>

  File "./app/libraries/Login.py", line 39, in CheckIsVerify
    userCheck = Usersbot.objects((Q(id_telegram=id_telegram) & Q(isverify=True))).count()
                │        │        │             │              └ <class 'mongoengine.queryset.visitor.Q'>
                │        │        │             └ 1900341814.0
                │        │        └ <class 'mongoengine.queryset.visitor.Q'>
                │        └ <mongoengine.queryset.manager.QuerySetManager object at 0x10c861430>
                └ <class 'app.models.usersbot.Usersbot'>

  File "/Library/Python/3.8/site-packages/mongoengine/queryset/queryset.py", line 144, in count
    return super().count(with_limit_and_skip)
                         └ False
  File "/Library/Python/3.8/site-packages/mongoengine/queryset/base.py", line 420, in count
    count = count_documents(
            └ <function count_documents at 0x10c459820>
  File "/Library/Python/3.8/site-packages/mongoengine/pymongo_support.py", line 34, in count_documents
    return collection.count_documents(filter=filter, **kwargs)
           │          │                      │         └ {}
           │          │                      └ {'_id': 1900341814, 'isverify': True}
           │          └ <function Collection.count_documents at 0x10c27a700>
           └ Collection(Database(MongoClient(host=['127.0.0.1:27017'], document_class=dict, tz_aware=False, connect=True, read_preference=...
  File "/Library/Python/3.8/site-packages/pymongo/collection.py", line 1785, in count_documents
    return self.__database.client._retryable_read(
           └ Collection(Database(MongoClient(host=['127.0.0.1:27017'], document_class=dict, tz_aware=False, connect=True, read_preference=...
  File "/Library/Python/3.8/site-packages/pymongo/mongo_client.py", line 1460, in _retryable_read
    server = self._select_server(
             │    └ <function MongoClient._select_server at 0x10c3f4670>
             └ MongoClient(host=['127.0.0.1:27017'], document_class=dict, tz_aware=False, connect=True, read_preference=Primary())
  File "/Library/Python/3.8/site-packages/pymongo/mongo_client.py", line 1278, in _select_server
    server = topology.select_server(server_selector)
             │        │             └ Primary()
             │        └ <function Topology.select_server at 0x10c3484c0>
             └ <Topology <TopologyDescription id: 61009979c961d371b1f9a8d0, topology_type: Single, servers: [<ServerDescription ('127.0.0.1'...
  File "/Library/Python/3.8/site-packages/pymongo/topology.py", line 241, in select_server
    return random.choice(self.select_servers(selector,
           │      │      │    │              └ Primary()
           │      │      │    └ <function Topology.select_servers at 0x10c3483a0>
           │      │      └ <Topology <TopologyDescription id: 61009979c961d371b1f9a8d0, topology_type: Single, servers: [<ServerDescription ('127.0.0.1'...
           │      └ <bound method Random.choice of <random.Random object at 0x7fa2108cb610>>
           └ <module 'random' from '/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/ra...
  File "/Library/Python/3.8/site-packages/pymongo/topology.py", line 199, in select_servers
    server_descriptions = self._select_servers_loop(
                          │    └ <function Topology._select_servers_loop at 0x10c348430>
                          └ <Topology <TopologyDescription id: 61009979c961d371b1f9a8d0, topology_type: Single, servers: [<ServerDescription ('127.0.0.1'...
  File "/Library/Python/3.8/site-packages/pymongo/topology.py", line 215, in _select_servers_loop
    raise ServerSelectionTimeoutError(
          └ <class 'pymongo.errors.ServerSelectionTimeoutError'>

pymongo.errors.ServerSelectionTimeoutError: 127.0.0.1:27017: [Errno 61] Connection refused, Timeout: 30s, Topology Description: <TopologyDescription id: 61009979c961d371b1f9a8d0, topology_type: Single, servers: [<ServerDescription ('127.0.0.1', 27017) server_type: Unknown, rtt: None, error=AutoReconnect('127.0.0.1:27017: [Errno 61] Connection refused')>]>
ERROR    2021-07-28 06:43:12.953 request id: app - uvicorn.protocols.http.h11_impl:run_asgi - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 5
               │     └ 8
               └ <function _main at 0x10b3060d0>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 5
           │    └ <function BaseProcess._bootstrap at 0x10b0d9b80>
           └ <SpawnProcess name='SpawnProcess-1' parent=1291 started>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x10b0d91f0>
    └ <SpawnProcess name='SpawnProcess-1' parent=1291 started>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x10b36d100>, 'target': <bound method Server.run of <uvicorn.server.Server object...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-1' parent=1291 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-1' parent=1291 started>
    │    └ <function subprocess_started at 0x10b945670>
    └ <SpawnProcess name='SpawnProcess-1' parent=1291 started>
  File "/Library/Python/3.8/site-packages/uvicorn/subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=4, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 5000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x10b36d1f0>>
  File "/Library/Python/3.8/site-packages/uvicorn/server.py", line 50, in run
    loop.run_until_complete(self.serve(sockets=sockets))
    │    │                  │    │             └ [<socket.socket fd=4, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 5000)>]
    │    │                  │    └ <function Server.serve at 0x10b942c10>
    │    │                  └ <uvicorn.server.Server object at 0x10b36d1f0>
    │    └ <function BaseEventLoop.run_until_complete at 0x10b5ff790>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/asyncio/base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x10b5ff700>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/asyncio/base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x10b601280>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/asyncio/base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x10b534160>
    └ <Handle <TaskWakeupMethWrapper object at 0x10ca4fbe0>(<Future finished result=None>)>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/asyncio/events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x10ca4fbe0>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x10ca4fbe0>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x10ca4fbe0>(<Future finished result=None>)>
> File "/Library/Python/3.8/site-packages/uvicorn/protocols/http/h11_impl.py", line 369, in run_asgi
    result = await app(self.scope, self.receive, self.send)
                   │   │    │      │    │        │    └ <function RequestResponseCycle.send at 0x10baad310>
                   │   │    │      │    │        └ <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10ca4fe50>
                   │   │    │      │    └ <function RequestResponseCycle.receive at 0x10baad3a0>
                   │   │    │      └ <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10ca4fe50>
                   │   │    └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
                   │   └ <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10ca4fe50>
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x10ba65370>
  File "/Library/Python/3.8/site-packages/uvicorn/middleware/proxy_headers.py", line 59, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10ca4fe50>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10ca4fe50>>
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x10bab6040>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x10ba65370>
  File "/Library/Python/3.8/site-packages/fastapi/applications.py", line 199, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10ca4fe50>>
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10ca4fe50>>
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
  File "/Library/Python/3.8/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10ca4fe50>>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10ca4fe50>>
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x10ca0ea90>
          └ <fastapi.applications.FastAPI object at 0x10bab6040>
  File "/Library/Python/3.8/site-packages/starlette/middleware/errors.py", line 181, in __call__
    raise exc from None
  File "/Library/Python/3.8/site-packages/starlette/middleware/errors.py", line 159, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x10caba0d0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10ca4fe50>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x10ca0ea30>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x10ca0ea90>
  File "/Library/Python/3.8/site-packages/starlette/middleware/base.py", line 25, in __call__
    response = await self.dispatch_func(request, self.call_next)
                     │    │             │        │    └ <function BaseHTTPMiddleware.call_next at 0x10bf74940>
                     │    │             │        └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x10ca0ea30>
                     │    │             └ <starlette.requests.Request object at 0x10ca4feb0>
                     │    └ <function add_process_time_header at 0x10ca0aca0>
                     └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x10ca0ea30>

  File "./app/__init__.py", line 65, in add_process_time_header
    response = await call_next(request)
                     │         └ <starlette.requests.Request object at 0x10ca4feb0>
                     └ <bound method BaseHTTPMiddleware.call_next of <starlette.middleware.base.BaseHTTPMiddleware object at 0x10ca0ea30>>

  File "/Library/Python/3.8/site-packages/starlette/middleware/base.py", line 45, in call_next
    task.result()
    │    └ <method 'result' of '_asyncio.Task' objects>
    └ <Task finished name='Task-10' coro=<BaseHTTPMiddleware.call_next.<locals>.coro() done, defined at /Library/Python/3.8/site-pa...
  File "/Library/Python/3.8/site-packages/starlette/middleware/base.py", line 38, in coro
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method Queue.put of <Queue at 0x10ca4f550 maxsize=0 tasks=1>>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10ca4fe50>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x10ca0ea00>
          └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x10ca0ea30>
  File "/Library/Python/3.8/site-packages/starlette/middleware/cors.py", line 78, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method Queue.put of <Queue at 0x10ca4f550 maxsize=0 tasks=1>>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10ca4fe50>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x10ca0e9a0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x10ca0ea00>
  File "/Library/Python/3.8/site-packages/starlette/exceptions.py", line 82, in __call__
    raise exc from None
  File "/Library/Python/3.8/site-packages/starlette/exceptions.py", line 71, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x10ca610d0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10ca4fe50>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x10c7a8cd0>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x10ca0e9a0>
  File "/Library/Python/3.8/site-packages/starlette/routing.py", line 580, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x10ca610d0>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10ca4fe50>>
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │     └ <function Route.handle at 0x10bf42af0>
          └ <fastapi.routing.APIRoute object at 0x10c9ff880>
  File "/Library/Python/3.8/site-packages/starlette/routing.py", line 241, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x10ca610d0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10ca4fe50>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <function request_response.<locals>.app at 0x10c9fac10>
          └ <fastapi.routing.APIRoute object at 0x10c9ff880>
  File "/Library/Python/3.8/site-packages/starlette/routing.py", line 52, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x10ca4fc10>
                     └ <function get_request_handler.<locals>.app at 0x10c9fab80>
  File "/Library/Python/3.8/site-packages/fastapi/routing.py", line 214, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x10bf2db80>
  File "/Library/Python/3.8/site-packages/fastapi/routing.py", line 149, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'request': <starlette.requests.Request object at 0x10ca4fc10>}
                 │         └ <function action at 0x10c88f5e0>
                 └ <fastapi.dependencies.models.Dependant object at 0x10c9ff970>

  File "./app/routers/conversation.py", line 10, in action
    return await controller.index(request)
                 │          │     └ <starlette.requests.Request object at 0x10ca4fc10>
                 │          └ <staticmethod object at 0x10c86c7c0>
                 └ <class 'app.controllers.Conversation.Conversation'>

  File "./app/controllers/Conversation.py", line 195, in index
    login = Login(agent)
            │     └ <dialogflow_fulfillment.webhook_client.WebhookClient object at 0x10ca4ffd0>
            └ <class 'app.libraries.Login.Login'>

  File "./app/libraries/Login.py", line 15, in __init__
    if(self.checkingLogin(agent)):
       │    │             └ <dialogflow_fulfillment.webhook_client.WebhookClient object at 0x10ca4ffd0>
       │    └ <function Login.checkingLogin at 0x10c88f0d0>
       └ <app.libraries.Login.Login object at 0x10ca4f820>

  File "./app/libraries/Login.py", line 27, in checkingLogin
    self.verifiyAccess = self.CheckIsVerify(dict(id_telegram)['id'])
    │    │               │    │                  └ {'first_name': 'Yayan', 'username': 'yayan_sopian_tsaury', 'language_code': 'en', 'id': 1900341814.0, 'last_name': 'Sopian Ts...
    │    │               │    └ <function Login.CheckIsVerify at 0x10c88f160>
    │    │               └ <app.libraries.Login.Login object at 0x10ca4f820>
    │    └ {'status': False}
    └ <app.libraries.Login.Login object at 0x10ca4f820>

  File "./app/libraries/Login.py", line 39, in CheckIsVerify
    userCheck = Usersbot.objects((Q(id_telegram=id_telegram) & Q(isverify=True))).count()
                │        │        │             │              └ <class 'mongoengine.queryset.visitor.Q'>
                │        │        │             └ 1900341814.0
                │        │        └ <class 'mongoengine.queryset.visitor.Q'>
                │        └ <mongoengine.queryset.manager.QuerySetManager object at 0x10c861430>
                └ <class 'app.models.usersbot.Usersbot'>

  File "/Library/Python/3.8/site-packages/mongoengine/queryset/queryset.py", line 144, in count
    return super().count(with_limit_and_skip)
                         └ False
  File "/Library/Python/3.8/site-packages/mongoengine/queryset/base.py", line 420, in count
    count = count_documents(
            └ <function count_documents at 0x10c459820>
  File "/Library/Python/3.8/site-packages/mongoengine/pymongo_support.py", line 34, in count_documents
    return collection.count_documents(filter=filter, **kwargs)
           │          │                      │         └ {}
           │          │                      └ {'_id': 1900341814, 'isverify': True}
           │          └ <function Collection.count_documents at 0x10c27a700>
           └ Collection(Database(MongoClient(host=['127.0.0.1:27017'], document_class=dict, tz_aware=False, connect=True, read_preference=...
  File "/Library/Python/3.8/site-packages/pymongo/collection.py", line 1785, in count_documents
    return self.__database.client._retryable_read(
           └ Collection(Database(MongoClient(host=['127.0.0.1:27017'], document_class=dict, tz_aware=False, connect=True, read_preference=...
  File "/Library/Python/3.8/site-packages/pymongo/mongo_client.py", line 1460, in _retryable_read
    server = self._select_server(
             │    └ <function MongoClient._select_server at 0x10c3f4670>
             └ MongoClient(host=['127.0.0.1:27017'], document_class=dict, tz_aware=False, connect=True, read_preference=Primary())
  File "/Library/Python/3.8/site-packages/pymongo/mongo_client.py", line 1278, in _select_server
    server = topology.select_server(server_selector)
             │        │             └ Primary()
             │        └ <function Topology.select_server at 0x10c3484c0>
             └ <Topology <TopologyDescription id: 61009979c961d371b1f9a8d0, topology_type: Single, servers: [<ServerDescription ('127.0.0.1'...
  File "/Library/Python/3.8/site-packages/pymongo/topology.py", line 241, in select_server
    return random.choice(self.select_servers(selector,
           │      │      │    │              └ Primary()
           │      │      │    └ <function Topology.select_servers at 0x10c3483a0>
           │      │      └ <Topology <TopologyDescription id: 61009979c961d371b1f9a8d0, topology_type: Single, servers: [<ServerDescription ('127.0.0.1'...
           │      └ <bound method Random.choice of <random.Random object at 0x7fa2108cb610>>
           └ <module 'random' from '/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/ra...
  File "/Library/Python/3.8/site-packages/pymongo/topology.py", line 199, in select_servers
    server_descriptions = self._select_servers_loop(
                          │    └ <function Topology._select_servers_loop at 0x10c348430>
                          └ <Topology <TopologyDescription id: 61009979c961d371b1f9a8d0, topology_type: Single, servers: [<ServerDescription ('127.0.0.1'...
  File "/Library/Python/3.8/site-packages/pymongo/topology.py", line 215, in _select_servers_loop
    raise ServerSelectionTimeoutError(
          └ <class 'pymongo.errors.ServerSelectionTimeoutError'>

pymongo.errors.ServerSelectionTimeoutError: 127.0.0.1:27017: [Errno 61] Connection refused, Timeout: 30s, Topology Description: <TopologyDescription id: 61009979c961d371b1f9a8d0, topology_type: Single, servers: [<ServerDescription ('127.0.0.1', 27017) server_type: Unknown, rtt: None, error=AutoReconnect('127.0.0.1:27017: [Errno 61] Connection refused')>]>
INFO     2021-07-28 06:43:40.888 request id: app - uvicorn.protocols.http.h11_impl:send - 66.249.83.72:0 - "POST /webhook HTTP/1.1" 200
INFO     2021-07-28 06:44:21.571 request id: app - uvicorn.protocols.http.h11_impl:send - 74.125.212.212:0 - "POST /webhook HTTP/1.1" 200
INFO     2021-07-28 06:44:25.342 request id: app - uvicorn.protocols.http.h11_impl:send - 74.125.212.212:0 - "POST /webhook HTTP/1.1" 200
INFO     2021-07-28 06:44:44.888 request id: app - uvicorn.protocols.http.h11_impl:send - 66.249.83.71:0 - "POST /webhook HTTP/1.1" 200
INFO     2021-07-28 06:45:09.874 request id: app - uvicorn.protocols.http.h11_impl:send - 66.249.83.91:0 - "POST /webhook HTTP/1.1" 200
INFO     2021-07-28 06:45:56.450 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:49959 - "GET /login/461119 HTTP/1.1" 200
INFO     2021-07-28 06:46:02.289 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:49966 - "GET /login/461119 HTTP/1.1" 200
INFO     2021-07-28 06:46:02.290 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:49969 - "GET /report/answered HTTP/1.1" 200
INFO     2021-07-28 06:46:02.291 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:49970 - "GET /report/category HTTP/1.1" 200
INFO     2021-07-28 06:46:02.293 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:49972 - "GET /report/product HTTP/1.1" 200
INFO     2021-07-28 06:46:05.125 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:49972 - "GET /product/page?limit=10&offset=0&filter= HTTP/1.1" 200
INFO     2021-07-28 06:46:08.436 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:49972 - "GET /product/page?limit=10&offset=0&filter=test HTTP/1.1" 200
INFO     2021-07-28 06:46:09.937 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:49972 - "GET /product/610002789d4ff36dbbafa66d HTTP/1.1" 200
INFO     2021-07-28 06:54:57.277 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:50078 - "OPTIONS /product/610002789d4ff36dbbafa66d HTTP/1.1" 200
INFO     2021-07-28 06:54:57.360 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:50080 - "PUT /product/610002789d4ff36dbbafa66d HTTP/1.1" 200
INFO     2021-07-28 06:54:58.457 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:50080 - "GET /product/page?limit=10&offset=0&filter= HTTP/1.1" 200
INFO     2021-07-28 06:55:01.374 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:50080 - "GET /product/page?limit=10&offset=0&filter=test HTTP/1.1" 200
INFO     2021-07-28 06:55:03.545 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:50080 - "GET /product/610002789d4ff36dbbafa66d HTTP/1.1" 200
INFO     2021-07-28 06:55:40.705 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:50132 - "PUT /product/610002789d4ff36dbbafa66d HTTP/1.1" 200
INFO     2021-07-28 06:55:41.813 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:50132 - "GET /product/page?limit=10&offset=0&filter= HTTP/1.1" 200
INFO     2021-07-28 06:55:44.417 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:50132 - "GET /product/page?limit=10&offset=0&filter=test HTTP/1.1" 200
INFO     2021-07-28 06:55:46.723 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:50132 - "GET /product/610002789d4ff36dbbafa66d HTTP/1.1" 200
INFO     2021-07-28 06:56:01.720 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:50231 - "GET /login/461119 HTTP/1.1" 200
INFO     2021-07-28 06:56:06.245 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:50231 - "GET /login/461119 HTTP/1.1" 200
INFO     2021-07-28 06:56:06.318 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:50260 - "GET /report/answered HTTP/1.1" 200
INFO     2021-07-28 06:56:06.320 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:50262 - "GET /report/category HTTP/1.1" 200
INFO     2021-07-28 06:56:06.321 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:50264 - "GET /report/product HTTP/1.1" 200
INFO     2021-07-28 06:56:07.064 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:50231 - "GET /login/461119 HTTP/1.1" 200
INFO     2021-07-28 06:56:09.057 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:50231 - "GET /login/461119 HTTP/1.1" 200
INFO     2021-07-28 06:56:09.063 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:50264 - "GET /report/answered HTTP/1.1" 200
INFO     2021-07-28 06:56:09.065 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:50262 - "GET /report/category HTTP/1.1" 200
INFO     2021-07-28 06:56:09.067 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:50260 - "GET /report/product HTTP/1.1" 200
INFO     2021-07-28 06:56:11.411 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:50260 - "GET /product/page?limit=10&offset=0&filter= HTTP/1.1" 200
INFO     2021-07-28 06:56:14.372 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:50260 - "GET /product/page?limit=10&offset=0&filter=test HTTP/1.1" 200
INFO     2021-07-28 06:56:16.295 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:50260 - "GET /product/610002789d4ff36dbbafa66d HTTP/1.1" 200
INFO     2021-07-28 06:56:36.836 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:50396 - "PUT /product/610002789d4ff36dbbafa66d HTTP/1.1" 200
INFO     2021-07-28 06:56:37.898 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:50396 - "GET /product/page?limit=10&offset=0&filter= HTTP/1.1" 200
INFO     2021-07-28 06:56:48.391 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:50449 - "GET /product/page?limit=10&offset=0&filter=test HTTP/1.1" 200
INFO     2021-07-28 06:56:50.072 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:50449 - "GET /product/610002789d4ff36dbbafa66d HTTP/1.1" 200
INFO     2021-07-28 06:57:54.554 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:50747 - "PUT /product/610002789d4ff36dbbafa66d HTTP/1.1" 200
INFO     2021-07-28 06:59:26.069 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:51119 - "PUT /product/610002789d4ff36dbbafa66d HTTP/1.1" 200
INFO     2021-07-28 07:00:00.054 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2021-07-28 07:00:00.055 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2021-07-28 07:00:00.055 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2021-07-28 07:00:00.161 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2021-07-28 07:00:00.161 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2021-07-28 07:00:00.161 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2021-07-28 07:00:00.162 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2021-07-28 07:00:00.162 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2021-07-28 07:00:00.163 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2021-07-28 07:00:00.163 request id: app - uvicorn.server:serve - Finished server process [1293]
INFO     2021-07-28 07:00:00.163 request id: app - uvicorn.server:serve - Finished server process [1293]
INFO     2021-07-28 07:00:00.164 request id: app - uvicorn.server:serve - Finished server process [1293]
INFO     2021-07-28 07:00:01.343 request id: app - uvicorn.server:serve - Started server process [1677]
INFO     2021-07-28 07:00:01.344 request id: app - uvicorn.server:serve - Started server process [1677]
INFO     2021-07-28 07:00:01.344 request id: app - uvicorn.server:serve - Started server process [1677]
INFO     2021-07-28 07:00:01.344 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2021-07-28 07:00:01.344 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2021-07-28 07:00:01.345 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2021-07-28 07:00:01.346 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2021-07-28 07:00:01.346 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2021-07-28 07:00:01.346 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2021-07-28 07:00:01.816 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:51268 - "PUT /product/610002789d4ff36dbbafa66d HTTP/1.1" 200
INFO     2021-07-28 07:00:26.156 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2021-07-28 07:00:26.157 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2021-07-28 07:00:26.157 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2021-07-28 07:00:26.263 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2021-07-28 07:00:26.263 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2021-07-28 07:00:26.263 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2021-07-28 07:00:26.265 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2021-07-28 07:00:26.265 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2021-07-28 07:00:26.265 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2021-07-28 07:00:26.265 request id: app - uvicorn.server:serve - Finished server process [1677]
INFO     2021-07-28 07:00:26.266 request id: app - uvicorn.server:serve - Finished server process [1677]
INFO     2021-07-28 07:00:26.266 request id: app - uvicorn.server:serve - Finished server process [1677]
INFO     2021-07-28 07:00:26.962 request id: app - uvicorn.server:serve - Started server process [1681]
INFO     2021-07-28 07:00:26.963 request id: app - uvicorn.server:serve - Started server process [1681]
INFO     2021-07-28 07:00:26.963 request id: app - uvicorn.server:serve - Started server process [1681]
INFO     2021-07-28 07:00:26.963 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2021-07-28 07:00:26.963 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2021-07-28 07:00:26.963 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2021-07-28 07:00:26.964 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2021-07-28 07:00:26.964 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2021-07-28 07:00:26.965 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2021-07-28 07:00:28.129 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:51383 - "PUT /product/610002789d4ff36dbbafa66d HTTP/1.1" 200
INFO     2021-07-28 07:00:47.272 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2021-07-28 07:00:47.273 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2021-07-28 07:00:47.273 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2021-07-28 07:00:47.379 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2021-07-28 07:00:47.379 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2021-07-28 07:00:47.379 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2021-07-28 07:00:47.380 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2021-07-28 07:00:47.381 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2021-07-28 07:00:47.381 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2021-07-28 07:00:47.381 request id: app - uvicorn.server:serve - Finished server process [1681]
INFO     2021-07-28 07:00:47.381 request id: app - uvicorn.server:serve - Finished server process [1681]
INFO     2021-07-28 07:00:47.381 request id: app - uvicorn.server:serve - Finished server process [1681]
INFO     2021-07-28 07:00:48.145 request id: app - uvicorn.server:serve - Started server process [1685]
INFO     2021-07-28 07:00:48.145 request id: app - uvicorn.server:serve - Started server process [1685]
INFO     2021-07-28 07:00:48.145 request id: app - uvicorn.server:serve - Started server process [1685]
INFO     2021-07-28 07:00:48.146 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2021-07-28 07:00:48.146 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2021-07-28 07:00:48.146 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2021-07-28 07:00:48.147 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2021-07-28 07:00:48.147 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2021-07-28 07:00:48.147 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2021-07-28 07:00:49.314 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:51475 - "PUT /product/610002789d4ff36dbbafa66d HTTP/1.1" 200
INFO     2021-07-28 07:01:02.349 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2021-07-28 07:01:02.354 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2021-07-28 07:01:02.355 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2021-07-28 07:01:02.460 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2021-07-28 07:01:02.460 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2021-07-28 07:01:02.461 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2021-07-28 07:01:02.462 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2021-07-28 07:01:02.462 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2021-07-28 07:01:02.462 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2021-07-28 07:01:02.462 request id: app - uvicorn.server:serve - Finished server process [1685]
INFO     2021-07-28 07:01:02.462 request id: app - uvicorn.server:serve - Finished server process [1685]
INFO     2021-07-28 07:01:02.462 request id: app - uvicorn.server:serve - Finished server process [1685]
INFO     2021-07-28 07:01:03.301 request id: app - uvicorn.server:serve - Started server process [1689]
INFO     2021-07-28 07:01:03.302 request id: app - uvicorn.server:serve - Started server process [1689]
INFO     2021-07-28 07:01:03.302 request id: app - uvicorn.server:serve - Started server process [1689]
INFO     2021-07-28 07:01:03.302 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2021-07-28 07:01:03.302 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2021-07-28 07:01:03.303 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2021-07-28 07:01:03.304 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2021-07-28 07:01:03.304 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2021-07-28 07:01:03.305 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2021-07-28 07:01:04.189 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:51543 - "PUT /product/610002789d4ff36dbbafa66d HTTP/1.1" 400
INFO     2021-07-28 07:01:31.826 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2021-07-28 07:01:31.826 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2021-07-28 07:01:31.827 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2021-07-28 07:01:31.932 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2021-07-28 07:01:31.932 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2021-07-28 07:01:31.933 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2021-07-28 07:01:31.933 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2021-07-28 07:01:31.934 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2021-07-28 07:01:31.934 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2021-07-28 07:01:31.934 request id: app - uvicorn.server:serve - Finished server process [1689]
INFO     2021-07-28 07:01:31.934 request id: app - uvicorn.server:serve - Finished server process [1689]
INFO     2021-07-28 07:01:31.934 request id: app - uvicorn.server:serve - Finished server process [1689]
INFO     2021-07-28 07:01:32.450 request id: app - uvicorn.server:serve - Started server process [1696]
INFO     2021-07-28 07:01:32.451 request id: app - uvicorn.server:serve - Started server process [1696]
INFO     2021-07-28 07:01:32.451 request id: app - uvicorn.server:serve - Started server process [1696]
INFO     2021-07-28 07:01:32.451 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2021-07-28 07:01:32.451 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2021-07-28 07:01:32.452 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2021-07-28 07:01:32.453 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2021-07-28 07:01:32.453 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2021-07-28 07:01:32.453 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2021-07-28 07:01:33.944 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:51668 - "PUT /product/610002789d4ff36dbbafa66d HTTP/1.1" 200
INFO     2021-07-28 07:02:05.492 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2021-07-28 07:02:05.492 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2021-07-28 07:02:05.493 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2021-07-28 07:02:05.599 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2021-07-28 07:02:05.599 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2021-07-28 07:02:05.599 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2021-07-28 07:02:05.600 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2021-07-28 07:02:05.601 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2021-07-28 07:02:05.601 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2021-07-28 07:02:05.601 request id: app - uvicorn.server:serve - Finished server process [1696]
INFO     2021-07-28 07:02:05.601 request id: app - uvicorn.server:serve - Finished server process [1696]
INFO     2021-07-28 07:02:05.602 request id: app - uvicorn.server:serve - Finished server process [1696]
INFO     2021-07-28 07:02:06.256 request id: app - uvicorn.server:serve - Started server process [1702]
INFO     2021-07-28 07:02:06.256 request id: app - uvicorn.server:serve - Started server process [1702]
INFO     2021-07-28 07:02:06.256 request id: app - uvicorn.server:serve - Started server process [1702]
INFO     2021-07-28 07:02:06.257 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2021-07-28 07:02:06.257 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2021-07-28 07:02:06.257 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2021-07-28 07:02:06.258 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2021-07-28 07:02:06.258 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2021-07-28 07:02:06.258 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2021-07-28 07:02:51.770 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2021-07-28 07:02:51.771 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2021-07-28 07:02:51.771 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2021-07-28 07:02:51.876 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2021-07-28 07:02:51.877 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2021-07-28 07:02:51.877 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2021-07-28 07:02:51.881 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2021-07-28 07:02:51.881 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2021-07-28 07:02:51.881 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2021-07-28 07:02:51.882 request id: app - uvicorn.server:serve - Finished server process [1702]
INFO     2021-07-28 07:02:51.882 request id: app - uvicorn.server:serve - Finished server process [1702]
INFO     2021-07-28 07:02:51.882 request id: app - uvicorn.server:serve - Finished server process [1702]
INFO     2021-07-28 07:02:52.532 request id: app - uvicorn.server:serve - Started server process [1721]
INFO     2021-07-28 07:02:52.532 request id: app - uvicorn.server:serve - Started server process [1721]
INFO     2021-07-28 07:02:52.533 request id: app - uvicorn.server:serve - Started server process [1721]
INFO     2021-07-28 07:02:52.533 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2021-07-28 07:02:52.533 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2021-07-28 07:02:52.535 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2021-07-28 07:02:52.536 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2021-07-28 07:02:52.537 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2021-07-28 07:02:52.537 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2021-07-28 07:02:54.847 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:52055 - "PUT /product/610002789d4ff36dbbafa66d HTTP/1.1" 400
INFO     2021-07-28 07:03:04.197 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2021-07-28 07:03:04.198 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2021-07-28 07:03:04.198 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2021-07-28 07:03:04.301 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2021-07-28 07:03:04.302 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2021-07-28 07:03:04.302 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2021-07-28 07:03:04.303 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2021-07-28 07:03:04.303 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2021-07-28 07:03:04.303 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2021-07-28 07:03:04.304 request id: app - uvicorn.server:serve - Finished server process [1721]
INFO     2021-07-28 07:03:04.304 request id: app - uvicorn.server:serve - Finished server process [1721]
INFO     2021-07-28 07:03:04.304 request id: app - uvicorn.server:serve - Finished server process [1721]
INFO     2021-07-28 07:03:05.132 request id: app - uvicorn.server:serve - Started server process [1727]
INFO     2021-07-28 07:03:05.133 request id: app - uvicorn.server:serve - Started server process [1727]
INFO     2021-07-28 07:03:05.133 request id: app - uvicorn.server:serve - Started server process [1727]
INFO     2021-07-28 07:03:05.133 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2021-07-28 07:03:05.133 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2021-07-28 07:03:05.133 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2021-07-28 07:03:05.134 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2021-07-28 07:03:05.134 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2021-07-28 07:03:05.135 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2021-07-28 07:03:05.965 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:52106 - "PUT /product/610002789d4ff36dbbafa66d HTTP/1.1" 200
INFO     2021-07-28 07:03:33.508 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2021-07-28 07:03:33.508 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2021-07-28 07:03:33.509 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2021-07-28 07:03:33.610 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2021-07-28 07:03:33.610 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2021-07-28 07:03:33.610 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2021-07-28 07:03:33.611 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2021-07-28 07:03:33.611 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2021-07-28 07:03:33.612 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2021-07-28 07:03:33.612 request id: app - uvicorn.server:serve - Finished server process [1727]
INFO     2021-07-28 07:03:33.612 request id: app - uvicorn.server:serve - Finished server process [1727]
INFO     2021-07-28 07:03:33.612 request id: app - uvicorn.server:serve - Finished server process [1727]
INFO     2021-07-28 07:03:34.442 request id: app - uvicorn.server:serve - Started server process [1732]
INFO     2021-07-28 07:03:34.443 request id: app - uvicorn.server:serve - Started server process [1732]
INFO     2021-07-28 07:03:34.443 request id: app - uvicorn.server:serve - Started server process [1732]
INFO     2021-07-28 07:03:34.443 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2021-07-28 07:03:34.443 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2021-07-28 07:03:34.443 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2021-07-28 07:03:34.444 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2021-07-28 07:03:34.444 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2021-07-28 07:03:34.445 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2021-07-28 07:03:36.836 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:52239 - "PUT /product/610002789d4ff36dbbafa66d HTTP/1.1" 200
INFO     2021-07-28 07:03:46.772 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2021-07-28 07:03:46.773 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2021-07-28 07:03:46.773 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2021-07-28 07:03:46.879 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2021-07-28 07:03:46.879 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2021-07-28 07:03:46.879 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2021-07-28 07:03:46.880 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2021-07-28 07:03:46.880 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2021-07-28 07:03:46.880 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2021-07-28 07:03:46.880 request id: app - uvicorn.server:serve - Finished server process [1732]
INFO     2021-07-28 07:03:46.881 request id: app - uvicorn.server:serve - Finished server process [1732]
INFO     2021-07-28 07:03:46.881 request id: app - uvicorn.server:serve - Finished server process [1732]
INFO     2021-07-28 07:03:47.428 request id: app - uvicorn.server:serve - Started server process [1740]
INFO     2021-07-28 07:03:47.428 request id: app - uvicorn.server:serve - Started server process [1740]
INFO     2021-07-28 07:03:47.429 request id: app - uvicorn.server:serve - Started server process [1740]
INFO     2021-07-28 07:03:47.429 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2021-07-28 07:03:47.429 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2021-07-28 07:03:47.429 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2021-07-28 07:03:47.430 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2021-07-28 07:03:47.430 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2021-07-28 07:03:47.430 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2021-07-28 07:04:38.799 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2021-07-28 07:04:38.800 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2021-07-28 07:04:38.800 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2021-07-28 07:04:38.906 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2021-07-28 07:04:38.906 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2021-07-28 07:04:38.906 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2021-07-28 07:04:38.907 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2021-07-28 07:04:38.907 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2021-07-28 07:04:38.908 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2021-07-28 07:04:38.908 request id: app - uvicorn.server:serve - Finished server process [1740]
INFO     2021-07-28 07:04:38.908 request id: app - uvicorn.server:serve - Finished server process [1740]
INFO     2021-07-28 07:04:38.908 request id: app - uvicorn.server:serve - Finished server process [1740]
INFO     2021-07-28 07:04:39.776 request id: app - uvicorn.server:serve - Started server process [1750]
INFO     2021-07-28 07:04:39.777 request id: app - uvicorn.server:serve - Started server process [1750]
INFO     2021-07-28 07:04:39.777 request id: app - uvicorn.server:serve - Started server process [1750]
INFO     2021-07-28 07:04:39.777 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2021-07-28 07:04:39.777 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2021-07-28 07:04:39.777 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2021-07-28 07:04:39.778 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2021-07-28 07:04:39.778 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2021-07-28 07:04:39.779 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2021-07-28 07:04:42.153 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:52524 - "PUT /product/610002789d4ff36dbbafa66d HTTP/1.1" 400
INFO     2021-07-28 07:04:50.810 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2021-07-28 07:04:50.811 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2021-07-28 07:04:50.811 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2021-07-28 07:04:50.915 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2021-07-28 07:04:50.916 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2021-07-28 07:04:50.916 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2021-07-28 07:04:50.917 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2021-07-28 07:04:50.917 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2021-07-28 07:04:50.917 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2021-07-28 07:04:50.917 request id: app - uvicorn.server:serve - Finished server process [1750]
INFO     2021-07-28 07:04:50.917 request id: app - uvicorn.server:serve - Finished server process [1750]
INFO     2021-07-28 07:04:50.918 request id: app - uvicorn.server:serve - Finished server process [1750]
INFO     2021-07-28 07:04:51.823 request id: app - uvicorn.server:serve - Started server process [1757]
INFO     2021-07-28 07:04:51.824 request id: app - uvicorn.server:serve - Started server process [1757]
INFO     2021-07-28 07:04:51.824 request id: app - uvicorn.server:serve - Started server process [1757]
INFO     2021-07-28 07:04:51.824 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2021-07-28 07:04:51.824 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2021-07-28 07:04:51.824 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2021-07-28 07:04:51.825 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2021-07-28 07:04:51.825 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2021-07-28 07:04:51.825 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2021-07-28 07:04:53.378 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:52574 - "PUT /product/610002789d4ff36dbbafa66d HTTP/1.1" 200
INFO     2021-07-28 07:05:06.761 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2021-07-28 07:05:06.762 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2021-07-28 07:05:06.762 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2021-07-28 07:05:06.866 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2021-07-28 07:05:06.866 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2021-07-28 07:05:06.866 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2021-07-28 07:05:06.868 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2021-07-28 07:05:06.868 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2021-07-28 07:05:06.869 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2021-07-28 07:05:06.869 request id: app - uvicorn.server:serve - Finished server process [1757]
INFO     2021-07-28 07:05:06.869 request id: app - uvicorn.server:serve - Finished server process [1757]
INFO     2021-07-28 07:05:06.869 request id: app - uvicorn.server:serve - Finished server process [1757]
INFO     2021-07-28 07:05:07.368 request id: app - uvicorn.server:serve - Started server process [1761]
INFO     2021-07-28 07:05:07.369 request id: app - uvicorn.server:serve - Started server process [1761]
INFO     2021-07-28 07:05:07.369 request id: app - uvicorn.server:serve - Started server process [1761]
INFO     2021-07-28 07:05:07.369 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2021-07-28 07:05:07.369 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2021-07-28 07:05:07.369 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2021-07-28 07:05:07.371 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2021-07-28 07:05:07.371 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2021-07-28 07:05:07.371 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2021-07-28 07:05:09.683 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:52644 - "PUT /product/610002789d4ff36dbbafa66d HTTP/1.1" 400
INFO     2021-07-28 07:05:58.280 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2021-07-28 07:05:58.281 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2021-07-28 07:05:58.281 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2021-07-28 07:05:58.383 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2021-07-28 07:05:58.384 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2021-07-28 07:05:58.384 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2021-07-28 07:05:58.385 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2021-07-28 07:05:58.385 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2021-07-28 07:05:58.386 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2021-07-28 07:05:58.386 request id: app - uvicorn.server:serve - Finished server process [1761]
INFO     2021-07-28 07:05:58.386 request id: app - uvicorn.server:serve - Finished server process [1761]
INFO     2021-07-28 07:05:58.387 request id: app - uvicorn.server:serve - Finished server process [1761]
INFO     2021-07-28 07:05:59.230 request id: app - uvicorn.server:serve - Started server process [1769]
INFO     2021-07-28 07:05:59.230 request id: app - uvicorn.server:serve - Started server process [1769]
INFO     2021-07-28 07:05:59.230 request id: app - uvicorn.server:serve - Started server process [1769]
INFO     2021-07-28 07:05:59.230 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2021-07-28 07:05:59.231 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2021-07-28 07:05:59.231 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2021-07-28 07:05:59.232 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2021-07-28 07:05:59.232 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2021-07-28 07:05:59.232 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2021-07-28 07:06:29.617 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2021-07-28 07:06:29.618 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2021-07-28 07:06:29.618 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2021-07-28 07:06:29.723 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2021-07-28 07:06:29.724 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2021-07-28 07:06:29.724 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2021-07-28 07:06:29.725 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2021-07-28 07:06:29.725 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2021-07-28 07:06:29.725 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2021-07-28 07:06:29.725 request id: app - uvicorn.server:serve - Finished server process [1769]
INFO     2021-07-28 07:06:29.726 request id: app - uvicorn.server:serve - Finished server process [1769]
INFO     2021-07-28 07:06:29.726 request id: app - uvicorn.server:serve - Finished server process [1769]
INFO     2021-07-28 07:06:30.456 request id: app - uvicorn.server:serve - Started server process [1779]
INFO     2021-07-28 07:06:30.457 request id: app - uvicorn.server:serve - Started server process [1779]
INFO     2021-07-28 07:06:30.457 request id: app - uvicorn.server:serve - Started server process [1779]
INFO     2021-07-28 07:06:30.457 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2021-07-28 07:06:30.457 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2021-07-28 07:06:30.458 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2021-07-28 07:06:30.458 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2021-07-28 07:06:30.459 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2021-07-28 07:06:30.459 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2021-07-28 07:06:33.038 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:53023 - "PUT /product/610002789d4ff36dbbafa66d HTTP/1.1" 400
INFO     2021-07-28 07:06:47.360 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2021-07-28 07:06:47.361 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2021-07-28 07:06:47.361 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2021-07-28 07:06:47.464 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2021-07-28 07:06:47.464 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2021-07-28 07:06:47.464 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2021-07-28 07:06:47.465 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2021-07-28 07:06:47.465 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2021-07-28 07:06:47.466 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2021-07-28 07:06:47.466 request id: app - uvicorn.server:serve - Finished server process [1779]
INFO     2021-07-28 07:06:47.466 request id: app - uvicorn.server:serve - Finished server process [1779]
INFO     2021-07-28 07:06:47.466 request id: app - uvicorn.server:serve - Finished server process [1779]
INFO     2021-07-28 07:06:48.134 request id: app - uvicorn.server:serve - Started server process [1788]
INFO     2021-07-28 07:06:48.135 request id: app - uvicorn.server:serve - Started server process [1788]
INFO     2021-07-28 07:06:48.136 request id: app - uvicorn.server:serve - Started server process [1788]
INFO     2021-07-28 07:06:48.136 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2021-07-28 07:06:48.136 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2021-07-28 07:06:48.136 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2021-07-28 07:06:48.137 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2021-07-28 07:06:48.137 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2021-07-28 07:06:48.137 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2021-07-28 07:06:49.451 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:53099 - "PUT /product/610002789d4ff36dbbafa66d HTTP/1.1" 400
INFO     2021-07-28 07:06:56.604 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2021-07-28 07:06:56.608 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2021-07-28 07:06:56.609 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2021-07-28 07:06:56.714 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2021-07-28 07:06:56.714 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2021-07-28 07:06:56.715 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2021-07-28 07:06:56.715 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2021-07-28 07:06:56.716 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2021-07-28 07:06:56.716 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2021-07-28 07:06:56.716 request id: app - uvicorn.server:serve - Finished server process [1788]
INFO     2021-07-28 07:06:56.716 request id: app - uvicorn.server:serve - Finished server process [1788]
INFO     2021-07-28 07:06:56.716 request id: app - uvicorn.server:serve - Finished server process [1788]
INFO     2021-07-28 07:06:57.767 request id: app - uvicorn.server:serve - Started server process [1798]
INFO     2021-07-28 07:06:57.768 request id: app - uvicorn.server:serve - Started server process [1798]
INFO     2021-07-28 07:06:57.768 request id: app - uvicorn.server:serve - Started server process [1798]
INFO     2021-07-28 07:06:57.768 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2021-07-28 07:06:57.768 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2021-07-28 07:06:57.769 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2021-07-28 07:06:57.770 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2021-07-28 07:06:57.770 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2021-07-28 07:06:57.770 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2021-07-28 07:06:58.558 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:53141 - "PUT /product/610002789d4ff36dbbafa66d HTTP/1.1" 400
INFO     2021-07-28 07:07:28.467 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2021-07-28 07:07:28.468 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2021-07-28 07:07:28.468 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2021-07-28 07:07:28.574 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2021-07-28 07:07:28.574 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2021-07-28 07:07:28.574 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2021-07-28 07:07:28.575 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2021-07-28 07:07:28.576 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2021-07-28 07:07:28.576 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2021-07-28 07:07:28.576 request id: app - uvicorn.server:serve - Finished server process [1798]
INFO     2021-07-28 07:07:28.576 request id: app - uvicorn.server:serve - Finished server process [1798]
INFO     2021-07-28 07:07:28.576 request id: app - uvicorn.server:serve - Finished server process [1798]
INFO     2021-07-28 07:07:29.499 request id: app - uvicorn.server:serve - Started server process [1803]
INFO     2021-07-28 07:07:29.499 request id: app - uvicorn.server:serve - Started server process [1803]
INFO     2021-07-28 07:07:29.499 request id: app - uvicorn.server:serve - Started server process [1803]
INFO     2021-07-28 07:07:29.499 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2021-07-28 07:07:29.500 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2021-07-28 07:07:29.500 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2021-07-28 07:07:29.500 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2021-07-28 07:07:29.501 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2021-07-28 07:07:29.501 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2021-07-28 07:07:31.618 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:53282 - "PUT /product/610002789d4ff36dbbafa66d HTTP/1.1" 400
INFO     2021-07-28 07:07:37.617 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2021-07-28 07:07:37.618 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2021-07-28 07:07:37.618 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2021-07-28 07:07:37.724 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2021-07-28 07:07:37.724 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2021-07-28 07:07:37.724 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2021-07-28 07:07:37.725 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2021-07-28 07:07:37.725 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2021-07-28 07:07:37.725 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2021-07-28 07:07:37.726 request id: app - uvicorn.server:serve - Finished server process [1803]
INFO     2021-07-28 07:07:37.726 request id: app - uvicorn.server:serve - Finished server process [1803]
INFO     2021-07-28 07:07:37.726 request id: app - uvicorn.server:serve - Finished server process [1803]
INFO     2021-07-28 07:07:38.512 request id: app - uvicorn.server:serve - Started server process [1809]
INFO     2021-07-28 07:07:38.513 request id: app - uvicorn.server:serve - Started server process [1809]
INFO     2021-07-28 07:07:38.513 request id: app - uvicorn.server:serve - Started server process [1809]
INFO     2021-07-28 07:07:38.513 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2021-07-28 07:07:38.513 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2021-07-28 07:07:38.513 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2021-07-28 07:07:38.514 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2021-07-28 07:07:38.514 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2021-07-28 07:07:38.515 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2021-07-28 07:07:39.584 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:53320 - "PUT /product/610002789d4ff36dbbafa66d HTTP/1.1" 200
INFO     2021-07-28 07:08:29.788 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2021-07-28 07:08:29.789 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2021-07-28 07:08:29.789 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2021-07-28 07:08:29.890 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2021-07-28 07:08:29.891 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2021-07-28 07:08:29.891 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2021-07-28 07:08:29.892 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2021-07-28 07:08:29.892 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2021-07-28 07:08:29.892 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2021-07-28 07:08:29.892 request id: app - uvicorn.server:serve - Finished server process [1809]
INFO     2021-07-28 07:08:29.893 request id: app - uvicorn.server:serve - Finished server process [1809]
INFO     2021-07-28 07:08:29.893 request id: app - uvicorn.server:serve - Finished server process [1809]
INFO     2021-07-28 07:08:30.856 request id: app - uvicorn.server:serve - Started server process [1816]
INFO     2021-07-28 07:08:30.856 request id: app - uvicorn.server:serve - Started server process [1816]
INFO     2021-07-28 07:08:30.856 request id: app - uvicorn.server:serve - Started server process [1816]
INFO     2021-07-28 07:08:30.856 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2021-07-28 07:08:30.856 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2021-07-28 07:08:30.857 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2021-07-28 07:08:30.858 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2021-07-28 07:08:30.858 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2021-07-28 07:08:30.858 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2021-07-28 07:08:31.881 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:53538 - "PUT /product/610002789d4ff36dbbafa66d HTTP/1.1" 400
INFO     2021-07-28 07:09:16.929 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2021-07-28 07:09:16.930 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2021-07-28 07:09:16.930 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2021-07-28 07:09:17.036 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2021-07-28 07:09:17.036 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2021-07-28 07:09:17.037 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2021-07-28 07:09:17.038 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2021-07-28 07:09:17.038 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2021-07-28 07:09:17.039 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2021-07-28 07:09:17.039 request id: app - uvicorn.server:serve - Finished server process [1816]
INFO     2021-07-28 07:09:17.039 request id: app - uvicorn.server:serve - Finished server process [1816]
INFO     2021-07-28 07:09:17.039 request id: app - uvicorn.server:serve - Finished server process [1816]
INFO     2021-07-28 07:09:17.720 request id: app - uvicorn.server:serve - Started server process [1823]
INFO     2021-07-28 07:09:17.721 request id: app - uvicorn.server:serve - Started server process [1823]
INFO     2021-07-28 07:09:17.721 request id: app - uvicorn.server:serve - Started server process [1823]
INFO     2021-07-28 07:09:17.721 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2021-07-28 07:09:17.721 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2021-07-28 07:09:17.721 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2021-07-28 07:09:17.722 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2021-07-28 07:09:17.723 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2021-07-28 07:09:17.723 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2021-07-28 07:09:18.919 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:53734 - "PUT /product/610002789d4ff36dbbafa66d HTTP/1.1" 400
INFO     2021-07-28 07:09:34.809 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2021-07-28 07:09:34.812 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2021-07-28 07:09:34.812 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2021-07-28 07:09:34.918 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2021-07-28 07:09:34.918 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2021-07-28 07:09:34.918 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2021-07-28 07:09:34.919 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2021-07-28 07:09:34.920 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2021-07-28 07:09:34.920 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2021-07-28 07:09:34.920 request id: app - uvicorn.server:serve - Finished server process [1823]
INFO     2021-07-28 07:09:34.920 request id: app - uvicorn.server:serve - Finished server process [1823]
INFO     2021-07-28 07:09:34.920 request id: app - uvicorn.server:serve - Finished server process [1823]
INFO     2021-07-28 07:09:35.854 request id: app - uvicorn.server:serve - Started server process [1829]
INFO     2021-07-28 07:09:35.857 request id: app - uvicorn.server:serve - Started server process [1829]
INFO     2021-07-28 07:09:35.857 request id: app - uvicorn.server:serve - Started server process [1829]
INFO     2021-07-28 07:09:35.857 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2021-07-28 07:09:35.858 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2021-07-28 07:09:35.858 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2021-07-28 07:09:35.858 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2021-07-28 07:09:35.859 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2021-07-28 07:09:35.859 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2021-07-28 07:09:36.720 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:53814 - "PUT /product/610002789d4ff36dbbafa66d HTTP/1.1" 400
INFO     2021-07-28 07:10:30.143 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2021-07-28 07:10:30.144 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2021-07-28 07:10:30.144 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2021-07-28 07:10:30.249 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2021-07-28 07:10:30.250 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2021-07-28 07:10:30.250 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2021-07-28 07:10:30.251 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2021-07-28 07:10:30.251 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2021-07-28 07:10:30.252 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2021-07-28 07:10:30.252 request id: app - uvicorn.server:serve - Finished server process [1829]
INFO     2021-07-28 07:10:30.252 request id: app - uvicorn.server:serve - Finished server process [1829]
INFO     2021-07-28 07:10:30.252 request id: app - uvicorn.server:serve - Finished server process [1829]
INFO     2021-07-28 07:10:31.226 request id: app - uvicorn.server:serve - Started server process [1838]
INFO     2021-07-28 07:10:31.227 request id: app - uvicorn.server:serve - Started server process [1838]
INFO     2021-07-28 07:10:31.227 request id: app - uvicorn.server:serve - Started server process [1838]
INFO     2021-07-28 07:10:31.227 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2021-07-28 07:10:31.227 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2021-07-28 07:10:31.227 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2021-07-28 07:10:31.229 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2021-07-28 07:10:31.229 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2021-07-28 07:10:31.229 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2021-07-28 07:10:32.494 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:54045 - "PUT /product/610002789d4ff36dbbafa66d HTTP/1.1" 200
INFO     2021-07-28 07:11:07.719 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2021-07-28 07:11:07.720 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2021-07-28 07:11:07.720 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2021-07-28 07:11:07.826 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2021-07-28 07:11:07.826 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2021-07-28 07:11:07.826 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2021-07-28 07:11:07.827 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2021-07-28 07:11:07.827 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2021-07-28 07:11:07.827 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2021-07-28 07:11:07.827 request id: app - uvicorn.server:serve - Finished server process [1838]
INFO     2021-07-28 07:11:07.828 request id: app - uvicorn.server:serve - Finished server process [1838]
INFO     2021-07-28 07:11:07.828 request id: app - uvicorn.server:serve - Finished server process [1838]
INFO     2021-07-28 07:11:08.490 request id: app - uvicorn.server:serve - Started server process [1856]
INFO     2021-07-28 07:11:08.490 request id: app - uvicorn.server:serve - Started server process [1856]
INFO     2021-07-28 07:11:08.490 request id: app - uvicorn.server:serve - Started server process [1856]
INFO     2021-07-28 07:11:08.491 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2021-07-28 07:11:08.491 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2021-07-28 07:11:08.491 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2021-07-28 07:11:08.493 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2021-07-28 07:11:08.493 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2021-07-28 07:11:08.493 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2021-07-28 07:11:09.631 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:54205 - "PUT /product/610002789d4ff36dbbafa66d HTTP/1.1" 200
INFO     2021-07-28 07:12:04.009 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2021-07-28 07:12:04.010 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2021-07-28 07:12:04.011 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2021-07-28 07:12:04.116 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2021-07-28 07:12:04.117 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2021-07-28 07:12:04.117 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2021-07-28 07:12:04.118 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2021-07-28 07:12:04.118 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2021-07-28 07:12:04.118 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2021-07-28 07:12:04.119 request id: app - uvicorn.server:serve - Finished server process [1856]
INFO     2021-07-28 07:12:04.119 request id: app - uvicorn.server:serve - Finished server process [1856]
INFO     2021-07-28 07:12:04.119 request id: app - uvicorn.server:serve - Finished server process [1856]
INFO     2021-07-28 07:12:04.906 request id: app - uvicorn.server:serve - Started server process [1875]
INFO     2021-07-28 07:12:04.907 request id: app - uvicorn.server:serve - Started server process [1875]
INFO     2021-07-28 07:12:04.907 request id: app - uvicorn.server:serve - Started server process [1875]
INFO     2021-07-28 07:12:04.907 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2021-07-28 07:12:04.907 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2021-07-28 07:12:04.907 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2021-07-28 07:12:04.908 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2021-07-28 07:12:04.908 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2021-07-28 07:12:04.909 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2021-07-28 07:12:06.869 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:54450 - "PUT /product/610002789d4ff36dbbafa66d HTTP/1.1" 200
INFO     2021-07-28 07:12:54.280 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2021-07-28 07:12:54.281 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2021-07-28 07:12:54.281 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2021-07-28 07:12:54.385 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2021-07-28 07:12:54.385 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2021-07-28 07:12:54.385 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2021-07-28 07:12:54.386 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2021-07-28 07:12:54.386 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2021-07-28 07:12:54.386 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2021-07-28 07:12:54.387 request id: app - uvicorn.server:serve - Finished server process [1875]
INFO     2021-07-28 07:12:54.387 request id: app - uvicorn.server:serve - Finished server process [1875]
INFO     2021-07-28 07:12:54.387 request id: app - uvicorn.server:serve - Finished server process [1875]
INFO     2021-07-28 07:12:55.269 request id: app - uvicorn.server:serve - Started server process [1886]
INFO     2021-07-28 07:12:55.269 request id: app - uvicorn.server:serve - Started server process [1886]
INFO     2021-07-28 07:12:55.270 request id: app - uvicorn.server:serve - Started server process [1886]
INFO     2021-07-28 07:12:55.270 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2021-07-28 07:12:55.270 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2021-07-28 07:12:55.270 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2021-07-28 07:12:55.271 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2021-07-28 07:12:55.271 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2021-07-28 07:12:55.271 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2021-07-28 07:12:57.445 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:54665 - "PUT /product/610002789d4ff36dbbafa66d HTTP/1.1" 200
INFO     2021-07-28 07:13:17.269 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2021-07-28 07:13:17.269 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2021-07-28 07:13:17.269 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2021-07-28 07:13:17.374 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2021-07-28 07:13:17.375 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2021-07-28 07:13:17.375 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2021-07-28 07:13:17.376 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2021-07-28 07:13:17.376 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2021-07-28 07:13:17.376 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2021-07-28 07:13:17.376 request id: app - uvicorn.server:serve - Finished server process [1886]
INFO     2021-07-28 07:13:17.376 request id: app - uvicorn.server:serve - Finished server process [1886]
INFO     2021-07-28 07:13:17.377 request id: app - uvicorn.server:serve - Finished server process [1886]
INFO     2021-07-28 07:13:17.854 request id: app - uvicorn.server:serve - Started server process [1892]
INFO     2021-07-28 07:13:17.855 request id: app - uvicorn.server:serve - Started server process [1892]
INFO     2021-07-28 07:13:17.855 request id: app - uvicorn.server:serve - Started server process [1892]
INFO     2021-07-28 07:13:17.855 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2021-07-28 07:13:17.855 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2021-07-28 07:13:17.855 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2021-07-28 07:13:17.856 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2021-07-28 07:13:17.856 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2021-07-28 07:13:17.857 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2021-07-28 07:13:58.714 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2021-07-28 07:13:58.714 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2021-07-28 07:13:58.715 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2021-07-28 07:13:58.820 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2021-07-28 07:13:58.821 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2021-07-28 07:13:58.821 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2021-07-28 07:13:58.821 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2021-07-28 07:13:58.822 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2021-07-28 07:13:58.822 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2021-07-28 07:13:58.822 request id: app - uvicorn.server:serve - Finished server process [1892]
INFO     2021-07-28 07:13:58.822 request id: app - uvicorn.server:serve - Finished server process [1892]
INFO     2021-07-28 07:13:58.822 request id: app - uvicorn.server:serve - Finished server process [1892]
INFO     2021-07-28 07:13:59.705 request id: app - uvicorn.server:serve - Started server process [1899]
INFO     2021-07-28 07:13:59.705 request id: app - uvicorn.server:serve - Started server process [1899]
INFO     2021-07-28 07:13:59.706 request id: app - uvicorn.server:serve - Started server process [1899]
INFO     2021-07-28 07:13:59.706 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2021-07-28 07:13:59.706 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2021-07-28 07:13:59.706 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2021-07-28 07:13:59.707 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2021-07-28 07:13:59.707 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2021-07-28 07:13:59.707 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2021-07-28 07:14:01.140 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:54931 - "PUT /product/610002789d4ff36dbbafa66d HTTP/1.1" 200
INFO     2021-07-28 07:16:31.440 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2021-07-28 07:16:31.441 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2021-07-28 07:16:31.441 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2021-07-28 07:16:31.546 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2021-07-28 07:16:31.546 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2021-07-28 07:16:31.547 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2021-07-28 07:16:31.548 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2021-07-28 07:16:31.548 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2021-07-28 07:16:31.548 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2021-07-28 07:16:31.548 request id: app - uvicorn.server:serve - Finished server process [1899]
INFO     2021-07-28 07:16:31.549 request id: app - uvicorn.server:serve - Finished server process [1899]
INFO     2021-07-28 07:16:31.549 request id: app - uvicorn.server:serve - Finished server process [1899]
INFO     2021-07-28 07:16:32.603 request id: app - uvicorn.server:serve - Started server process [1922]
INFO     2021-07-28 07:16:32.604 request id: app - uvicorn.server:serve - Started server process [1922]
INFO     2021-07-28 07:16:32.604 request id: app - uvicorn.server:serve - Started server process [1922]
INFO     2021-07-28 07:16:32.604 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2021-07-28 07:16:32.604 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2021-07-28 07:16:32.604 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2021-07-28 07:16:32.606 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2021-07-28 07:16:32.606 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2021-07-28 07:16:32.606 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2021-07-28 07:16:33.929 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:55560 - "PUT /product/610002789d4ff36dbbafa66d HTTP/1.1" 200
INFO     2021-07-28 07:17:13.230 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2021-07-28 07:17:13.230 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2021-07-28 07:17:13.231 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2021-07-28 07:17:13.336 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2021-07-28 07:17:13.336 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2021-07-28 07:17:13.337 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2021-07-28 07:17:13.337 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2021-07-28 07:17:13.338 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2021-07-28 07:17:13.338 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2021-07-28 07:17:13.338 request id: app - uvicorn.server:serve - Finished server process [1922]
INFO     2021-07-28 07:17:13.338 request id: app - uvicorn.server:serve - Finished server process [1922]
INFO     2021-07-28 07:17:13.338 request id: app - uvicorn.server:serve - Finished server process [1922]
INFO     2021-07-28 07:17:14.392 request id: app - uvicorn.server:serve - Started server process [1935]
INFO     2021-07-28 07:17:14.393 request id: app - uvicorn.server:serve - Started server process [1935]
INFO     2021-07-28 07:17:14.393 request id: app - uvicorn.server:serve - Started server process [1935]
INFO     2021-07-28 07:17:14.393 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2021-07-28 07:17:14.393 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2021-07-28 07:17:14.393 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2021-07-28 07:17:14.394 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2021-07-28 07:17:14.394 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2021-07-28 07:17:14.394 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2021-07-28 07:17:15.310 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:55736 - "PUT /product/610002789d4ff36dbbafa66d HTTP/1.1" 200
INFO     2021-07-28 07:17:52.274 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2021-07-28 07:17:52.280 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2021-07-28 07:17:52.280 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2021-07-28 07:17:52.386 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2021-07-28 07:17:52.386 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2021-07-28 07:17:52.386 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2021-07-28 07:17:52.387 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2021-07-28 07:17:52.388 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2021-07-28 07:17:52.388 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2021-07-28 07:17:52.388 request id: app - uvicorn.server:serve - Finished server process [1935]
INFO     2021-07-28 07:17:52.388 request id: app - uvicorn.server:serve - Finished server process [1935]
INFO     2021-07-28 07:17:52.388 request id: app - uvicorn.server:serve - Finished server process [1935]
INFO     2021-07-28 07:17:53.175 request id: app - uvicorn.server:serve - Started server process [1941]
INFO     2021-07-28 07:17:53.176 request id: app - uvicorn.server:serve - Started server process [1941]
INFO     2021-07-28 07:17:53.176 request id: app - uvicorn.server:serve - Started server process [1941]
INFO     2021-07-28 07:17:53.176 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2021-07-28 07:17:53.176 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2021-07-28 07:17:53.176 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2021-07-28 07:17:53.178 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2021-07-28 07:17:53.178 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2021-07-28 07:17:53.178 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2021-07-28 07:17:59.243 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2021-07-28 07:17:59.245 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2021-07-28 07:17:59.245 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2021-07-28 07:17:59.351 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2021-07-28 07:17:59.351 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2021-07-28 07:17:59.352 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2021-07-28 07:17:59.352 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2021-07-28 07:17:59.353 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2021-07-28 07:17:59.353 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2021-07-28 07:17:59.354 request id: app - uvicorn.server:serve - Finished server process [1941]
INFO     2021-07-28 07:17:59.354 request id: app - uvicorn.server:serve - Finished server process [1941]
INFO     2021-07-28 07:17:59.354 request id: app - uvicorn.server:serve - Finished server process [1941]
INFO     2021-07-28 07:18:00.193 request id: app - uvicorn.server:serve - Started server process [1947]
INFO     2021-07-28 07:18:00.193 request id: app - uvicorn.server:serve - Started server process [1947]
INFO     2021-07-28 07:18:00.193 request id: app - uvicorn.server:serve - Started server process [1947]
INFO     2021-07-28 07:18:00.193 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2021-07-28 07:18:00.194 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2021-07-28 07:18:00.194 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2021-07-28 07:18:00.195 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2021-07-28 07:18:00.195 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2021-07-28 07:18:00.195 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2021-07-28 07:18:00.948 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:55928 - "PUT /product/610002789d4ff36dbbafa66d HTTP/1.1" 200
INFO     2021-07-28 07:18:18.005 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2021-07-28 07:18:18.006 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2021-07-28 07:18:18.007 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2021-07-28 07:18:18.113 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2021-07-28 07:18:18.113 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2021-07-28 07:18:18.113 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2021-07-28 07:18:18.114 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2021-07-28 07:18:18.114 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2021-07-28 07:18:18.114 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2021-07-28 07:18:18.115 request id: app - uvicorn.server:serve - Finished server process [1947]
INFO     2021-07-28 07:18:18.115 request id: app - uvicorn.server:serve - Finished server process [1947]
INFO     2021-07-28 07:18:18.115 request id: app - uvicorn.server:serve - Finished server process [1947]
INFO     2021-07-28 07:18:18.876 request id: app - uvicorn.server:serve - Started server process [1952]
INFO     2021-07-28 07:18:18.876 request id: app - uvicorn.server:serve - Started server process [1952]
INFO     2021-07-28 07:18:18.876 request id: app - uvicorn.server:serve - Started server process [1952]
INFO     2021-07-28 07:18:18.877 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2021-07-28 07:18:18.877 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2021-07-28 07:18:18.877 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2021-07-28 07:18:18.878 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2021-07-28 07:18:18.878 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2021-07-28 07:18:18.878 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2021-07-28 07:18:20.727 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:56016 - "PUT /product/610002789d4ff36dbbafa66d HTTP/1.1" 200
INFO     2021-07-28 07:18:27.807 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2021-07-28 07:18:27.808 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2021-07-28 07:18:27.808 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2021-07-28 07:18:27.914 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2021-07-28 07:18:27.914 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2021-07-28 07:18:27.914 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2021-07-28 07:18:27.915 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2021-07-28 07:18:27.915 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2021-07-28 07:18:27.916 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2021-07-28 07:18:27.916 request id: app - uvicorn.server:serve - Finished server process [1952]
INFO     2021-07-28 07:18:27.916 request id: app - uvicorn.server:serve - Finished server process [1952]
INFO     2021-07-28 07:18:27.916 request id: app - uvicorn.server:serve - Finished server process [1952]
INFO     2021-07-28 07:18:29.050 request id: app - uvicorn.server:serve - Started server process [1955]
INFO     2021-07-28 07:18:29.051 request id: app - uvicorn.server:serve - Started server process [1955]
INFO     2021-07-28 07:18:29.051 request id: app - uvicorn.server:serve - Started server process [1955]
INFO     2021-07-28 07:18:29.051 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2021-07-28 07:18:29.051 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2021-07-28 07:18:29.052 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2021-07-28 07:18:29.052 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2021-07-28 07:18:29.053 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2021-07-28 07:18:29.053 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2021-07-28 07:18:29.765 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:56058 - "PUT /product/610002789d4ff36dbbafa66d HTTP/1.1" 200
INFO     2021-07-28 07:21:16.041 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:56889 - "PUT /product/610002789d4ff36dbbafa66d HTTP/1.1" 200
INFO     2021-07-28 07:23:10.816 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2021-07-28 07:23:10.817 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2021-07-28 07:23:10.817 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2021-07-28 07:23:10.923 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2021-07-28 07:23:10.923 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2021-07-28 07:23:10.923 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2021-07-28 07:23:10.928 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2021-07-28 07:23:10.928 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2021-07-28 07:23:10.928 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2021-07-28 07:23:10.928 request id: app - uvicorn.server:serve - Finished server process [1955]
INFO     2021-07-28 07:23:10.929 request id: app - uvicorn.server:serve - Finished server process [1955]
INFO     2021-07-28 07:23:10.929 request id: app - uvicorn.server:serve - Finished server process [1955]
INFO     2021-07-28 07:23:11.657 request id: app - uvicorn.server:serve - Started server process [1992]
INFO     2021-07-28 07:23:11.658 request id: app - uvicorn.server:serve - Started server process [1992]
INFO     2021-07-28 07:23:11.658 request id: app - uvicorn.server:serve - Started server process [1992]
INFO     2021-07-28 07:23:11.658 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2021-07-28 07:23:11.658 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2021-07-28 07:23:11.658 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2021-07-28 07:23:11.659 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2021-07-28 07:23:11.659 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2021-07-28 07:23:11.659 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2021-07-28 07:23:15.384 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:57383 - "PUT /product/610002789d4ff36dbbafa66d HTTP/1.1" 200
INFO     2021-07-28 07:23:29.784 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2021-07-28 07:23:29.785 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2021-07-28 07:23:29.785 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2021-07-28 07:23:29.891 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2021-07-28 07:23:29.891 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2021-07-28 07:23:29.892 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2021-07-28 07:23:29.893 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2021-07-28 07:23:29.893 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2021-07-28 07:23:29.893 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2021-07-28 07:23:29.893 request id: app - uvicorn.server:serve - Finished server process [1992]
INFO     2021-07-28 07:23:29.894 request id: app - uvicorn.server:serve - Finished server process [1992]
INFO     2021-07-28 07:23:29.894 request id: app - uvicorn.server:serve - Finished server process [1992]
INFO     2021-07-28 07:23:30.751 request id: app - uvicorn.server:serve - Started server process [1998]
INFO     2021-07-28 07:23:30.752 request id: app - uvicorn.server:serve - Started server process [1998]
INFO     2021-07-28 07:23:30.752 request id: app - uvicorn.server:serve - Started server process [1998]
INFO     2021-07-28 07:23:30.752 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2021-07-28 07:23:30.752 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2021-07-28 07:23:30.752 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2021-07-28 07:23:30.753 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2021-07-28 07:23:30.753 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2021-07-28 07:23:30.753 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2021-07-28 07:24:13.721 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:57627 - "GET /employe/page?limit=10&offset=0&filter= HTTP/1.1" 200
INFO     2021-07-28 07:24:24.231 request id: app - uvicorn.protocols.http.h11_impl:send - 66.249.83.71:0 - "POST /webhook HTTP/1.1" 200
INFO     2021-07-28 07:24:31.251 request id: app - uvicorn.protocols.http.h11_impl:send - 66.249.83.67:0 - "POST /webhook HTTP/1.1" 200
INFO     2021-07-28 07:24:38.542 request id: app - uvicorn.protocols.http.h11_impl:send - 66.249.83.93:0 - "POST /webhook HTTP/1.1" 200
INFO     2021-07-28 07:24:47.557 request id: app - uvicorn.protocols.http.h11_impl:send - 66.249.83.90:0 - "POST /webhook HTTP/1.1" 200
INFO     2021-07-28 07:25:05.361 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:57851 - "GET /employe/loker HTTP/1.1" 200
INFO     2021-07-28 07:25:05.362 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:57852 - "GET /employe/100001 HTTP/1.1" 200
INFO     2021-07-28 07:27:13.822 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:58381 - "GET /employe/page?limit=10&offset=0&filter= HTTP/1.1" 200
INFO     2021-07-28 07:27:15.987 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:58381 - "GET /employe/loker HTTP/1.1" 200
INFO     2021-07-28 07:27:15.994 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:58391 - "GET /employe/100002 HTTP/1.1" 200
INFO     2021-07-28 07:27:26.101 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:58435 - "OPTIONS /employe/100002 HTTP/1.1" 200
INFO     2021-07-28 07:27:26.125 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:58435 - "PUT /employe/100002 HTTP/1.1" 200
INFO     2021-07-28 07:27:27.178 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:58435 - "GET /employe/page?limit=10&offset=0&filter= HTTP/1.1" 200
INFO     2021-07-28 07:27:29.981 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:58435 - "GET /employe/loker HTTP/1.1" 200
INFO     2021-07-28 07:27:29.989 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:58453 - "GET /employe/100002 HTTP/1.1" 200
INFO     2021-07-28 07:27:36.160 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:58483 - "PUT /employe/100002 HTTP/1.1" 200
INFO     2021-07-28 07:27:37.239 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:58483 - "GET /employe/page?limit=10&offset=0&filter= HTTP/1.1" 200
INFO     2021-07-28 07:27:48.161 request id: app - uvicorn.protocols.http.h11_impl:send - 66.249.83.94:0 - "POST /webhook HTTP/1.1" 200
INFO     2021-07-28 07:27:55.736 request id: app - uvicorn.protocols.http.h11_impl:send - 66.249.83.91:0 - "POST /webhook HTTP/1.1" 200
INFO     2021-07-28 07:28:03.861 request id: app - uvicorn.protocols.http.h11_impl:send - 66.249.83.93:0 - "POST /webhook HTTP/1.1" 200
INFO     2021-07-28 07:28:44.123 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:58765 - "GET /employe/loker HTTP/1.1" 200
INFO     2021-07-28 07:28:44.123 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:58766 - "GET /employe/100003 HTTP/1.1" 200
INFO     2021-07-28 07:28:51.595 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:58800 - "OPTIONS /employe/100003 HTTP/1.1" 200
INFO     2021-07-28 07:28:51.618 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:58800 - "PUT /employe/100003 HTTP/1.1" 200
INFO     2021-07-28 07:28:52.667 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:58800 - "GET /employe/page?limit=10&offset=0&filter= HTTP/1.1" 200
INFO     2021-07-28 07:29:57.285 request id: app - uvicorn.protocols.http.h11_impl:send - 66.249.83.93:0 - "POST /webhook HTTP/1.1" 200
INFO     2021-07-28 07:30:03.708 request id: app - uvicorn.protocols.http.h11_impl:send - 66.249.83.84:0 - "POST /webhook HTTP/1.1" 200
INFO     2021-07-28 07:30:17.060 request id: app - uvicorn.protocols.http.h11_impl:send - 66.249.83.92:0 - "POST /webhook HTTP/1.1" 200
INFO     2021-07-28 07:30:29.129 request id: app - uvicorn.protocols.http.h11_impl:send - 66.249.83.93:0 - "POST /webhook HTTP/1.1" 200
INFO     2021-07-28 07:30:39.358 request id: app - uvicorn.protocols.http.h11_impl:send - 66.249.83.86:0 - "POST /webhook HTTP/1.1" 200
INFO     2021-07-28 07:30:47.154 request id: app - uvicorn.protocols.http.h11_impl:send - 66.249.83.85:0 - "POST /webhook HTTP/1.1" 200
INFO     2021-07-28 07:30:56.065 request id: app - uvicorn.protocols.http.h11_impl:send - 66.249.83.92:0 - "POST /webhook HTTP/1.1" 200
INFO     2021-07-28 07:31:04.449 request id: app - uvicorn.protocols.http.h11_impl:send - 66.249.83.92:0 - "POST /webhook HTTP/1.1" 500
ERROR    2021-07-28 07:31:04.454 request id: app - uvicorn.protocols.http.h11_impl:run_asgi - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 5
               │     └ 8
               └ <function _main at 0x10af110d0>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 5
           │    └ <function BaseProcess._bootstrap at 0x10ace4b80>
           └ <SpawnProcess name='SpawnProcess-37' parent=1291 started>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x10ace41f0>
    └ <SpawnProcess name='SpawnProcess-37' parent=1291 started>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x10af78100>, 'target': <bound method Server.run of <uvicorn.server.Server object...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-37' parent=1291 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-37' parent=1291 started>
    │    └ <function subprocess_started at 0x10b550670>
    └ <SpawnProcess name='SpawnProcess-37' parent=1291 started>
  File "/Library/Python/3.8/site-packages/uvicorn/subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=4, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 5000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x10af781f0>>
  File "/Library/Python/3.8/site-packages/uvicorn/server.py", line 50, in run
    loop.run_until_complete(self.serve(sockets=sockets))
    │    │                  │    │             └ [<socket.socket fd=4, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 5000)>]
    │    │                  │    └ <function Server.serve at 0x10b54dc10>
    │    │                  └ <uvicorn.server.Server object at 0x10af781f0>
    │    └ <function BaseEventLoop.run_until_complete at 0x10b20a790>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/asyncio/base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x10b20a700>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/asyncio/base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x10b20c280>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/asyncio/base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x10b13f160>
    └ <Handle <TaskWakeupMethWrapper object at 0x10c68a310>(<Future finished result=None>)>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/asyncio/events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x10c68a310>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x10c68a310>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x10c68a310>(<Future finished result=None>)>
> File "/Library/Python/3.8/site-packages/uvicorn/protocols/http/h11_impl.py", line 369, in run_asgi
    result = await app(self.scope, self.receive, self.send)
                   │   │    │      │    │        │    └ <function RequestResponseCycle.send at 0x10b6b8310>
                   │   │    │      │    │        └ <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10c68a910>
                   │   │    │      │    └ <function RequestResponseCycle.receive at 0x10b6b83a0>
                   │   │    │      └ <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10c68a910>
                   │   │    └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
                   │   └ <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10c68a910>
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x10b670370>
  File "/Library/Python/3.8/site-packages/uvicorn/middleware/proxy_headers.py", line 59, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10c68a910>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10c68a910>>
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x10b6c1040>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x10b670370>
  File "/Library/Python/3.8/site-packages/fastapi/applications.py", line 199, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10c68a910>>
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10c68a910>>
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
  File "/Library/Python/3.8/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10c68a910>>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10c68a910>>
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x10c61fa90>
          └ <fastapi.applications.FastAPI object at 0x10b6c1040>
  File "/Library/Python/3.8/site-packages/starlette/middleware/errors.py", line 181, in __call__
    raise exc from None
  File "/Library/Python/3.8/site-packages/starlette/middleware/errors.py", line 159, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x10c61bf70>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10c68a910>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x10c61fa30>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x10c61fa90>
  File "/Library/Python/3.8/site-packages/starlette/middleware/base.py", line 25, in __call__
    response = await self.dispatch_func(request, self.call_next)
                     │    │             │        │    └ <function BaseHTTPMiddleware.call_next at 0x10bb7f940>
                     │    │             │        └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x10c61fa30>
                     │    │             └ <starlette.requests.Request object at 0x10c69da30>
                     │    └ <function add_process_time_header at 0x10c61bca0>
                     └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x10c61fa30>

  File "./app/__init__.py", line 65, in add_process_time_header
    response = await call_next(request)
                     │         └ <starlette.requests.Request object at 0x10c69da30>
                     └ <bound method BaseHTTPMiddleware.call_next of <starlette.middleware.base.BaseHTTPMiddleware object at 0x10c61fa30>>

  File "/Library/Python/3.8/site-packages/starlette/middleware/base.py", line 45, in call_next
    task.result()
    │    └ <method 'result' of '_asyncio.Task' objects>
    └ <Task finished name='Task-184' coro=<BaseHTTPMiddleware.call_next.<locals>.coro() done, defined at /Library/Python/3.8/site-p...
  File "/Library/Python/3.8/site-packages/starlette/middleware/base.py", line 38, in coro
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method Queue.put of <Queue at 0x10c69df40 maxsize=0 tasks=1>>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10c68a910>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x10c61fa00>
          └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x10c61fa30>
  File "/Library/Python/3.8/site-packages/starlette/middleware/cors.py", line 78, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method Queue.put of <Queue at 0x10c69df40 maxsize=0 tasks=1>>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10c68a910>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x10c61f9a0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x10c61fa00>
  File "/Library/Python/3.8/site-packages/starlette/exceptions.py", line 82, in __call__
    raise exc from None
  File "/Library/Python/3.8/site-packages/starlette/exceptions.py", line 71, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x10c64ee50>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10c68a910>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x10c3b3cd0>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x10c61f9a0>
  File "/Library/Python/3.8/site-packages/starlette/routing.py", line 580, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x10c64ee50>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10c68a910>>
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │     └ <function Route.handle at 0x10bb4daf0>
          └ <fastapi.routing.APIRoute object at 0x10c60f880>
  File "/Library/Python/3.8/site-packages/starlette/routing.py", line 241, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x10c64ee50>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10c68a910>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <function request_response.<locals>.app at 0x10c60bc10>
          └ <fastapi.routing.APIRoute object at 0x10c60f880>
  File "/Library/Python/3.8/site-packages/starlette/routing.py", line 52, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x10c68a8b0>
                     └ <function get_request_handler.<locals>.app at 0x10c60bb80>
  File "/Library/Python/3.8/site-packages/fastapi/routing.py", line 214, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x10bb38b80>
  File "/Library/Python/3.8/site-packages/fastapi/routing.py", line 149, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'request': <starlette.requests.Request object at 0x10c68a8b0>}
                 │         └ <function action at 0x10c4dc5e0>
                 └ <fastapi.dependencies.models.Dependant object at 0x10c60f970>

  File "./app/routers/conversation.py", line 10, in action
    return await controller.index(request)
                 │          │     └ <starlette.requests.Request object at 0x10c68a8b0>
                 │          └ <staticmethod object at 0x10c4b77c0>
                 └ <class 'app.controllers.Conversation.Conversation'>

  File "./app/controllers/Conversation.py", line 200, in index
    resfull = agent.handle_request(handler)
              │     │              └ <function handler at 0x10c4dc430>
              │     └ <function WebhookClient.handle_request at 0x10c4cf8b0>
              └ <dialogflow_fulfillment.webhook_client.WebhookClient object at 0x10c669e50>

  File "/Library/Python/3.8/site-packages/dialogflow_fulfillment/webhook_client.py", line 271, in handle_request
    return handler_function(self)
           │                └ <dialogflow_fulfillment.webhook_client.WebhookClient object at 0x10c669e50>
           └ <function handler at 0x10c4dc430>

  File "./app/controllers/Conversation.py", line 139, in handler
    page = Pagination(agent)
           │          └ <dialogflow_fulfillment.webhook_client.WebhookClient object at 0x10c669e50>
           └ <class 'app.libraries.Pagination.Pagination'>

  File "./app/libraries/Pagination.py", line 42, in __init__
    self.pages(dict(contextact)['parameters']['category'])
    │    │          └ None
    │    └ <function Pagination.pages at 0x10c4cfaf0>
    └ <app.libraries.Pagination.Pagination object at 0x10c6693d0>

TypeError: 'NoneType' object is not iterable
ERROR    2021-07-28 07:31:04.517 request id: app - uvicorn.protocols.http.h11_impl:run_asgi - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 5
               │     └ 8
               └ <function _main at 0x10af110d0>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 5
           │    └ <function BaseProcess._bootstrap at 0x10ace4b80>
           └ <SpawnProcess name='SpawnProcess-37' parent=1291 started>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x10ace41f0>
    └ <SpawnProcess name='SpawnProcess-37' parent=1291 started>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x10af78100>, 'target': <bound method Server.run of <uvicorn.server.Server object...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-37' parent=1291 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-37' parent=1291 started>
    │    └ <function subprocess_started at 0x10b550670>
    └ <SpawnProcess name='SpawnProcess-37' parent=1291 started>
  File "/Library/Python/3.8/site-packages/uvicorn/subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=4, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 5000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x10af781f0>>
  File "/Library/Python/3.8/site-packages/uvicorn/server.py", line 50, in run
    loop.run_until_complete(self.serve(sockets=sockets))
    │    │                  │    │             └ [<socket.socket fd=4, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 5000)>]
    │    │                  │    └ <function Server.serve at 0x10b54dc10>
    │    │                  └ <uvicorn.server.Server object at 0x10af781f0>
    │    └ <function BaseEventLoop.run_until_complete at 0x10b20a790>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/asyncio/base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x10b20a700>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/asyncio/base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x10b20c280>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/asyncio/base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x10b13f160>
    └ <Handle <TaskWakeupMethWrapper object at 0x10c68a310>(<Future finished result=None>)>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/asyncio/events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x10c68a310>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x10c68a310>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x10c68a310>(<Future finished result=None>)>
> File "/Library/Python/3.8/site-packages/uvicorn/protocols/http/h11_impl.py", line 369, in run_asgi
    result = await app(self.scope, self.receive, self.send)
                   │   │    │      │    │        │    └ <function RequestResponseCycle.send at 0x10b6b8310>
                   │   │    │      │    │        └ <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10c68a910>
                   │   │    │      │    └ <function RequestResponseCycle.receive at 0x10b6b83a0>
                   │   │    │      └ <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10c68a910>
                   │   │    └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
                   │   └ <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10c68a910>
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x10b670370>
  File "/Library/Python/3.8/site-packages/uvicorn/middleware/proxy_headers.py", line 59, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10c68a910>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10c68a910>>
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x10b6c1040>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x10b670370>
  File "/Library/Python/3.8/site-packages/fastapi/applications.py", line 199, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10c68a910>>
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10c68a910>>
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
  File "/Library/Python/3.8/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10c68a910>>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10c68a910>>
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x10c61fa90>
          └ <fastapi.applications.FastAPI object at 0x10b6c1040>
  File "/Library/Python/3.8/site-packages/starlette/middleware/errors.py", line 181, in __call__
    raise exc from None
  File "/Library/Python/3.8/site-packages/starlette/middleware/errors.py", line 159, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x10c61bf70>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10c68a910>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x10c61fa30>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x10c61fa90>
  File "/Library/Python/3.8/site-packages/starlette/middleware/base.py", line 25, in __call__
    response = await self.dispatch_func(request, self.call_next)
                     │    │             │        │    └ <function BaseHTTPMiddleware.call_next at 0x10bb7f940>
                     │    │             │        └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x10c61fa30>
                     │    │             └ <starlette.requests.Request object at 0x10c69da30>
                     │    └ <function add_process_time_header at 0x10c61bca0>
                     └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x10c61fa30>

  File "./app/__init__.py", line 65, in add_process_time_header
    response = await call_next(request)
                     │         └ <starlette.requests.Request object at 0x10c69da30>
                     └ <bound method BaseHTTPMiddleware.call_next of <starlette.middleware.base.BaseHTTPMiddleware object at 0x10c61fa30>>

  File "/Library/Python/3.8/site-packages/starlette/middleware/base.py", line 45, in call_next
    task.result()
    │    └ <method 'result' of '_asyncio.Task' objects>
    └ <Task finished name='Task-184' coro=<BaseHTTPMiddleware.call_next.<locals>.coro() done, defined at /Library/Python/3.8/site-p...
  File "/Library/Python/3.8/site-packages/starlette/middleware/base.py", line 38, in coro
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method Queue.put of <Queue at 0x10c69df40 maxsize=0 tasks=1>>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10c68a910>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x10c61fa00>
          └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x10c61fa30>
  File "/Library/Python/3.8/site-packages/starlette/middleware/cors.py", line 78, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method Queue.put of <Queue at 0x10c69df40 maxsize=0 tasks=1>>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10c68a910>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x10c61f9a0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x10c61fa00>
  File "/Library/Python/3.8/site-packages/starlette/exceptions.py", line 82, in __call__
    raise exc from None
  File "/Library/Python/3.8/site-packages/starlette/exceptions.py", line 71, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x10c64ee50>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10c68a910>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x10c3b3cd0>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x10c61f9a0>
  File "/Library/Python/3.8/site-packages/starlette/routing.py", line 580, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x10c64ee50>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10c68a910>>
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │     └ <function Route.handle at 0x10bb4daf0>
          └ <fastapi.routing.APIRoute object at 0x10c60f880>
  File "/Library/Python/3.8/site-packages/starlette/routing.py", line 241, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x10c64ee50>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10c68a910>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <function request_response.<locals>.app at 0x10c60bc10>
          └ <fastapi.routing.APIRoute object at 0x10c60f880>
  File "/Library/Python/3.8/site-packages/starlette/routing.py", line 52, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x10c68a8b0>
                     └ <function get_request_handler.<locals>.app at 0x10c60bb80>
  File "/Library/Python/3.8/site-packages/fastapi/routing.py", line 214, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x10bb38b80>
  File "/Library/Python/3.8/site-packages/fastapi/routing.py", line 149, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'request': <starlette.requests.Request object at 0x10c68a8b0>}
                 │         └ <function action at 0x10c4dc5e0>
                 └ <fastapi.dependencies.models.Dependant object at 0x10c60f970>

  File "./app/routers/conversation.py", line 10, in action
    return await controller.index(request)
                 │          │     └ <starlette.requests.Request object at 0x10c68a8b0>
                 │          └ <staticmethod object at 0x10c4b77c0>
                 └ <class 'app.controllers.Conversation.Conversation'>

  File "./app/controllers/Conversation.py", line 200, in index
    resfull = agent.handle_request(handler)
              │     │              └ <function handler at 0x10c4dc430>
              │     └ <function WebhookClient.handle_request at 0x10c4cf8b0>
              └ <dialogflow_fulfillment.webhook_client.WebhookClient object at 0x10c669e50>

  File "/Library/Python/3.8/site-packages/dialogflow_fulfillment/webhook_client.py", line 271, in handle_request
    return handler_function(self)
           │                └ <dialogflow_fulfillment.webhook_client.WebhookClient object at 0x10c669e50>
           └ <function handler at 0x10c4dc430>

  File "./app/controllers/Conversation.py", line 139, in handler
    page = Pagination(agent)
           │          └ <dialogflow_fulfillment.webhook_client.WebhookClient object at 0x10c669e50>
           └ <class 'app.libraries.Pagination.Pagination'>

  File "./app/libraries/Pagination.py", line 42, in __init__
    self.pages(dict(contextact)['parameters']['category'])
    │    │          └ None
    │    └ <function Pagination.pages at 0x10c4cfaf0>
    └ <app.libraries.Pagination.Pagination object at 0x10c6693d0>

TypeError: 'NoneType' object is not iterable
ERROR    2021-07-28 07:31:04.530 request id: app - uvicorn.protocols.http.h11_impl:run_asgi - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 5
               │     └ 8
               └ <function _main at 0x10af110d0>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 5
           │    └ <function BaseProcess._bootstrap at 0x10ace4b80>
           └ <SpawnProcess name='SpawnProcess-37' parent=1291 started>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x10ace41f0>
    └ <SpawnProcess name='SpawnProcess-37' parent=1291 started>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x10af78100>, 'target': <bound method Server.run of <uvicorn.server.Server object...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-37' parent=1291 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-37' parent=1291 started>
    │    └ <function subprocess_started at 0x10b550670>
    └ <SpawnProcess name='SpawnProcess-37' parent=1291 started>
  File "/Library/Python/3.8/site-packages/uvicorn/subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=4, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 5000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x10af781f0>>
  File "/Library/Python/3.8/site-packages/uvicorn/server.py", line 50, in run
    loop.run_until_complete(self.serve(sockets=sockets))
    │    │                  │    │             └ [<socket.socket fd=4, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 5000)>]
    │    │                  │    └ <function Server.serve at 0x10b54dc10>
    │    │                  └ <uvicorn.server.Server object at 0x10af781f0>
    │    └ <function BaseEventLoop.run_until_complete at 0x10b20a790>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/asyncio/base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x10b20a700>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/asyncio/base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x10b20c280>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/asyncio/base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x10b13f160>
    └ <Handle <TaskWakeupMethWrapper object at 0x10c68a310>(<Future finished result=None>)>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/asyncio/events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x10c68a310>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x10c68a310>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x10c68a310>(<Future finished result=None>)>
> File "/Library/Python/3.8/site-packages/uvicorn/protocols/http/h11_impl.py", line 369, in run_asgi
    result = await app(self.scope, self.receive, self.send)
                   │   │    │      │    │        │    └ <function RequestResponseCycle.send at 0x10b6b8310>
                   │   │    │      │    │        └ <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10c68a910>
                   │   │    │      │    └ <function RequestResponseCycle.receive at 0x10b6b83a0>
                   │   │    │      └ <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10c68a910>
                   │   │    └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
                   │   └ <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10c68a910>
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x10b670370>
  File "/Library/Python/3.8/site-packages/uvicorn/middleware/proxy_headers.py", line 59, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10c68a910>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10c68a910>>
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x10b6c1040>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x10b670370>
  File "/Library/Python/3.8/site-packages/fastapi/applications.py", line 199, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10c68a910>>
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10c68a910>>
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
  File "/Library/Python/3.8/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10c68a910>>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10c68a910>>
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x10c61fa90>
          └ <fastapi.applications.FastAPI object at 0x10b6c1040>
  File "/Library/Python/3.8/site-packages/starlette/middleware/errors.py", line 181, in __call__
    raise exc from None
  File "/Library/Python/3.8/site-packages/starlette/middleware/errors.py", line 159, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x10c61bf70>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10c68a910>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x10c61fa30>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x10c61fa90>
  File "/Library/Python/3.8/site-packages/starlette/middleware/base.py", line 25, in __call__
    response = await self.dispatch_func(request, self.call_next)
                     │    │             │        │    └ <function BaseHTTPMiddleware.call_next at 0x10bb7f940>
                     │    │             │        └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x10c61fa30>
                     │    │             └ <starlette.requests.Request object at 0x10c69da30>
                     │    └ <function add_process_time_header at 0x10c61bca0>
                     └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x10c61fa30>

  File "./app/__init__.py", line 65, in add_process_time_header
    response = await call_next(request)
                     │         └ <starlette.requests.Request object at 0x10c69da30>
                     └ <bound method BaseHTTPMiddleware.call_next of <starlette.middleware.base.BaseHTTPMiddleware object at 0x10c61fa30>>

  File "/Library/Python/3.8/site-packages/starlette/middleware/base.py", line 45, in call_next
    task.result()
    │    └ <method 'result' of '_asyncio.Task' objects>
    └ <Task finished name='Task-184' coro=<BaseHTTPMiddleware.call_next.<locals>.coro() done, defined at /Library/Python/3.8/site-p...
  File "/Library/Python/3.8/site-packages/starlette/middleware/base.py", line 38, in coro
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method Queue.put of <Queue at 0x10c69df40 maxsize=0 tasks=1>>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10c68a910>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x10c61fa00>
          └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x10c61fa30>
  File "/Library/Python/3.8/site-packages/starlette/middleware/cors.py", line 78, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method Queue.put of <Queue at 0x10c69df40 maxsize=0 tasks=1>>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10c68a910>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x10c61f9a0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x10c61fa00>
  File "/Library/Python/3.8/site-packages/starlette/exceptions.py", line 82, in __call__
    raise exc from None
  File "/Library/Python/3.8/site-packages/starlette/exceptions.py", line 71, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x10c64ee50>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10c68a910>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x10c3b3cd0>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x10c61f9a0>
  File "/Library/Python/3.8/site-packages/starlette/routing.py", line 580, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x10c64ee50>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10c68a910>>
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │     └ <function Route.handle at 0x10bb4daf0>
          └ <fastapi.routing.APIRoute object at 0x10c60f880>
  File "/Library/Python/3.8/site-packages/starlette/routing.py", line 241, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x10c64ee50>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10c68a910>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <function request_response.<locals>.app at 0x10c60bc10>
          └ <fastapi.routing.APIRoute object at 0x10c60f880>
  File "/Library/Python/3.8/site-packages/starlette/routing.py", line 52, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x10c68a8b0>
                     └ <function get_request_handler.<locals>.app at 0x10c60bb80>
  File "/Library/Python/3.8/site-packages/fastapi/routing.py", line 214, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x10bb38b80>
  File "/Library/Python/3.8/site-packages/fastapi/routing.py", line 149, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'request': <starlette.requests.Request object at 0x10c68a8b0>}
                 │         └ <function action at 0x10c4dc5e0>
                 └ <fastapi.dependencies.models.Dependant object at 0x10c60f970>

  File "./app/routers/conversation.py", line 10, in action
    return await controller.index(request)
                 │          │     └ <starlette.requests.Request object at 0x10c68a8b0>
                 │          └ <staticmethod object at 0x10c4b77c0>
                 └ <class 'app.controllers.Conversation.Conversation'>

  File "./app/controllers/Conversation.py", line 200, in index
    resfull = agent.handle_request(handler)
              │     │              └ <function handler at 0x10c4dc430>
              │     └ <function WebhookClient.handle_request at 0x10c4cf8b0>
              └ <dialogflow_fulfillment.webhook_client.WebhookClient object at 0x10c669e50>

  File "/Library/Python/3.8/site-packages/dialogflow_fulfillment/webhook_client.py", line 271, in handle_request
    return handler_function(self)
           │                └ <dialogflow_fulfillment.webhook_client.WebhookClient object at 0x10c669e50>
           └ <function handler at 0x10c4dc430>

  File "./app/controllers/Conversation.py", line 139, in handler
    page = Pagination(agent)
           │          └ <dialogflow_fulfillment.webhook_client.WebhookClient object at 0x10c669e50>
           └ <class 'app.libraries.Pagination.Pagination'>

  File "./app/libraries/Pagination.py", line 42, in __init__
    self.pages(dict(contextact)['parameters']['category'])
    │    │          └ None
    │    └ <function Pagination.pages at 0x10c4cfaf0>
    └ <app.libraries.Pagination.Pagination object at 0x10c6693d0>

TypeError: 'NoneType' object is not iterable
INFO     2021-07-28 07:31:13.966 request id: app - uvicorn.protocols.http.h11_impl:send - 66.249.83.69:0 - "POST /webhook HTTP/1.1" 500
ERROR    2021-07-28 07:31:13.969 request id: app - uvicorn.protocols.http.h11_impl:run_asgi - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 5
               │     └ 8
               └ <function _main at 0x10af110d0>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 5
           │    └ <function BaseProcess._bootstrap at 0x10ace4b80>
           └ <SpawnProcess name='SpawnProcess-37' parent=1291 started>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x10ace41f0>
    └ <SpawnProcess name='SpawnProcess-37' parent=1291 started>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x10af78100>, 'target': <bound method Server.run of <uvicorn.server.Server object...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-37' parent=1291 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-37' parent=1291 started>
    │    └ <function subprocess_started at 0x10b550670>
    └ <SpawnProcess name='SpawnProcess-37' parent=1291 started>
  File "/Library/Python/3.8/site-packages/uvicorn/subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=4, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 5000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x10af781f0>>
  File "/Library/Python/3.8/site-packages/uvicorn/server.py", line 50, in run
    loop.run_until_complete(self.serve(sockets=sockets))
    │    │                  │    │             └ [<socket.socket fd=4, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 5000)>]
    │    │                  │    └ <function Server.serve at 0x10b54dc10>
    │    │                  └ <uvicorn.server.Server object at 0x10af781f0>
    │    └ <function BaseEventLoop.run_until_complete at 0x10b20a790>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/asyncio/base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x10b20a700>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/asyncio/base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x10b20c280>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/asyncio/base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x10b13f160>
    └ <Handle <TaskWakeupMethWrapper object at 0x10c649250>(<Future finished result=None>)>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/asyncio/events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x10c649250>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x10c649250>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x10c649250>(<Future finished result=None>)>
> File "/Library/Python/3.8/site-packages/uvicorn/protocols/http/h11_impl.py", line 369, in run_asgi
    result = await app(self.scope, self.receive, self.send)
                   │   │    │      │    │        │    └ <function RequestResponseCycle.send at 0x10b6b8310>
                   │   │    │      │    │        └ <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10c649730>
                   │   │    │      │    └ <function RequestResponseCycle.receive at 0x10b6b83a0>
                   │   │    │      └ <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10c649730>
                   │   │    └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
                   │   └ <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10c649730>
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x10b670370>
  File "/Library/Python/3.8/site-packages/uvicorn/middleware/proxy_headers.py", line 59, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10c649730>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10c649730>>
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x10b6c1040>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x10b670370>
  File "/Library/Python/3.8/site-packages/fastapi/applications.py", line 199, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10c649730>>
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10c649730>>
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
  File "/Library/Python/3.8/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10c649730>>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10c649730>>
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x10c61fa90>
          └ <fastapi.applications.FastAPI object at 0x10b6c1040>
  File "/Library/Python/3.8/site-packages/starlette/middleware/errors.py", line 181, in __call__
    raise exc from None
  File "/Library/Python/3.8/site-packages/starlette/middleware/errors.py", line 159, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x10c64eee0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10c649730>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x10c61fa30>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x10c61fa90>
  File "/Library/Python/3.8/site-packages/starlette/middleware/base.py", line 25, in __call__
    response = await self.dispatch_func(request, self.call_next)
                     │    │             │        │    └ <function BaseHTTPMiddleware.call_next at 0x10bb7f940>
                     │    │             │        └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x10c61fa30>
                     │    │             └ <starlette.requests.Request object at 0x10c649d60>
                     │    └ <function add_process_time_header at 0x10c61bca0>
                     └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x10c61fa30>

  File "./app/__init__.py", line 65, in add_process_time_header
    response = await call_next(request)
                     │         └ <starlette.requests.Request object at 0x10c649d60>
                     └ <bound method BaseHTTPMiddleware.call_next of <starlette.middleware.base.BaseHTTPMiddleware object at 0x10c61fa30>>

  File "/Library/Python/3.8/site-packages/starlette/middleware/base.py", line 45, in call_next
    task.result()
    │    └ <method 'result' of '_asyncio.Task' objects>
    └ <Task finished name='Task-188' coro=<BaseHTTPMiddleware.call_next.<locals>.coro() done, defined at /Library/Python/3.8/site-p...
  File "/Library/Python/3.8/site-packages/starlette/middleware/base.py", line 38, in coro
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method Queue.put of <Queue at 0x10c649a00 maxsize=0 tasks=1>>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10c649730>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x10c61fa00>
          └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x10c61fa30>
  File "/Library/Python/3.8/site-packages/starlette/middleware/cors.py", line 78, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method Queue.put of <Queue at 0x10c649a00 maxsize=0 tasks=1>>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10c649730>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x10c61f9a0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x10c61fa00>
  File "/Library/Python/3.8/site-packages/starlette/exceptions.py", line 82, in __call__
    raise exc from None
  File "/Library/Python/3.8/site-packages/starlette/exceptions.py", line 71, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x10c704f70>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10c649730>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x10c3b3cd0>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x10c61f9a0>
  File "/Library/Python/3.8/site-packages/starlette/routing.py", line 580, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x10c704f70>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10c649730>>
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │     └ <function Route.handle at 0x10bb4daf0>
          └ <fastapi.routing.APIRoute object at 0x10c60f880>
  File "/Library/Python/3.8/site-packages/starlette/routing.py", line 241, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x10c704f70>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10c649730>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <function request_response.<locals>.app at 0x10c60bc10>
          └ <fastapi.routing.APIRoute object at 0x10c60f880>
  File "/Library/Python/3.8/site-packages/starlette/routing.py", line 52, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x10c649fa0>
                     └ <function get_request_handler.<locals>.app at 0x10c60bb80>
  File "/Library/Python/3.8/site-packages/fastapi/routing.py", line 214, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x10bb38b80>
  File "/Library/Python/3.8/site-packages/fastapi/routing.py", line 149, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'request': <starlette.requests.Request object at 0x10c649fa0>}
                 │         └ <function action at 0x10c4dc5e0>
                 └ <fastapi.dependencies.models.Dependant object at 0x10c60f970>

  File "./app/routers/conversation.py", line 10, in action
    return await controller.index(request)
                 │          │     └ <starlette.requests.Request object at 0x10c649fa0>
                 │          └ <staticmethod object at 0x10c4b77c0>
                 └ <class 'app.controllers.Conversation.Conversation'>

  File "./app/controllers/Conversation.py", line 200, in index
    resfull = agent.handle_request(handler)
              │     │              └ <function handler at 0x10c4dc430>
              │     └ <function WebhookClient.handle_request at 0x10c4cf8b0>
              └ <dialogflow_fulfillment.webhook_client.WebhookClient object at 0x10c6497f0>

  File "/Library/Python/3.8/site-packages/dialogflow_fulfillment/webhook_client.py", line 271, in handle_request
    return handler_function(self)
           │                └ <dialogflow_fulfillment.webhook_client.WebhookClient object at 0x10c6497f0>
           └ <function handler at 0x10c4dc430>

  File "./app/controllers/Conversation.py", line 139, in handler
    page = Pagination(agent)
           │          └ <dialogflow_fulfillment.webhook_client.WebhookClient object at 0x10c6497f0>
           └ <class 'app.libraries.Pagination.Pagination'>

  File "./app/libraries/Pagination.py", line 42, in __init__
    self.pages(dict(contextact)['parameters']['category'])
    │    │          └ None
    │    └ <function Pagination.pages at 0x10c4cfaf0>
    └ <app.libraries.Pagination.Pagination object at 0x10c63b220>

TypeError: 'NoneType' object is not iterable
ERROR    2021-07-28 07:31:14.002 request id: app - uvicorn.protocols.http.h11_impl:run_asgi - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 5
               │     └ 8
               └ <function _main at 0x10af110d0>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 5
           │    └ <function BaseProcess._bootstrap at 0x10ace4b80>
           └ <SpawnProcess name='SpawnProcess-37' parent=1291 started>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x10ace41f0>
    └ <SpawnProcess name='SpawnProcess-37' parent=1291 started>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x10af78100>, 'target': <bound method Server.run of <uvicorn.server.Server object...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-37' parent=1291 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-37' parent=1291 started>
    │    └ <function subprocess_started at 0x10b550670>
    └ <SpawnProcess name='SpawnProcess-37' parent=1291 started>
  File "/Library/Python/3.8/site-packages/uvicorn/subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=4, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 5000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x10af781f0>>
  File "/Library/Python/3.8/site-packages/uvicorn/server.py", line 50, in run
    loop.run_until_complete(self.serve(sockets=sockets))
    │    │                  │    │             └ [<socket.socket fd=4, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 5000)>]
    │    │                  │    └ <function Server.serve at 0x10b54dc10>
    │    │                  └ <uvicorn.server.Server object at 0x10af781f0>
    │    └ <function BaseEventLoop.run_until_complete at 0x10b20a790>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/asyncio/base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x10b20a700>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/asyncio/base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x10b20c280>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/asyncio/base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x10b13f160>
    └ <Handle <TaskWakeupMethWrapper object at 0x10c649250>(<Future finished result=None>)>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/asyncio/events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x10c649250>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x10c649250>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x10c649250>(<Future finished result=None>)>
> File "/Library/Python/3.8/site-packages/uvicorn/protocols/http/h11_impl.py", line 369, in run_asgi
    result = await app(self.scope, self.receive, self.send)
                   │   │    │      │    │        │    └ <function RequestResponseCycle.send at 0x10b6b8310>
                   │   │    │      │    │        └ <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10c649730>
                   │   │    │      │    └ <function RequestResponseCycle.receive at 0x10b6b83a0>
                   │   │    │      └ <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10c649730>
                   │   │    └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
                   │   └ <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10c649730>
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x10b670370>
  File "/Library/Python/3.8/site-packages/uvicorn/middleware/proxy_headers.py", line 59, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10c649730>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10c649730>>
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x10b6c1040>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x10b670370>
  File "/Library/Python/3.8/site-packages/fastapi/applications.py", line 199, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10c649730>>
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10c649730>>
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
  File "/Library/Python/3.8/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10c649730>>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10c649730>>
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x10c61fa90>
          └ <fastapi.applications.FastAPI object at 0x10b6c1040>
  File "/Library/Python/3.8/site-packages/starlette/middleware/errors.py", line 181, in __call__
    raise exc from None
  File "/Library/Python/3.8/site-packages/starlette/middleware/errors.py", line 159, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x10c64eee0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10c649730>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x10c61fa30>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x10c61fa90>
  File "/Library/Python/3.8/site-packages/starlette/middleware/base.py", line 25, in __call__
    response = await self.dispatch_func(request, self.call_next)
                     │    │             │        │    └ <function BaseHTTPMiddleware.call_next at 0x10bb7f940>
                     │    │             │        └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x10c61fa30>
                     │    │             └ <starlette.requests.Request object at 0x10c649d60>
                     │    └ <function add_process_time_header at 0x10c61bca0>
                     └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x10c61fa30>

  File "./app/__init__.py", line 65, in add_process_time_header
    response = await call_next(request)
                     │         └ <starlette.requests.Request object at 0x10c649d60>
                     └ <bound method BaseHTTPMiddleware.call_next of <starlette.middleware.base.BaseHTTPMiddleware object at 0x10c61fa30>>

  File "/Library/Python/3.8/site-packages/starlette/middleware/base.py", line 45, in call_next
    task.result()
    │    └ <method 'result' of '_asyncio.Task' objects>
    └ <Task finished name='Task-188' coro=<BaseHTTPMiddleware.call_next.<locals>.coro() done, defined at /Library/Python/3.8/site-p...
  File "/Library/Python/3.8/site-packages/starlette/middleware/base.py", line 38, in coro
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method Queue.put of <Queue at 0x10c649a00 maxsize=0 tasks=1>>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10c649730>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x10c61fa00>
          └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x10c61fa30>
  File "/Library/Python/3.8/site-packages/starlette/middleware/cors.py", line 78, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method Queue.put of <Queue at 0x10c649a00 maxsize=0 tasks=1>>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10c649730>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x10c61f9a0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x10c61fa00>
  File "/Library/Python/3.8/site-packages/starlette/exceptions.py", line 82, in __call__
    raise exc from None
  File "/Library/Python/3.8/site-packages/starlette/exceptions.py", line 71, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x10c704f70>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10c649730>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x10c3b3cd0>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x10c61f9a0>
  File "/Library/Python/3.8/site-packages/starlette/routing.py", line 580, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x10c704f70>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10c649730>>
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │     └ <function Route.handle at 0x10bb4daf0>
          └ <fastapi.routing.APIRoute object at 0x10c60f880>
  File "/Library/Python/3.8/site-packages/starlette/routing.py", line 241, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x10c704f70>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10c649730>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <function request_response.<locals>.app at 0x10c60bc10>
          └ <fastapi.routing.APIRoute object at 0x10c60f880>
  File "/Library/Python/3.8/site-packages/starlette/routing.py", line 52, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x10c649fa0>
                     └ <function get_request_handler.<locals>.app at 0x10c60bb80>
  File "/Library/Python/3.8/site-packages/fastapi/routing.py", line 214, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x10bb38b80>
  File "/Library/Python/3.8/site-packages/fastapi/routing.py", line 149, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'request': <starlette.requests.Request object at 0x10c649fa0>}
                 │         └ <function action at 0x10c4dc5e0>
                 └ <fastapi.dependencies.models.Dependant object at 0x10c60f970>

  File "./app/routers/conversation.py", line 10, in action
    return await controller.index(request)
                 │          │     └ <starlette.requests.Request object at 0x10c649fa0>
                 │          └ <staticmethod object at 0x10c4b77c0>
                 └ <class 'app.controllers.Conversation.Conversation'>

  File "./app/controllers/Conversation.py", line 200, in index
    resfull = agent.handle_request(handler)
              │     │              └ <function handler at 0x10c4dc430>
              │     └ <function WebhookClient.handle_request at 0x10c4cf8b0>
              └ <dialogflow_fulfillment.webhook_client.WebhookClient object at 0x10c6497f0>

  File "/Library/Python/3.8/site-packages/dialogflow_fulfillment/webhook_client.py", line 271, in handle_request
    return handler_function(self)
           │                └ <dialogflow_fulfillment.webhook_client.WebhookClient object at 0x10c6497f0>
           └ <function handler at 0x10c4dc430>

  File "./app/controllers/Conversation.py", line 139, in handler
    page = Pagination(agent)
           │          └ <dialogflow_fulfillment.webhook_client.WebhookClient object at 0x10c6497f0>
           └ <class 'app.libraries.Pagination.Pagination'>

  File "./app/libraries/Pagination.py", line 42, in __init__
    self.pages(dict(contextact)['parameters']['category'])
    │    │          └ None
    │    └ <function Pagination.pages at 0x10c4cfaf0>
    └ <app.libraries.Pagination.Pagination object at 0x10c63b220>

TypeError: 'NoneType' object is not iterable
ERROR    2021-07-28 07:31:14.022 request id: app - uvicorn.protocols.http.h11_impl:run_asgi - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 5
               │     └ 8
               └ <function _main at 0x10af110d0>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 5
           │    └ <function BaseProcess._bootstrap at 0x10ace4b80>
           └ <SpawnProcess name='SpawnProcess-37' parent=1291 started>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x10ace41f0>
    └ <SpawnProcess name='SpawnProcess-37' parent=1291 started>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x10af78100>, 'target': <bound method Server.run of <uvicorn.server.Server object...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-37' parent=1291 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-37' parent=1291 started>
    │    └ <function subprocess_started at 0x10b550670>
    └ <SpawnProcess name='SpawnProcess-37' parent=1291 started>
  File "/Library/Python/3.8/site-packages/uvicorn/subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=4, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 5000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x10af781f0>>
  File "/Library/Python/3.8/site-packages/uvicorn/server.py", line 50, in run
    loop.run_until_complete(self.serve(sockets=sockets))
    │    │                  │    │             └ [<socket.socket fd=4, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 5000)>]
    │    │                  │    └ <function Server.serve at 0x10b54dc10>
    │    │                  └ <uvicorn.server.Server object at 0x10af781f0>
    │    └ <function BaseEventLoop.run_until_complete at 0x10b20a790>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/asyncio/base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x10b20a700>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/asyncio/base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x10b20c280>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/asyncio/base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x10b13f160>
    └ <Handle <TaskWakeupMethWrapper object at 0x10c649250>(<Future finished result=None>)>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/asyncio/events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x10c649250>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x10c649250>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x10c649250>(<Future finished result=None>)>
> File "/Library/Python/3.8/site-packages/uvicorn/protocols/http/h11_impl.py", line 369, in run_asgi
    result = await app(self.scope, self.receive, self.send)
                   │   │    │      │    │        │    └ <function RequestResponseCycle.send at 0x10b6b8310>
                   │   │    │      │    │        └ <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10c649730>
                   │   │    │      │    └ <function RequestResponseCycle.receive at 0x10b6b83a0>
                   │   │    │      └ <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10c649730>
                   │   │    └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
                   │   └ <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10c649730>
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x10b670370>
  File "/Library/Python/3.8/site-packages/uvicorn/middleware/proxy_headers.py", line 59, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10c649730>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10c649730>>
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x10b6c1040>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x10b670370>
  File "/Library/Python/3.8/site-packages/fastapi/applications.py", line 199, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10c649730>>
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10c649730>>
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
  File "/Library/Python/3.8/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10c649730>>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10c649730>>
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x10c61fa90>
          └ <fastapi.applications.FastAPI object at 0x10b6c1040>
  File "/Library/Python/3.8/site-packages/starlette/middleware/errors.py", line 181, in __call__
    raise exc from None
  File "/Library/Python/3.8/site-packages/starlette/middleware/errors.py", line 159, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x10c64eee0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10c649730>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x10c61fa30>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x10c61fa90>
  File "/Library/Python/3.8/site-packages/starlette/middleware/base.py", line 25, in __call__
    response = await self.dispatch_func(request, self.call_next)
                     │    │             │        │    └ <function BaseHTTPMiddleware.call_next at 0x10bb7f940>
                     │    │             │        └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x10c61fa30>
                     │    │             └ <starlette.requests.Request object at 0x10c649d60>
                     │    └ <function add_process_time_header at 0x10c61bca0>
                     └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x10c61fa30>

  File "./app/__init__.py", line 65, in add_process_time_header
    response = await call_next(request)
                     │         └ <starlette.requests.Request object at 0x10c649d60>
                     └ <bound method BaseHTTPMiddleware.call_next of <starlette.middleware.base.BaseHTTPMiddleware object at 0x10c61fa30>>

  File "/Library/Python/3.8/site-packages/starlette/middleware/base.py", line 45, in call_next
    task.result()
    │    └ <method 'result' of '_asyncio.Task' objects>
    └ <Task finished name='Task-188' coro=<BaseHTTPMiddleware.call_next.<locals>.coro() done, defined at /Library/Python/3.8/site-p...
  File "/Library/Python/3.8/site-packages/starlette/middleware/base.py", line 38, in coro
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method Queue.put of <Queue at 0x10c649a00 maxsize=0 tasks=1>>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10c649730>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x10c61fa00>
          └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x10c61fa30>
  File "/Library/Python/3.8/site-packages/starlette/middleware/cors.py", line 78, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method Queue.put of <Queue at 0x10c649a00 maxsize=0 tasks=1>>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10c649730>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x10c61f9a0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x10c61fa00>
  File "/Library/Python/3.8/site-packages/starlette/exceptions.py", line 82, in __call__
    raise exc from None
  File "/Library/Python/3.8/site-packages/starlette/exceptions.py", line 71, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x10c704f70>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10c649730>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x10c3b3cd0>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x10c61f9a0>
  File "/Library/Python/3.8/site-packages/starlette/routing.py", line 580, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x10c704f70>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10c649730>>
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │     └ <function Route.handle at 0x10bb4daf0>
          └ <fastapi.routing.APIRoute object at 0x10c60f880>
  File "/Library/Python/3.8/site-packages/starlette/routing.py", line 241, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x10c704f70>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10c649730>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <function request_response.<locals>.app at 0x10c60bc10>
          └ <fastapi.routing.APIRoute object at 0x10c60f880>
  File "/Library/Python/3.8/site-packages/starlette/routing.py", line 52, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x10c649fa0>
                     └ <function get_request_handler.<locals>.app at 0x10c60bb80>
  File "/Library/Python/3.8/site-packages/fastapi/routing.py", line 214, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x10bb38b80>
  File "/Library/Python/3.8/site-packages/fastapi/routing.py", line 149, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'request': <starlette.requests.Request object at 0x10c649fa0>}
                 │         └ <function action at 0x10c4dc5e0>
                 └ <fastapi.dependencies.models.Dependant object at 0x10c60f970>

  File "./app/routers/conversation.py", line 10, in action
    return await controller.index(request)
                 │          │     └ <starlette.requests.Request object at 0x10c649fa0>
                 │          └ <staticmethod object at 0x10c4b77c0>
                 └ <class 'app.controllers.Conversation.Conversation'>

  File "./app/controllers/Conversation.py", line 200, in index
    resfull = agent.handle_request(handler)
              │     │              └ <function handler at 0x10c4dc430>
              │     └ <function WebhookClient.handle_request at 0x10c4cf8b0>
              └ <dialogflow_fulfillment.webhook_client.WebhookClient object at 0x10c6497f0>

  File "/Library/Python/3.8/site-packages/dialogflow_fulfillment/webhook_client.py", line 271, in handle_request
    return handler_function(self)
           │                └ <dialogflow_fulfillment.webhook_client.WebhookClient object at 0x10c6497f0>
           └ <function handler at 0x10c4dc430>

  File "./app/controllers/Conversation.py", line 139, in handler
    page = Pagination(agent)
           │          └ <dialogflow_fulfillment.webhook_client.WebhookClient object at 0x10c6497f0>
           └ <class 'app.libraries.Pagination.Pagination'>

  File "./app/libraries/Pagination.py", line 42, in __init__
    self.pages(dict(contextact)['parameters']['category'])
    │    │          └ None
    │    └ <function Pagination.pages at 0x10c4cfaf0>
    └ <app.libraries.Pagination.Pagination object at 0x10c63b220>

TypeError: 'NoneType' object is not iterable
INFO     2021-07-28 07:31:18.274 request id: app - uvicorn.protocols.http.h11_impl:send - 66.249.83.69:0 - "POST /webhook HTTP/1.1" 200
INFO     2021-07-28 07:31:21.147 request id: app - uvicorn.protocols.http.h11_impl:send - 66.249.83.90:0 - "POST /webhook HTTP/1.1" 200
INFO     2021-07-28 07:33:36.858 request id: app - uvicorn.protocols.http.h11_impl:send - 66.249.83.93:0 - "POST /webhook HTTP/1.1" 200
INFO     2021-07-28 07:34:09.840 request id: app - uvicorn.protocols.http.h11_impl:send - 66.249.83.86:0 - "POST /webhook HTTP/1.1" 200
INFO     2021-07-28 07:34:16.930 request id: app - uvicorn.protocols.http.h11_impl:send - 66.249.83.69:0 - "POST /webhook HTTP/1.1" 200
INFO     2021-07-28 07:34:28.844 request id: app - uvicorn.protocols.http.h11_impl:send - 66.249.83.72:0 - "POST /webhook HTTP/1.1" 500
ERROR    2021-07-28 07:34:28.848 request id: app - uvicorn.protocols.http.h11_impl:run_asgi - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 5
               │     └ 8
               └ <function _main at 0x10af110d0>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 5
           │    └ <function BaseProcess._bootstrap at 0x10ace4b80>
           └ <SpawnProcess name='SpawnProcess-37' parent=1291 started>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x10ace41f0>
    └ <SpawnProcess name='SpawnProcess-37' parent=1291 started>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x10af78100>, 'target': <bound method Server.run of <uvicorn.server.Server object...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-37' parent=1291 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-37' parent=1291 started>
    │    └ <function subprocess_started at 0x10b550670>
    └ <SpawnProcess name='SpawnProcess-37' parent=1291 started>
  File "/Library/Python/3.8/site-packages/uvicorn/subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=4, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 5000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x10af781f0>>
  File "/Library/Python/3.8/site-packages/uvicorn/server.py", line 50, in run
    loop.run_until_complete(self.serve(sockets=sockets))
    │    │                  │    │             └ [<socket.socket fd=4, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 5000)>]
    │    │                  │    └ <function Server.serve at 0x10b54dc10>
    │    │                  └ <uvicorn.server.Server object at 0x10af781f0>
    │    └ <function BaseEventLoop.run_until_complete at 0x10b20a790>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/asyncio/base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x10b20a700>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/asyncio/base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x10b20c280>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/asyncio/base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x10b13f160>
    └ <Handle <TaskWakeupMethWrapper object at 0x10c69c640>(<Future finished result=None>)>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/asyncio/events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x10c69c640>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x10c69c640>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x10c69c640>(<Future finished result=None>)>
> File "/Library/Python/3.8/site-packages/uvicorn/protocols/http/h11_impl.py", line 369, in run_asgi
    result = await app(self.scope, self.receive, self.send)
                   │   │    │      │    │        │    └ <function RequestResponseCycle.send at 0x10b6b8310>
                   │   │    │      │    │        └ <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10c669520>
                   │   │    │      │    └ <function RequestResponseCycle.receive at 0x10b6b83a0>
                   │   │    │      └ <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10c669520>
                   │   │    └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
                   │   └ <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10c669520>
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x10b670370>
  File "/Library/Python/3.8/site-packages/uvicorn/middleware/proxy_headers.py", line 59, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10c669520>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10c669520>>
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x10b6c1040>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x10b670370>
  File "/Library/Python/3.8/site-packages/fastapi/applications.py", line 199, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10c669520>>
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10c669520>>
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
  File "/Library/Python/3.8/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10c669520>>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10c669520>>
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x10c61fa90>
          └ <fastapi.applications.FastAPI object at 0x10b6c1040>
  File "/Library/Python/3.8/site-packages/starlette/middleware/errors.py", line 181, in __call__
    raise exc from None
  File "/Library/Python/3.8/site-packages/starlette/middleware/errors.py", line 159, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x10c72b4c0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10c669520>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x10c61fa30>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x10c61fa90>
  File "/Library/Python/3.8/site-packages/starlette/middleware/base.py", line 25, in __call__
    response = await self.dispatch_func(request, self.call_next)
                     │    │             │        │    └ <function BaseHTTPMiddleware.call_next at 0x10bb7f940>
                     │    │             │        └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x10c61fa30>
                     │    │             └ <starlette.requests.Request object at 0x10c69caf0>
                     │    └ <function add_process_time_header at 0x10c61bca0>
                     └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x10c61fa30>

  File "./app/__init__.py", line 65, in add_process_time_header
    response = await call_next(request)
                     │         └ <starlette.requests.Request object at 0x10c69caf0>
                     └ <bound method BaseHTTPMiddleware.call_next of <starlette.middleware.base.BaseHTTPMiddleware object at 0x10c61fa30>>

  File "/Library/Python/3.8/site-packages/starlette/middleware/base.py", line 45, in call_next
    task.result()
    │    └ <method 'result' of '_asyncio.Task' objects>
    └ <Task finished name='Task-222' coro=<BaseHTTPMiddleware.call_next.<locals>.coro() done, defined at /Library/Python/3.8/site-p...
  File "/Library/Python/3.8/site-packages/starlette/middleware/base.py", line 38, in coro
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method Queue.put of <Queue at 0x10c69cd00 maxsize=0 tasks=1>>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10c669520>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x10c61fa00>
          └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x10c61fa30>
  File "/Library/Python/3.8/site-packages/starlette/middleware/cors.py", line 78, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method Queue.put of <Queue at 0x10c69cd00 maxsize=0 tasks=1>>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10c669520>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x10c61f9a0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x10c61fa00>
  File "/Library/Python/3.8/site-packages/starlette/exceptions.py", line 82, in __call__
    raise exc from None
  File "/Library/Python/3.8/site-packages/starlette/exceptions.py", line 71, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x10c72b310>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10c669520>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x10c3b3cd0>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x10c61f9a0>
  File "/Library/Python/3.8/site-packages/starlette/routing.py", line 580, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x10c72b310>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10c669520>>
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │     └ <function Route.handle at 0x10bb4daf0>
          └ <fastapi.routing.APIRoute object at 0x10c60f880>
  File "/Library/Python/3.8/site-packages/starlette/routing.py", line 241, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x10c72b310>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10c669520>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <function request_response.<locals>.app at 0x10c60bc10>
          └ <fastapi.routing.APIRoute object at 0x10c60f880>
  File "/Library/Python/3.8/site-packages/starlette/routing.py", line 52, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x10c669fa0>
                     └ <function get_request_handler.<locals>.app at 0x10c60bb80>
  File "/Library/Python/3.8/site-packages/fastapi/routing.py", line 214, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x10bb38b80>
  File "/Library/Python/3.8/site-packages/fastapi/routing.py", line 149, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'request': <starlette.requests.Request object at 0x10c669fa0>}
                 │         └ <function action at 0x10c4dc5e0>
                 └ <fastapi.dependencies.models.Dependant object at 0x10c60f970>

  File "./app/routers/conversation.py", line 10, in action
    return await controller.index(request)
                 │          │     └ <starlette.requests.Request object at 0x10c669fa0>
                 │          └ <staticmethod object at 0x10c4b77c0>
                 └ <class 'app.controllers.Conversation.Conversation'>

  File "./app/controllers/Conversation.py", line 200, in index
    resfull = agent.handle_request(handler)
              │     │              └ <function handler at 0x10c4dc430>
              │     └ <function WebhookClient.handle_request at 0x10c4cf8b0>
              └ <dialogflow_fulfillment.webhook_client.WebhookClient object at 0x10c669c40>

  File "/Library/Python/3.8/site-packages/dialogflow_fulfillment/webhook_client.py", line 271, in handle_request
    return handler_function(self)
           │                └ <dialogflow_fulfillment.webhook_client.WebhookClient object at 0x10c669c40>
           └ <function handler at 0x10c4dc430>

  File "./app/controllers/Conversation.py", line 139, in handler
    page = Pagination(agent)
           │          └ <dialogflow_fulfillment.webhook_client.WebhookClient object at 0x10c669c40>
           └ <class 'app.libraries.Pagination.Pagination'>

  File "./app/libraries/Pagination.py", line 42, in __init__
    self.pages(dict(contextact)['parameters']['category'])
    │    │          └ None
    │    └ <function Pagination.pages at 0x10c4cfaf0>
    └ <app.libraries.Pagination.Pagination object at 0x10c6695b0>

TypeError: 'NoneType' object is not iterable
ERROR    2021-07-28 07:34:28.884 request id: app - uvicorn.protocols.http.h11_impl:run_asgi - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 5
               │     └ 8
               └ <function _main at 0x10af110d0>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 5
           │    └ <function BaseProcess._bootstrap at 0x10ace4b80>
           └ <SpawnProcess name='SpawnProcess-37' parent=1291 started>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x10ace41f0>
    └ <SpawnProcess name='SpawnProcess-37' parent=1291 started>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x10af78100>, 'target': <bound method Server.run of <uvicorn.server.Server object...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-37' parent=1291 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-37' parent=1291 started>
    │    └ <function subprocess_started at 0x10b550670>
    └ <SpawnProcess name='SpawnProcess-37' parent=1291 started>
  File "/Library/Python/3.8/site-packages/uvicorn/subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=4, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 5000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x10af781f0>>
  File "/Library/Python/3.8/site-packages/uvicorn/server.py", line 50, in run
    loop.run_until_complete(self.serve(sockets=sockets))
    │    │                  │    │             └ [<socket.socket fd=4, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 5000)>]
    │    │                  │    └ <function Server.serve at 0x10b54dc10>
    │    │                  └ <uvicorn.server.Server object at 0x10af781f0>
    │    └ <function BaseEventLoop.run_until_complete at 0x10b20a790>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/asyncio/base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x10b20a700>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/asyncio/base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x10b20c280>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/asyncio/base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x10b13f160>
    └ <Handle <TaskWakeupMethWrapper object at 0x10c69c640>(<Future finished result=None>)>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/asyncio/events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x10c69c640>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x10c69c640>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x10c69c640>(<Future finished result=None>)>
> File "/Library/Python/3.8/site-packages/uvicorn/protocols/http/h11_impl.py", line 369, in run_asgi
    result = await app(self.scope, self.receive, self.send)
                   │   │    │      │    │        │    └ <function RequestResponseCycle.send at 0x10b6b8310>
                   │   │    │      │    │        └ <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10c669520>
                   │   │    │      │    └ <function RequestResponseCycle.receive at 0x10b6b83a0>
                   │   │    │      └ <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10c669520>
                   │   │    └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
                   │   └ <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10c669520>
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x10b670370>
  File "/Library/Python/3.8/site-packages/uvicorn/middleware/proxy_headers.py", line 59, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10c669520>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10c669520>>
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x10b6c1040>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x10b670370>
  File "/Library/Python/3.8/site-packages/fastapi/applications.py", line 199, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10c669520>>
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10c669520>>
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
  File "/Library/Python/3.8/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10c669520>>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10c669520>>
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x10c61fa90>
          └ <fastapi.applications.FastAPI object at 0x10b6c1040>
  File "/Library/Python/3.8/site-packages/starlette/middleware/errors.py", line 181, in __call__
    raise exc from None
  File "/Library/Python/3.8/site-packages/starlette/middleware/errors.py", line 159, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x10c72b4c0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10c669520>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x10c61fa30>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x10c61fa90>
  File "/Library/Python/3.8/site-packages/starlette/middleware/base.py", line 25, in __call__
    response = await self.dispatch_func(request, self.call_next)
                     │    │             │        │    └ <function BaseHTTPMiddleware.call_next at 0x10bb7f940>
                     │    │             │        └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x10c61fa30>
                     │    │             └ <starlette.requests.Request object at 0x10c69caf0>
                     │    └ <function add_process_time_header at 0x10c61bca0>
                     └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x10c61fa30>

  File "./app/__init__.py", line 65, in add_process_time_header
    response = await call_next(request)
                     │         └ <starlette.requests.Request object at 0x10c69caf0>
                     └ <bound method BaseHTTPMiddleware.call_next of <starlette.middleware.base.BaseHTTPMiddleware object at 0x10c61fa30>>

  File "/Library/Python/3.8/site-packages/starlette/middleware/base.py", line 45, in call_next
    task.result()
    │    └ <method 'result' of '_asyncio.Task' objects>
    └ <Task finished name='Task-222' coro=<BaseHTTPMiddleware.call_next.<locals>.coro() done, defined at /Library/Python/3.8/site-p...
  File "/Library/Python/3.8/site-packages/starlette/middleware/base.py", line 38, in coro
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method Queue.put of <Queue at 0x10c69cd00 maxsize=0 tasks=1>>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10c669520>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x10c61fa00>
          └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x10c61fa30>
  File "/Library/Python/3.8/site-packages/starlette/middleware/cors.py", line 78, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method Queue.put of <Queue at 0x10c69cd00 maxsize=0 tasks=1>>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10c669520>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x10c61f9a0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x10c61fa00>
  File "/Library/Python/3.8/site-packages/starlette/exceptions.py", line 82, in __call__
    raise exc from None
  File "/Library/Python/3.8/site-packages/starlette/exceptions.py", line 71, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x10c72b310>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10c669520>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x10c3b3cd0>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x10c61f9a0>
  File "/Library/Python/3.8/site-packages/starlette/routing.py", line 580, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x10c72b310>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10c669520>>
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │     └ <function Route.handle at 0x10bb4daf0>
          └ <fastapi.routing.APIRoute object at 0x10c60f880>
  File "/Library/Python/3.8/site-packages/starlette/routing.py", line 241, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x10c72b310>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10c669520>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <function request_response.<locals>.app at 0x10c60bc10>
          └ <fastapi.routing.APIRoute object at 0x10c60f880>
  File "/Library/Python/3.8/site-packages/starlette/routing.py", line 52, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x10c669fa0>
                     └ <function get_request_handler.<locals>.app at 0x10c60bb80>
  File "/Library/Python/3.8/site-packages/fastapi/routing.py", line 214, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x10bb38b80>
  File "/Library/Python/3.8/site-packages/fastapi/routing.py", line 149, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'request': <starlette.requests.Request object at 0x10c669fa0>}
                 │         └ <function action at 0x10c4dc5e0>
                 └ <fastapi.dependencies.models.Dependant object at 0x10c60f970>

  File "./app/routers/conversation.py", line 10, in action
    return await controller.index(request)
                 │          │     └ <starlette.requests.Request object at 0x10c669fa0>
                 │          └ <staticmethod object at 0x10c4b77c0>
                 └ <class 'app.controllers.Conversation.Conversation'>

  File "./app/controllers/Conversation.py", line 200, in index
    resfull = agent.handle_request(handler)
              │     │              └ <function handler at 0x10c4dc430>
              │     └ <function WebhookClient.handle_request at 0x10c4cf8b0>
              └ <dialogflow_fulfillment.webhook_client.WebhookClient object at 0x10c669c40>

  File "/Library/Python/3.8/site-packages/dialogflow_fulfillment/webhook_client.py", line 271, in handle_request
    return handler_function(self)
           │                └ <dialogflow_fulfillment.webhook_client.WebhookClient object at 0x10c669c40>
           └ <function handler at 0x10c4dc430>

  File "./app/controllers/Conversation.py", line 139, in handler
    page = Pagination(agent)
           │          └ <dialogflow_fulfillment.webhook_client.WebhookClient object at 0x10c669c40>
           └ <class 'app.libraries.Pagination.Pagination'>

  File "./app/libraries/Pagination.py", line 42, in __init__
    self.pages(dict(contextact)['parameters']['category'])
    │    │          └ None
    │    └ <function Pagination.pages at 0x10c4cfaf0>
    └ <app.libraries.Pagination.Pagination object at 0x10c6695b0>

TypeError: 'NoneType' object is not iterable
ERROR    2021-07-28 07:34:28.906 request id: app - uvicorn.protocols.http.h11_impl:run_asgi - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 5
               │     └ 8
               └ <function _main at 0x10af110d0>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 5
           │    └ <function BaseProcess._bootstrap at 0x10ace4b80>
           └ <SpawnProcess name='SpawnProcess-37' parent=1291 started>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x10ace41f0>
    └ <SpawnProcess name='SpawnProcess-37' parent=1291 started>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x10af78100>, 'target': <bound method Server.run of <uvicorn.server.Server object...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-37' parent=1291 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-37' parent=1291 started>
    │    └ <function subprocess_started at 0x10b550670>
    └ <SpawnProcess name='SpawnProcess-37' parent=1291 started>
  File "/Library/Python/3.8/site-packages/uvicorn/subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=4, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 5000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x10af781f0>>
  File "/Library/Python/3.8/site-packages/uvicorn/server.py", line 50, in run
    loop.run_until_complete(self.serve(sockets=sockets))
    │    │                  │    │             └ [<socket.socket fd=4, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 5000)>]
    │    │                  │    └ <function Server.serve at 0x10b54dc10>
    │    │                  └ <uvicorn.server.Server object at 0x10af781f0>
    │    └ <function BaseEventLoop.run_until_complete at 0x10b20a790>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/asyncio/base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x10b20a700>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/asyncio/base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x10b20c280>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/asyncio/base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x10b13f160>
    └ <Handle <TaskWakeupMethWrapper object at 0x10c69c640>(<Future finished result=None>)>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/asyncio/events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x10c69c640>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x10c69c640>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x10c69c640>(<Future finished result=None>)>
> File "/Library/Python/3.8/site-packages/uvicorn/protocols/http/h11_impl.py", line 369, in run_asgi
    result = await app(self.scope, self.receive, self.send)
                   │   │    │      │    │        │    └ <function RequestResponseCycle.send at 0x10b6b8310>
                   │   │    │      │    │        └ <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10c669520>
                   │   │    │      │    └ <function RequestResponseCycle.receive at 0x10b6b83a0>
                   │   │    │      └ <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10c669520>
                   │   │    └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
                   │   └ <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10c669520>
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x10b670370>
  File "/Library/Python/3.8/site-packages/uvicorn/middleware/proxy_headers.py", line 59, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10c669520>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10c669520>>
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x10b6c1040>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x10b670370>
  File "/Library/Python/3.8/site-packages/fastapi/applications.py", line 199, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10c669520>>
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10c669520>>
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
  File "/Library/Python/3.8/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10c669520>>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10c669520>>
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x10c61fa90>
          └ <fastapi.applications.FastAPI object at 0x10b6c1040>
  File "/Library/Python/3.8/site-packages/starlette/middleware/errors.py", line 181, in __call__
    raise exc from None
  File "/Library/Python/3.8/site-packages/starlette/middleware/errors.py", line 159, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x10c72b4c0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10c669520>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x10c61fa30>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x10c61fa90>
  File "/Library/Python/3.8/site-packages/starlette/middleware/base.py", line 25, in __call__
    response = await self.dispatch_func(request, self.call_next)
                     │    │             │        │    └ <function BaseHTTPMiddleware.call_next at 0x10bb7f940>
                     │    │             │        └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x10c61fa30>
                     │    │             └ <starlette.requests.Request object at 0x10c69caf0>
                     │    └ <function add_process_time_header at 0x10c61bca0>
                     └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x10c61fa30>

  File "./app/__init__.py", line 65, in add_process_time_header
    response = await call_next(request)
                     │         └ <starlette.requests.Request object at 0x10c69caf0>
                     └ <bound method BaseHTTPMiddleware.call_next of <starlette.middleware.base.BaseHTTPMiddleware object at 0x10c61fa30>>

  File "/Library/Python/3.8/site-packages/starlette/middleware/base.py", line 45, in call_next
    task.result()
    │    └ <method 'result' of '_asyncio.Task' objects>
    └ <Task finished name='Task-222' coro=<BaseHTTPMiddleware.call_next.<locals>.coro() done, defined at /Library/Python/3.8/site-p...
  File "/Library/Python/3.8/site-packages/starlette/middleware/base.py", line 38, in coro
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method Queue.put of <Queue at 0x10c69cd00 maxsize=0 tasks=1>>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10c669520>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x10c61fa00>
          └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x10c61fa30>
  File "/Library/Python/3.8/site-packages/starlette/middleware/cors.py", line 78, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method Queue.put of <Queue at 0x10c69cd00 maxsize=0 tasks=1>>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10c669520>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x10c61f9a0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x10c61fa00>
  File "/Library/Python/3.8/site-packages/starlette/exceptions.py", line 82, in __call__
    raise exc from None
  File "/Library/Python/3.8/site-packages/starlette/exceptions.py", line 71, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x10c72b310>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10c669520>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x10c3b3cd0>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x10c61f9a0>
  File "/Library/Python/3.8/site-packages/starlette/routing.py", line 580, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x10c72b310>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10c669520>>
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │     └ <function Route.handle at 0x10bb4daf0>
          └ <fastapi.routing.APIRoute object at 0x10c60f880>
  File "/Library/Python/3.8/site-packages/starlette/routing.py", line 241, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x10c72b310>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10c669520>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <function request_response.<locals>.app at 0x10c60bc10>
          └ <fastapi.routing.APIRoute object at 0x10c60f880>
  File "/Library/Python/3.8/site-packages/starlette/routing.py", line 52, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x10c669fa0>
                     └ <function get_request_handler.<locals>.app at 0x10c60bb80>
  File "/Library/Python/3.8/site-packages/fastapi/routing.py", line 214, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x10bb38b80>
  File "/Library/Python/3.8/site-packages/fastapi/routing.py", line 149, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'request': <starlette.requests.Request object at 0x10c669fa0>}
                 │         └ <function action at 0x10c4dc5e0>
                 └ <fastapi.dependencies.models.Dependant object at 0x10c60f970>

  File "./app/routers/conversation.py", line 10, in action
    return await controller.index(request)
                 │          │     └ <starlette.requests.Request object at 0x10c669fa0>
                 │          └ <staticmethod object at 0x10c4b77c0>
                 └ <class 'app.controllers.Conversation.Conversation'>

  File "./app/controllers/Conversation.py", line 200, in index
    resfull = agent.handle_request(handler)
              │     │              └ <function handler at 0x10c4dc430>
              │     └ <function WebhookClient.handle_request at 0x10c4cf8b0>
              └ <dialogflow_fulfillment.webhook_client.WebhookClient object at 0x10c669c40>

  File "/Library/Python/3.8/site-packages/dialogflow_fulfillment/webhook_client.py", line 271, in handle_request
    return handler_function(self)
           │                └ <dialogflow_fulfillment.webhook_client.WebhookClient object at 0x10c669c40>
           └ <function handler at 0x10c4dc430>

  File "./app/controllers/Conversation.py", line 139, in handler
    page = Pagination(agent)
           │          └ <dialogflow_fulfillment.webhook_client.WebhookClient object at 0x10c669c40>
           └ <class 'app.libraries.Pagination.Pagination'>

  File "./app/libraries/Pagination.py", line 42, in __init__
    self.pages(dict(contextact)['parameters']['category'])
    │    │          └ None
    │    └ <function Pagination.pages at 0x10c4cfaf0>
    └ <app.libraries.Pagination.Pagination object at 0x10c6695b0>

TypeError: 'NoneType' object is not iterable
INFO     2021-07-28 07:34:45.529 request id: app - uvicorn.protocols.http.h11_impl:send - 66.249.83.70:0 - "POST /webhook HTTP/1.1" 500
ERROR    2021-07-28 07:34:45.534 request id: app - uvicorn.protocols.http.h11_impl:run_asgi - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 5
               │     └ 8
               └ <function _main at 0x10af110d0>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 5
           │    └ <function BaseProcess._bootstrap at 0x10ace4b80>
           └ <SpawnProcess name='SpawnProcess-37' parent=1291 started>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x10ace41f0>
    └ <SpawnProcess name='SpawnProcess-37' parent=1291 started>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x10af78100>, 'target': <bound method Server.run of <uvicorn.server.Server object...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-37' parent=1291 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-37' parent=1291 started>
    │    └ <function subprocess_started at 0x10b550670>
    └ <SpawnProcess name='SpawnProcess-37' parent=1291 started>
  File "/Library/Python/3.8/site-packages/uvicorn/subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=4, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 5000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x10af781f0>>
  File "/Library/Python/3.8/site-packages/uvicorn/server.py", line 50, in run
    loop.run_until_complete(self.serve(sockets=sockets))
    │    │                  │    │             └ [<socket.socket fd=4, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 5000)>]
    │    │                  │    └ <function Server.serve at 0x10b54dc10>
    │    │                  └ <uvicorn.server.Server object at 0x10af781f0>
    │    └ <function BaseEventLoop.run_until_complete at 0x10b20a790>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/asyncio/base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x10b20a700>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/asyncio/base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x10b20c280>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/asyncio/base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x10b13f160>
    └ <Handle <TaskWakeupMethWrapper object at 0x10c6ae340>(<Future finished result=None>)>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/asyncio/events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x10c6ae340>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x10c6ae340>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x10c6ae340>(<Future finished result=None>)>
> File "/Library/Python/3.8/site-packages/uvicorn/protocols/http/h11_impl.py", line 369, in run_asgi
    result = await app(self.scope, self.receive, self.send)
                   │   │    │      │    │        │    └ <function RequestResponseCycle.send at 0x10b6b8310>
                   │   │    │      │    │        └ <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10c6ae910>
                   │   │    │      │    └ <function RequestResponseCycle.receive at 0x10b6b83a0>
                   │   │    │      └ <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10c6ae910>
                   │   │    └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
                   │   └ <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10c6ae910>
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x10b670370>
  File "/Library/Python/3.8/site-packages/uvicorn/middleware/proxy_headers.py", line 59, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10c6ae910>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10c6ae910>>
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x10b6c1040>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x10b670370>
  File "/Library/Python/3.8/site-packages/fastapi/applications.py", line 199, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10c6ae910>>
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10c6ae910>>
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
  File "/Library/Python/3.8/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10c6ae910>>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10c6ae910>>
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x10c61fa90>
          └ <fastapi.applications.FastAPI object at 0x10b6c1040>
  File "/Library/Python/3.8/site-packages/starlette/middleware/errors.py", line 181, in __call__
    raise exc from None
  File "/Library/Python/3.8/site-packages/starlette/middleware/errors.py", line 159, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x10c64e5e0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10c6ae910>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x10c61fa30>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x10c61fa90>
  File "/Library/Python/3.8/site-packages/starlette/middleware/base.py", line 25, in __call__
    response = await self.dispatch_func(request, self.call_next)
                     │    │             │        │    └ <function BaseHTTPMiddleware.call_next at 0x10bb7f940>
                     │    │             │        └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x10c61fa30>
                     │    │             └ <starlette.requests.Request object at 0x10c69c8e0>
                     │    └ <function add_process_time_header at 0x10c61bca0>
                     └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x10c61fa30>

  File "./app/__init__.py", line 65, in add_process_time_header
    response = await call_next(request)
                     │         └ <starlette.requests.Request object at 0x10c69c8e0>
                     └ <bound method BaseHTTPMiddleware.call_next of <starlette.middleware.base.BaseHTTPMiddleware object at 0x10c61fa30>>

  File "/Library/Python/3.8/site-packages/starlette/middleware/base.py", line 45, in call_next
    task.result()
    │    └ <method 'result' of '_asyncio.Task' objects>
    └ <Task finished name='Task-226' coro=<BaseHTTPMiddleware.call_next.<locals>.coro() done, defined at /Library/Python/3.8/site-p...
  File "/Library/Python/3.8/site-packages/starlette/middleware/base.py", line 38, in coro
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method Queue.put of <Queue at 0x10c6ae520 maxsize=0 tasks=1>>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10c6ae910>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x10c61fa00>
          └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x10c61fa30>
  File "/Library/Python/3.8/site-packages/starlette/middleware/cors.py", line 78, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method Queue.put of <Queue at 0x10c6ae520 maxsize=0 tasks=1>>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10c6ae910>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x10c61f9a0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x10c61fa00>
  File "/Library/Python/3.8/site-packages/starlette/exceptions.py", line 82, in __call__
    raise exc from None
  File "/Library/Python/3.8/site-packages/starlette/exceptions.py", line 71, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x10c704ee0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10c6ae910>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x10c3b3cd0>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x10c61f9a0>
  File "/Library/Python/3.8/site-packages/starlette/routing.py", line 580, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x10c704ee0>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10c6ae910>>
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │     └ <function Route.handle at 0x10bb4daf0>
          └ <fastapi.routing.APIRoute object at 0x10c60f880>
  File "/Library/Python/3.8/site-packages/starlette/routing.py", line 241, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x10c704ee0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10c6ae910>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <function request_response.<locals>.app at 0x10c60bc10>
          └ <fastapi.routing.APIRoute object at 0x10c60f880>
  File "/Library/Python/3.8/site-packages/starlette/routing.py", line 52, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x10c6ae100>
                     └ <function get_request_handler.<locals>.app at 0x10c60bb80>
  File "/Library/Python/3.8/site-packages/fastapi/routing.py", line 214, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x10bb38b80>
  File "/Library/Python/3.8/site-packages/fastapi/routing.py", line 149, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'request': <starlette.requests.Request object at 0x10c6ae100>}
                 │         └ <function action at 0x10c4dc5e0>
                 └ <fastapi.dependencies.models.Dependant object at 0x10c60f970>

  File "./app/routers/conversation.py", line 10, in action
    return await controller.index(request)
                 │          │     └ <starlette.requests.Request object at 0x10c6ae100>
                 │          └ <staticmethod object at 0x10c4b77c0>
                 └ <class 'app.controllers.Conversation.Conversation'>

  File "./app/controllers/Conversation.py", line 200, in index
    resfull = agent.handle_request(handler)
              │     │              └ <function handler at 0x10c4dc430>
              │     └ <function WebhookClient.handle_request at 0x10c4cf8b0>
              └ <dialogflow_fulfillment.webhook_client.WebhookClient object at 0x10c6ae7f0>

  File "/Library/Python/3.8/site-packages/dialogflow_fulfillment/webhook_client.py", line 271, in handle_request
    return handler_function(self)
           │                └ <dialogflow_fulfillment.webhook_client.WebhookClient object at 0x10c6ae7f0>
           └ <function handler at 0x10c4dc430>

  File "./app/controllers/Conversation.py", line 139, in handler
    page = Pagination(agent)
           │          └ <dialogflow_fulfillment.webhook_client.WebhookClient object at 0x10c6ae7f0>
           └ <class 'app.libraries.Pagination.Pagination'>

  File "./app/libraries/Pagination.py", line 42, in __init__
    self.pages(dict(contextact)['parameters']['category'])
    │    │          └ None
    │    └ <function Pagination.pages at 0x10c4cfaf0>
    └ <app.libraries.Pagination.Pagination object at 0x10c6ae940>

TypeError: 'NoneType' object is not iterable
ERROR    2021-07-28 07:34:45.566 request id: app - uvicorn.protocols.http.h11_impl:run_asgi - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 5
               │     └ 8
               └ <function _main at 0x10af110d0>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 5
           │    └ <function BaseProcess._bootstrap at 0x10ace4b80>
           └ <SpawnProcess name='SpawnProcess-37' parent=1291 started>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x10ace41f0>
    └ <SpawnProcess name='SpawnProcess-37' parent=1291 started>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x10af78100>, 'target': <bound method Server.run of <uvicorn.server.Server object...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-37' parent=1291 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-37' parent=1291 started>
    │    └ <function subprocess_started at 0x10b550670>
    └ <SpawnProcess name='SpawnProcess-37' parent=1291 started>
  File "/Library/Python/3.8/site-packages/uvicorn/subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=4, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 5000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x10af781f0>>
  File "/Library/Python/3.8/site-packages/uvicorn/server.py", line 50, in run
    loop.run_until_complete(self.serve(sockets=sockets))
    │    │                  │    │             └ [<socket.socket fd=4, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 5000)>]
    │    │                  │    └ <function Server.serve at 0x10b54dc10>
    │    │                  └ <uvicorn.server.Server object at 0x10af781f0>
    │    └ <function BaseEventLoop.run_until_complete at 0x10b20a790>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/asyncio/base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x10b20a700>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/asyncio/base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x10b20c280>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/asyncio/base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x10b13f160>
    └ <Handle <TaskWakeupMethWrapper object at 0x10c6ae340>(<Future finished result=None>)>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/asyncio/events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x10c6ae340>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x10c6ae340>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x10c6ae340>(<Future finished result=None>)>
> File "/Library/Python/3.8/site-packages/uvicorn/protocols/http/h11_impl.py", line 369, in run_asgi
    result = await app(self.scope, self.receive, self.send)
                   │   │    │      │    │        │    └ <function RequestResponseCycle.send at 0x10b6b8310>
                   │   │    │      │    │        └ <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10c6ae910>
                   │   │    │      │    └ <function RequestResponseCycle.receive at 0x10b6b83a0>
                   │   │    │      └ <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10c6ae910>
                   │   │    └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
                   │   └ <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10c6ae910>
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x10b670370>
  File "/Library/Python/3.8/site-packages/uvicorn/middleware/proxy_headers.py", line 59, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10c6ae910>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10c6ae910>>
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x10b6c1040>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x10b670370>
  File "/Library/Python/3.8/site-packages/fastapi/applications.py", line 199, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10c6ae910>>
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10c6ae910>>
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
  File "/Library/Python/3.8/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10c6ae910>>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10c6ae910>>
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x10c61fa90>
          └ <fastapi.applications.FastAPI object at 0x10b6c1040>
  File "/Library/Python/3.8/site-packages/starlette/middleware/errors.py", line 181, in __call__
    raise exc from None
  File "/Library/Python/3.8/site-packages/starlette/middleware/errors.py", line 159, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x10c64e5e0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10c6ae910>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x10c61fa30>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x10c61fa90>
  File "/Library/Python/3.8/site-packages/starlette/middleware/base.py", line 25, in __call__
    response = await self.dispatch_func(request, self.call_next)
                     │    │             │        │    └ <function BaseHTTPMiddleware.call_next at 0x10bb7f940>
                     │    │             │        └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x10c61fa30>
                     │    │             └ <starlette.requests.Request object at 0x10c69c8e0>
                     │    └ <function add_process_time_header at 0x10c61bca0>
                     └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x10c61fa30>

  File "./app/__init__.py", line 65, in add_process_time_header
    response = await call_next(request)
                     │         └ <starlette.requests.Request object at 0x10c69c8e0>
                     └ <bound method BaseHTTPMiddleware.call_next of <starlette.middleware.base.BaseHTTPMiddleware object at 0x10c61fa30>>

  File "/Library/Python/3.8/site-packages/starlette/middleware/base.py", line 45, in call_next
    task.result()
    │    └ <method 'result' of '_asyncio.Task' objects>
    └ <Task finished name='Task-226' coro=<BaseHTTPMiddleware.call_next.<locals>.coro() done, defined at /Library/Python/3.8/site-p...
  File "/Library/Python/3.8/site-packages/starlette/middleware/base.py", line 38, in coro
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method Queue.put of <Queue at 0x10c6ae520 maxsize=0 tasks=1>>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10c6ae910>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x10c61fa00>
          └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x10c61fa30>
  File "/Library/Python/3.8/site-packages/starlette/middleware/cors.py", line 78, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method Queue.put of <Queue at 0x10c6ae520 maxsize=0 tasks=1>>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10c6ae910>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x10c61f9a0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x10c61fa00>
  File "/Library/Python/3.8/site-packages/starlette/exceptions.py", line 82, in __call__
    raise exc from None
  File "/Library/Python/3.8/site-packages/starlette/exceptions.py", line 71, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x10c704ee0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10c6ae910>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x10c3b3cd0>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x10c61f9a0>
  File "/Library/Python/3.8/site-packages/starlette/routing.py", line 580, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x10c704ee0>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10c6ae910>>
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │     └ <function Route.handle at 0x10bb4daf0>
          └ <fastapi.routing.APIRoute object at 0x10c60f880>
  File "/Library/Python/3.8/site-packages/starlette/routing.py", line 241, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x10c704ee0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10c6ae910>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <function request_response.<locals>.app at 0x10c60bc10>
          └ <fastapi.routing.APIRoute object at 0x10c60f880>
  File "/Library/Python/3.8/site-packages/starlette/routing.py", line 52, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x10c6ae100>
                     └ <function get_request_handler.<locals>.app at 0x10c60bb80>
  File "/Library/Python/3.8/site-packages/fastapi/routing.py", line 214, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x10bb38b80>
  File "/Library/Python/3.8/site-packages/fastapi/routing.py", line 149, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'request': <starlette.requests.Request object at 0x10c6ae100>}
                 │         └ <function action at 0x10c4dc5e0>
                 └ <fastapi.dependencies.models.Dependant object at 0x10c60f970>

  File "./app/routers/conversation.py", line 10, in action
    return await controller.index(request)
                 │          │     └ <starlette.requests.Request object at 0x10c6ae100>
                 │          └ <staticmethod object at 0x10c4b77c0>
                 └ <class 'app.controllers.Conversation.Conversation'>

  File "./app/controllers/Conversation.py", line 200, in index
    resfull = agent.handle_request(handler)
              │     │              └ <function handler at 0x10c4dc430>
              │     └ <function WebhookClient.handle_request at 0x10c4cf8b0>
              └ <dialogflow_fulfillment.webhook_client.WebhookClient object at 0x10c6ae7f0>

  File "/Library/Python/3.8/site-packages/dialogflow_fulfillment/webhook_client.py", line 271, in handle_request
    return handler_function(self)
           │                └ <dialogflow_fulfillment.webhook_client.WebhookClient object at 0x10c6ae7f0>
           └ <function handler at 0x10c4dc430>

  File "./app/controllers/Conversation.py", line 139, in handler
    page = Pagination(agent)
           │          └ <dialogflow_fulfillment.webhook_client.WebhookClient object at 0x10c6ae7f0>
           └ <class 'app.libraries.Pagination.Pagination'>

  File "./app/libraries/Pagination.py", line 42, in __init__
    self.pages(dict(contextact)['parameters']['category'])
    │    │          └ None
    │    └ <function Pagination.pages at 0x10c4cfaf0>
    └ <app.libraries.Pagination.Pagination object at 0x10c6ae940>

TypeError: 'NoneType' object is not iterable
ERROR    2021-07-28 07:34:45.585 request id: app - uvicorn.protocols.http.h11_impl:run_asgi - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 5
               │     └ 8
               └ <function _main at 0x10af110d0>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 5
           │    └ <function BaseProcess._bootstrap at 0x10ace4b80>
           └ <SpawnProcess name='SpawnProcess-37' parent=1291 started>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x10ace41f0>
    └ <SpawnProcess name='SpawnProcess-37' parent=1291 started>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x10af78100>, 'target': <bound method Server.run of <uvicorn.server.Server object...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-37' parent=1291 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-37' parent=1291 started>
    │    └ <function subprocess_started at 0x10b550670>
    └ <SpawnProcess name='SpawnProcess-37' parent=1291 started>
  File "/Library/Python/3.8/site-packages/uvicorn/subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=4, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 5000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x10af781f0>>
  File "/Library/Python/3.8/site-packages/uvicorn/server.py", line 50, in run
    loop.run_until_complete(self.serve(sockets=sockets))
    │    │                  │    │             └ [<socket.socket fd=4, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 5000)>]
    │    │                  │    └ <function Server.serve at 0x10b54dc10>
    │    │                  └ <uvicorn.server.Server object at 0x10af781f0>
    │    └ <function BaseEventLoop.run_until_complete at 0x10b20a790>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/asyncio/base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x10b20a700>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/asyncio/base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x10b20c280>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/asyncio/base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x10b13f160>
    └ <Handle <TaskWakeupMethWrapper object at 0x10c6ae340>(<Future finished result=None>)>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/asyncio/events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x10c6ae340>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x10c6ae340>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x10c6ae340>(<Future finished result=None>)>
> File "/Library/Python/3.8/site-packages/uvicorn/protocols/http/h11_impl.py", line 369, in run_asgi
    result = await app(self.scope, self.receive, self.send)
                   │   │    │      │    │        │    └ <function RequestResponseCycle.send at 0x10b6b8310>
                   │   │    │      │    │        └ <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10c6ae910>
                   │   │    │      │    └ <function RequestResponseCycle.receive at 0x10b6b83a0>
                   │   │    │      └ <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10c6ae910>
                   │   │    └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
                   │   └ <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10c6ae910>
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x10b670370>
  File "/Library/Python/3.8/site-packages/uvicorn/middleware/proxy_headers.py", line 59, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10c6ae910>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10c6ae910>>
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x10b6c1040>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x10b670370>
  File "/Library/Python/3.8/site-packages/fastapi/applications.py", line 199, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10c6ae910>>
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10c6ae910>>
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
  File "/Library/Python/3.8/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10c6ae910>>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10c6ae910>>
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x10c61fa90>
          └ <fastapi.applications.FastAPI object at 0x10b6c1040>
  File "/Library/Python/3.8/site-packages/starlette/middleware/errors.py", line 181, in __call__
    raise exc from None
  File "/Library/Python/3.8/site-packages/starlette/middleware/errors.py", line 159, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x10c64e5e0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10c6ae910>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x10c61fa30>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x10c61fa90>
  File "/Library/Python/3.8/site-packages/starlette/middleware/base.py", line 25, in __call__
    response = await self.dispatch_func(request, self.call_next)
                     │    │             │        │    └ <function BaseHTTPMiddleware.call_next at 0x10bb7f940>
                     │    │             │        └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x10c61fa30>
                     │    │             └ <starlette.requests.Request object at 0x10c69c8e0>
                     │    └ <function add_process_time_header at 0x10c61bca0>
                     └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x10c61fa30>

  File "./app/__init__.py", line 65, in add_process_time_header
    response = await call_next(request)
                     │         └ <starlette.requests.Request object at 0x10c69c8e0>
                     └ <bound method BaseHTTPMiddleware.call_next of <starlette.middleware.base.BaseHTTPMiddleware object at 0x10c61fa30>>

  File "/Library/Python/3.8/site-packages/starlette/middleware/base.py", line 45, in call_next
    task.result()
    │    └ <method 'result' of '_asyncio.Task' objects>
    └ <Task finished name='Task-226' coro=<BaseHTTPMiddleware.call_next.<locals>.coro() done, defined at /Library/Python/3.8/site-p...
  File "/Library/Python/3.8/site-packages/starlette/middleware/base.py", line 38, in coro
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method Queue.put of <Queue at 0x10c6ae520 maxsize=0 tasks=1>>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10c6ae910>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x10c61fa00>
          └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x10c61fa30>
  File "/Library/Python/3.8/site-packages/starlette/middleware/cors.py", line 78, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method Queue.put of <Queue at 0x10c6ae520 maxsize=0 tasks=1>>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10c6ae910>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x10c61f9a0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x10c61fa00>
  File "/Library/Python/3.8/site-packages/starlette/exceptions.py", line 82, in __call__
    raise exc from None
  File "/Library/Python/3.8/site-packages/starlette/exceptions.py", line 71, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x10c704ee0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10c6ae910>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x10c3b3cd0>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x10c61f9a0>
  File "/Library/Python/3.8/site-packages/starlette/routing.py", line 580, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x10c704ee0>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10c6ae910>>
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │     └ <function Route.handle at 0x10bb4daf0>
          └ <fastapi.routing.APIRoute object at 0x10c60f880>
  File "/Library/Python/3.8/site-packages/starlette/routing.py", line 241, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x10c704ee0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10c6ae910>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <function request_response.<locals>.app at 0x10c60bc10>
          └ <fastapi.routing.APIRoute object at 0x10c60f880>
  File "/Library/Python/3.8/site-packages/starlette/routing.py", line 52, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x10c6ae100>
                     └ <function get_request_handler.<locals>.app at 0x10c60bb80>
  File "/Library/Python/3.8/site-packages/fastapi/routing.py", line 214, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x10bb38b80>
  File "/Library/Python/3.8/site-packages/fastapi/routing.py", line 149, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'request': <starlette.requests.Request object at 0x10c6ae100>}
                 │         └ <function action at 0x10c4dc5e0>
                 └ <fastapi.dependencies.models.Dependant object at 0x10c60f970>

  File "./app/routers/conversation.py", line 10, in action
    return await controller.index(request)
                 │          │     └ <starlette.requests.Request object at 0x10c6ae100>
                 │          └ <staticmethod object at 0x10c4b77c0>
                 └ <class 'app.controllers.Conversation.Conversation'>

  File "./app/controllers/Conversation.py", line 200, in index
    resfull = agent.handle_request(handler)
              │     │              └ <function handler at 0x10c4dc430>
              │     └ <function WebhookClient.handle_request at 0x10c4cf8b0>
              └ <dialogflow_fulfillment.webhook_client.WebhookClient object at 0x10c6ae7f0>

  File "/Library/Python/3.8/site-packages/dialogflow_fulfillment/webhook_client.py", line 271, in handle_request
    return handler_function(self)
           │                └ <dialogflow_fulfillment.webhook_client.WebhookClient object at 0x10c6ae7f0>
           └ <function handler at 0x10c4dc430>

  File "./app/controllers/Conversation.py", line 139, in handler
    page = Pagination(agent)
           │          └ <dialogflow_fulfillment.webhook_client.WebhookClient object at 0x10c6ae7f0>
           └ <class 'app.libraries.Pagination.Pagination'>

  File "./app/libraries/Pagination.py", line 42, in __init__
    self.pages(dict(contextact)['parameters']['category'])
    │    │          └ None
    │    └ <function Pagination.pages at 0x10c4cfaf0>
    └ <app.libraries.Pagination.Pagination object at 0x10c6ae940>

TypeError: 'NoneType' object is not iterable
INFO     2021-07-28 07:34:50.233 request id: app - uvicorn.protocols.http.h11_impl:send - 66.249.83.93:0 - "POST /webhook HTTP/1.1" 200
INFO     2021-07-28 07:34:53.110 request id: app - uvicorn.protocols.http.h11_impl:send - 66.249.83.70:0 - "POST /webhook HTTP/1.1" 200
INFO     2021-07-28 07:35:51.045 request id: app - uvicorn.protocols.http.h11_impl:send - 66.249.83.71:0 - "POST /webhook HTTP/1.1" 200
INFO     2021-07-28 07:39:31.585 request id: app - uvicorn.protocols.http.h11_impl:send - 66.249.83.71:0 - "POST /webhook HTTP/1.1" 200
INFO     2021-07-28 07:39:48.345 request id: app - uvicorn.protocols.http.h11_impl:send - 66.249.83.92:0 - "POST /webhook HTTP/1.1" 200
INFO     2021-07-28 07:39:58.942 request id: app - uvicorn.protocols.http.h11_impl:send - 66.249.83.84:0 - "POST /webhook HTTP/1.1" 200
INFO     2021-07-28 07:40:08.167 request id: app - uvicorn.protocols.http.h11_impl:send - 66.249.83.92:0 - "POST /webhook HTTP/1.1" 200
INFO     2021-07-28 07:40:14.462 request id: app - uvicorn.protocols.http.h11_impl:send - 66.249.83.92:0 - "POST /webhook HTTP/1.1" 200
INFO     2021-07-28 07:40:19.144 request id: app - uvicorn.protocols.http.h11_impl:send - 66.249.83.86:0 - "POST /webhook HTTP/1.1" 200
INFO     2021-07-28 07:40:28.040 request id: app - uvicorn.protocols.http.h11_impl:send - 66.249.83.86:0 - "POST /webhook HTTP/1.1" 200
INFO     2021-07-28 07:40:35.057 request id: app - uvicorn.protocols.http.h11_impl:send - 66.249.83.86:0 - "POST /webhook HTTP/1.1" 200
INFO     2021-07-28 07:40:40.267 request id: app - uvicorn.protocols.http.h11_impl:send - 66.249.83.90:0 - "POST /webhook HTTP/1.1" 200
INFO     2021-07-28 07:40:43.171 request id: app - uvicorn.protocols.http.h11_impl:send - 66.249.83.93:0 - "POST /webhook HTTP/1.1" 200
INFO     2021-07-28 07:40:58.199 request id: app - uvicorn.protocols.http.h11_impl:send - 66.249.83.70:0 - "POST /webhook HTTP/1.1" 200
INFO     2021-07-28 07:41:02.920 request id: app - uvicorn.protocols.http.h11_impl:send - 66.249.83.67:0 - "POST /webhook HTTP/1.1" 200
INFO     2021-07-28 07:41:07.873 request id: app - uvicorn.protocols.http.h11_impl:send - 66.249.83.90:0 - "POST /webhook HTTP/1.1" 200
INFO     2021-07-28 07:41:15.624 request id: app - uvicorn.protocols.http.h11_impl:send - 66.249.83.92:0 - "POST /webhook HTTP/1.1" 200
INFO     2021-07-28 07:42:19.039 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2021-07-28 07:42:19.040 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2021-07-28 07:42:19.040 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2021-07-28 07:42:19.146 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2021-07-28 07:42:19.146 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2021-07-28 07:42:19.146 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2021-07-28 07:42:19.147 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2021-07-28 07:42:19.147 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2021-07-28 07:42:19.148 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2021-07-28 07:42:19.148 request id: app - uvicorn.server:serve - Finished server process [1998]
INFO     2021-07-28 07:42:19.148 request id: app - uvicorn.server:serve - Finished server process [1998]
INFO     2021-07-28 07:42:19.148 request id: app - uvicorn.server:serve - Finished server process [1998]
INFO     2021-07-28 07:42:20.074 request id: app - uvicorn.server:serve - Started server process [2215]
INFO     2021-07-28 07:42:20.075 request id: app - uvicorn.server:serve - Started server process [2215]
INFO     2021-07-28 07:42:20.075 request id: app - uvicorn.server:serve - Started server process [2215]
INFO     2021-07-28 07:42:20.075 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2021-07-28 07:42:20.075 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2021-07-28 07:42:20.075 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2021-07-28 07:42:20.076 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2021-07-28 07:42:20.076 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2021-07-28 07:42:20.077 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2021-07-28 07:42:38.150 request id: app - uvicorn.protocols.http.h11_impl:send - 66.249.83.69:0 - "POST /webhook HTTP/1.1" 200
INFO     2021-07-28 07:43:04.703 request id: app - uvicorn.protocols.http.h11_impl:send - 66.249.83.93:0 - "POST /webhook HTTP/1.1" 200
INFO     2021-07-28 07:43:12.771 request id: app - uvicorn.protocols.http.h11_impl:send - 66.249.83.84:0 - "POST /webhook HTTP/1.1" 200
INFO     2021-07-28 07:43:20.591 request id: app - uvicorn.protocols.http.h11_impl:send - 66.249.83.67:0 - "POST /webhook HTTP/1.1" 200
INFO     2021-07-28 07:43:25.516 request id: app - uvicorn.protocols.http.h11_impl:send - 66.249.83.91:0 - "POST /webhook HTTP/1.1" 200
INFO     2021-07-28 07:43:30.053 request id: app - uvicorn.protocols.http.h11_impl:send - 66.249.83.92:0 - "POST /webhook HTTP/1.1" 200
INFO     2021-07-28 07:43:33.091 request id: app - uvicorn.protocols.http.h11_impl:send - 66.249.83.84:0 - "POST /webhook HTTP/1.1" 200
INFO     2021-07-28 07:43:36.056 request id: app - uvicorn.protocols.http.h11_impl:send - 66.249.83.84:0 - "POST /webhook HTTP/1.1" 200
INFO     2021-07-28 07:43:40.926 request id: app - uvicorn.protocols.http.h11_impl:send - 66.249.83.90:0 - "POST /webhook HTTP/1.1" 200
INFO     2021-07-28 07:43:43.548 request id: app - uvicorn.protocols.http.h11_impl:send - 66.249.83.91:0 - "POST /webhook HTTP/1.1" 200
INFO     2021-07-28 07:43:53.709 request id: app - uvicorn.protocols.http.h11_impl:send - 66.249.83.92:0 - "POST /webhook HTTP/1.1" 200
INFO     2021-07-28 07:44:05.990 request id: app - uvicorn.protocols.http.h11_impl:send - 74.125.212.211:0 - "POST /webhook HTTP/1.1" 200
INFO     2021-07-28 07:44:09.010 request id: app - uvicorn.protocols.http.h11_impl:send - 74.125.212.214:0 - "POST /webhook HTTP/1.1" 200
INFO     2021-07-28 07:44:42.451 request id: app - uvicorn.protocols.http.h11_impl:send - 74.125.212.213:0 - "POST /webhook HTTP/1.1" 200
INFO     2021-07-28 07:44:46.766 request id: app - uvicorn.protocols.http.h11_impl:send - 74.125.212.213:0 - "POST /webhook HTTP/1.1" 200
INFO     2021-07-28 07:45:36.118 request id: app - uvicorn.protocols.http.h11_impl:send - 74.125.212.215:0 - "POST /webhook HTTP/1.1" 200
INFO     2021-07-28 07:46:03.992 request id: app - uvicorn.protocols.http.h11_impl:send - 74.125.212.213:0 - "POST /webhook HTTP/1.1" 200
INFO     2021-07-28 07:47:03.972 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2021-07-28 07:47:03.973 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2021-07-28 07:47:03.973 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2021-07-28 07:47:04.079 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2021-07-28 07:47:04.080 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2021-07-28 07:47:04.080 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2021-07-28 07:47:04.080 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2021-07-28 07:47:04.081 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2021-07-28 07:47:04.081 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2021-07-28 07:47:04.081 request id: app - uvicorn.server:serve - Finished server process [2215]
INFO     2021-07-28 07:47:04.081 request id: app - uvicorn.server:serve - Finished server process [2215]
INFO     2021-07-28 07:47:04.082 request id: app - uvicorn.server:serve - Finished server process [2215]
INFO     2021-07-28 07:47:04.858 request id: app - uvicorn.server:serve - Started server process [2248]
INFO     2021-07-28 07:47:04.859 request id: app - uvicorn.server:serve - Started server process [2248]
INFO     2021-07-28 07:47:04.859 request id: app - uvicorn.server:serve - Started server process [2248]
INFO     2021-07-28 07:47:04.859 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2021-07-28 07:47:04.859 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2021-07-28 07:47:04.859 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2021-07-28 07:47:04.860 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2021-07-28 07:47:04.860 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2021-07-28 07:47:04.861 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2021-07-28 07:47:22.010 request id: app - uvicorn.protocols.http.h11_impl:send - 74.125.212.219:0 - "POST /webhook HTTP/1.1" 200
INFO     2021-07-28 07:52:33.559 request id: app - uvicorn.protocols.http.h11_impl:send - 74.125.212.211:0 - "POST /webhook HTTP/1.1" 200
INFO     2021-07-28 07:53:15.030 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2021-07-28 07:53:15.031 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2021-07-28 07:53:15.031 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2021-07-28 07:53:15.137 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2021-07-28 07:53:15.137 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2021-07-28 07:53:15.138 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2021-07-28 07:53:15.139 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2021-07-28 07:53:15.139 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2021-07-28 07:53:15.139 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2021-07-28 07:53:15.139 request id: app - uvicorn.server:serve - Finished server process [2248]
INFO     2021-07-28 07:53:15.139 request id: app - uvicorn.server:serve - Finished server process [2248]
INFO     2021-07-28 07:53:15.140 request id: app - uvicorn.server:serve - Finished server process [2248]
INFO     2021-07-28 07:53:15.992 request id: app - uvicorn.server:serve - Started server process [2278]
INFO     2021-07-28 07:53:15.992 request id: app - uvicorn.server:serve - Started server process [2278]
INFO     2021-07-28 07:53:15.993 request id: app - uvicorn.server:serve - Started server process [2278]
INFO     2021-07-28 07:53:15.993 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2021-07-28 07:53:15.993 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2021-07-28 07:53:15.993 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2021-07-28 07:53:15.994 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2021-07-28 07:53:15.994 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2021-07-28 07:53:15.994 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2021-07-28 07:53:25.715 request id: app - uvicorn.protocols.http.h11_impl:send - 74.125.212.197:0 - "POST /webhook HTTP/1.1" 200
INFO     2021-07-28 07:53:29.022 request id: app - uvicorn.protocols.http.h11_impl:send - 74.125.212.197:0 - "POST /webhook HTTP/1.1" 200
INFO     2021-07-28 07:54:04.043 request id: app - uvicorn.protocols.http.h11_impl:send - 74.125.212.205:0 - "POST /webhook HTTP/1.1" 200
INFO     2021-07-28 07:54:15.982 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2021-07-28 07:54:15.983 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2021-07-28 07:54:15.983 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2021-07-28 07:54:16.088 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2021-07-28 07:54:16.089 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2021-07-28 07:54:16.089 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2021-07-28 07:54:16.090 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2021-07-28 07:54:16.090 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2021-07-28 07:54:16.090 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2021-07-28 07:54:16.090 request id: app - uvicorn.server:serve - Finished server process [2278]
INFO     2021-07-28 07:54:16.091 request id: app - uvicorn.server:serve - Finished server process [2278]
INFO     2021-07-28 07:54:16.091 request id: app - uvicorn.server:serve - Finished server process [2278]
INFO     2021-07-28 07:54:16.898 request id: app - uvicorn.server:serve - Started server process [2283]
INFO     2021-07-28 07:54:16.899 request id: app - uvicorn.server:serve - Started server process [2283]
INFO     2021-07-28 07:54:16.899 request id: app - uvicorn.server:serve - Started server process [2283]
INFO     2021-07-28 07:54:16.899 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2021-07-28 07:54:16.899 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2021-07-28 07:54:16.899 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2021-07-28 07:54:16.900 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2021-07-28 07:54:16.900 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2021-07-28 07:54:16.901 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2021-07-28 08:58:32.540 request id: app - uvicorn.protocols.http.h11_impl:send - 74.125.212.239:0 - "POST /webhook HTTP/1.1" 200
INFO     2021-07-28 08:58:42.211 request id: app - uvicorn.protocols.http.h11_impl:send - 74.125.212.231:0 - "POST /webhook HTTP/1.1" 200
INFO     2021-07-28 08:58:51.230 request id: app - uvicorn.protocols.http.h11_impl:send - 74.125.212.227:0 - "POST /webhook HTTP/1.1" 200
INFO     2021-07-28 08:59:47.192 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2021-07-28 08:59:47.193 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2021-07-28 08:59:47.194 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2021-07-28 08:59:47.298 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2021-07-28 08:59:47.299 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2021-07-28 08:59:47.300 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2021-07-28 08:59:47.302 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2021-07-28 08:59:47.302 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2021-07-28 08:59:47.303 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2021-07-28 08:59:47.303 request id: app - uvicorn.server:serve - Finished server process [2283]
INFO     2021-07-28 08:59:47.304 request id: app - uvicorn.server:serve - Finished server process [2283]
INFO     2021-07-28 08:59:47.304 request id: app - uvicorn.server:serve - Finished server process [2283]
INFO     2021-07-28 08:59:48.173 request id: app - uvicorn.server:serve - Started server process [2698]
INFO     2021-07-28 08:59:48.173 request id: app - uvicorn.server:serve - Started server process [2698]
INFO     2021-07-28 08:59:48.174 request id: app - uvicorn.server:serve - Started server process [2698]
INFO     2021-07-28 08:59:48.174 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2021-07-28 08:59:48.174 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2021-07-28 08:59:48.174 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2021-07-28 08:59:48.176 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2021-07-28 08:59:48.176 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2021-07-28 08:59:48.176 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2021-07-28 09:00:09.000 request id: app - uvicorn.protocols.http.h11_impl:send - 74.125.212.228:0 - "POST /webhook HTTP/1.1" 200
INFO     2021-07-28 09:00:49.608 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2021-07-28 09:00:49.609 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2021-07-28 09:00:49.609 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2021-07-28 09:00:49.715 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2021-07-28 09:00:49.715 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2021-07-28 09:00:49.715 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2021-07-28 09:00:49.716 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2021-07-28 09:00:49.717 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2021-07-28 09:00:49.717 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2021-07-28 09:00:49.717 request id: app - uvicorn.server:serve - Finished server process [2698]
INFO     2021-07-28 09:00:49.717 request id: app - uvicorn.server:serve - Finished server process [2698]
INFO     2021-07-28 09:00:49.718 request id: app - uvicorn.server:serve - Finished server process [2698]
INFO     2021-07-28 09:00:50.614 request id: app - uvicorn.server:serve - Started server process [2711]
INFO     2021-07-28 09:00:50.614 request id: app - uvicorn.server:serve - Started server process [2711]
INFO     2021-07-28 09:00:50.615 request id: app - uvicorn.server:serve - Started server process [2711]
INFO     2021-07-28 09:00:50.615 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2021-07-28 09:00:50.615 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2021-07-28 09:00:50.615 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2021-07-28 09:00:50.616 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2021-07-28 09:00:50.616 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2021-07-28 09:00:50.616 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2021-07-28 09:01:11.022 request id: app - uvicorn.protocols.http.h11_impl:send - 74.125.212.249:0 - "POST /webhook HTTP/1.1" 200
INFO     2021-07-28 09:01:24.929 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2021-07-28 09:01:24.930 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2021-07-28 09:01:24.930 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2021-07-28 09:01:25.035 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2021-07-28 09:01:25.036 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2021-07-28 09:01:25.036 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2021-07-28 09:01:25.038 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2021-07-28 09:01:25.038 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2021-07-28 09:01:25.038 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2021-07-28 09:01:25.039 request id: app - uvicorn.server:serve - Finished server process [2711]
INFO     2021-07-28 09:01:25.039 request id: app - uvicorn.server:serve - Finished server process [2711]
INFO     2021-07-28 09:01:25.039 request id: app - uvicorn.server:serve - Finished server process [2711]
INFO     2021-07-28 09:01:25.807 request id: app - uvicorn.server:serve - Started server process [2718]
INFO     2021-07-28 09:01:25.807 request id: app - uvicorn.server:serve - Started server process [2718]
INFO     2021-07-28 09:01:25.808 request id: app - uvicorn.server:serve - Started server process [2718]
INFO     2021-07-28 09:01:25.808 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2021-07-28 09:01:25.808 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2021-07-28 09:01:25.808 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2021-07-28 09:01:25.809 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2021-07-28 09:01:25.809 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2021-07-28 09:01:25.810 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2021-07-28 09:02:27.096 request id: app - uvicorn.protocols.http.h11_impl:send - 74.125.212.249:0 - "POST /webhook HTTP/1.1" 200
INFO     2021-07-28 09:03:56.213 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2021-07-28 09:03:56.217 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2021-07-28 09:03:56.217 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2021-07-28 09:03:56.323 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2021-07-28 09:03:56.323 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2021-07-28 09:03:56.323 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2021-07-28 09:03:56.325 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2021-07-28 09:03:56.325 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2021-07-28 09:03:56.326 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2021-07-28 09:03:56.326 request id: app - uvicorn.server:serve - Finished server process [2718]
INFO     2021-07-28 09:03:56.326 request id: app - uvicorn.server:serve - Finished server process [2718]
INFO     2021-07-28 09:03:56.327 request id: app - uvicorn.server:serve - Finished server process [2718]
INFO     2021-07-28 09:03:57.076 request id: app - uvicorn.server:serve - Started server process [2725]
INFO     2021-07-28 09:03:57.077 request id: app - uvicorn.server:serve - Started server process [2725]
INFO     2021-07-28 09:03:57.077 request id: app - uvicorn.server:serve - Started server process [2725]
INFO     2021-07-28 09:03:57.077 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2021-07-28 09:03:57.077 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2021-07-28 09:03:57.077 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2021-07-28 09:03:57.079 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2021-07-28 09:03:57.079 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2021-07-28 09:03:57.079 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2021-07-28 09:04:25.474 request id: app - uvicorn.protocols.http.h11_impl:send - 74.125.212.233:0 - "POST /webhook HTTP/1.1" 200
INFO     2021-07-28 09:04:36.840 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2021-07-28 09:04:36.841 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2021-07-28 09:04:36.842 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2021-07-28 09:04:36.947 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2021-07-28 09:04:36.947 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2021-07-28 09:04:36.948 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2021-07-28 09:04:36.949 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2021-07-28 09:04:36.949 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2021-07-28 09:04:36.949 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2021-07-28 09:04:36.950 request id: app - uvicorn.server:serve - Finished server process [2725]
INFO     2021-07-28 09:04:36.950 request id: app - uvicorn.server:serve - Finished server process [2725]
INFO     2021-07-28 09:04:36.950 request id: app - uvicorn.server:serve - Finished server process [2725]
INFO     2021-07-28 09:04:37.851 request id: app - uvicorn.server:serve - Started server process [2733]
INFO     2021-07-28 09:04:37.851 request id: app - uvicorn.server:serve - Started server process [2733]
INFO     2021-07-28 09:04:37.852 request id: app - uvicorn.server:serve - Started server process [2733]
INFO     2021-07-28 09:04:37.852 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2021-07-28 09:04:37.852 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2021-07-28 09:04:37.852 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2021-07-28 09:04:37.853 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2021-07-28 09:04:37.853 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2021-07-28 09:04:37.854 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2021-07-28 09:05:03.316 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2021-07-28 09:05:03.318 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2021-07-28 09:05:03.318 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2021-07-28 09:05:03.424 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2021-07-28 09:05:03.424 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2021-07-28 09:05:03.425 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2021-07-28 09:05:03.426 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2021-07-28 09:05:03.426 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2021-07-28 09:05:03.427 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2021-07-28 09:05:03.427 request id: app - uvicorn.server:serve - Finished server process [2733]
INFO     2021-07-28 09:05:03.427 request id: app - uvicorn.server:serve - Finished server process [2733]
INFO     2021-07-28 09:05:03.428 request id: app - uvicorn.server:serve - Finished server process [2733]
INFO     2021-07-28 09:05:03.963 request id: app - uvicorn.server:serve - Started server process [2741]
INFO     2021-07-28 09:05:03.963 request id: app - uvicorn.server:serve - Started server process [2741]
INFO     2021-07-28 09:05:03.963 request id: app - uvicorn.server:serve - Started server process [2741]
INFO     2021-07-28 09:05:03.964 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2021-07-28 09:05:03.964 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2021-07-28 09:05:03.964 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2021-07-28 09:05:03.965 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2021-07-28 09:05:03.966 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2021-07-28 09:05:03.966 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2021-07-28 09:05:34.681 request id: app - uvicorn.protocols.http.h11_impl:send - 74.125.212.239:0 - "POST /webhook HTTP/1.1" 200
INFO     2021-07-28 09:06:50.835 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2021-07-28 09:06:50.836 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2021-07-28 09:06:50.836 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2021-07-28 09:06:50.942 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2021-07-28 09:06:50.945 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2021-07-28 09:06:50.945 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2021-07-28 09:06:50.946 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2021-07-28 09:06:50.946 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2021-07-28 09:06:50.947 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2021-07-28 09:06:50.947 request id: app - uvicorn.server:serve - Finished server process [2741]
INFO     2021-07-28 09:06:50.947 request id: app - uvicorn.server:serve - Finished server process [2741]
INFO     2021-07-28 09:06:50.947 request id: app - uvicorn.server:serve - Finished server process [2741]
INFO     2021-07-28 09:06:51.742 request id: app - uvicorn.server:serve - Started server process [2751]
INFO     2021-07-28 09:06:51.742 request id: app - uvicorn.server:serve - Started server process [2751]
INFO     2021-07-28 09:06:51.742 request id: app - uvicorn.server:serve - Started server process [2751]
INFO     2021-07-28 09:06:51.743 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2021-07-28 09:06:51.743 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2021-07-28 09:06:51.743 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2021-07-28 09:06:51.744 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2021-07-28 09:06:51.744 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2021-07-28 09:06:51.744 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2021-07-28 09:07:10.747 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2021-07-28 09:07:10.748 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2021-07-28 09:07:10.748 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2021-07-28 09:07:10.854 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2021-07-28 09:07:10.855 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2021-07-28 09:07:10.855 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2021-07-28 09:07:10.856 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2021-07-28 09:07:10.857 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2021-07-28 09:07:10.857 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2021-07-28 09:07:10.857 request id: app - uvicorn.server:serve - Finished server process [2751]
INFO     2021-07-28 09:07:10.857 request id: app - uvicorn.server:serve - Finished server process [2751]
INFO     2021-07-28 09:07:10.858 request id: app - uvicorn.server:serve - Finished server process [2751]
INFO     2021-07-28 09:07:11.798 request id: app - uvicorn.server:serve - Started server process [2759]
INFO     2021-07-28 09:07:11.798 request id: app - uvicorn.server:serve - Started server process [2759]
INFO     2021-07-28 09:07:11.799 request id: app - uvicorn.server:serve - Started server process [2759]
INFO     2021-07-28 09:07:11.799 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2021-07-28 09:07:11.799 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2021-07-28 09:07:11.799 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2021-07-28 09:07:11.800 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2021-07-28 09:07:11.800 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2021-07-28 09:07:11.800 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2021-07-28 09:07:27.357 request id: app - uvicorn.protocols.http.h11_impl:send - 74.125.212.247:0 - "POST /webhook HTTP/1.1" 500
ERROR    2021-07-28 09:07:27.361 request id: app - uvicorn.protocols.http.h11_impl:run_asgi - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 5
               │     └ 8
               └ <function _main at 0x109bec0d0>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 5
           │    └ <function BaseProcess._bootstrap at 0x1099bfb80>
           └ <SpawnProcess name='SpawnProcess-49' parent=1291 started>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x1099bf1f0>
    └ <SpawnProcess name='SpawnProcess-49' parent=1291 started>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x109c53100>, 'target': <bound method Server.run of <uvicorn.server.Server object...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-49' parent=1291 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-49' parent=1291 started>
    │    └ <function subprocess_started at 0x10a22c670>
    └ <SpawnProcess name='SpawnProcess-49' parent=1291 started>
  File "/Library/Python/3.8/site-packages/uvicorn/subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=4, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 5000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x109c531f0>>
  File "/Library/Python/3.8/site-packages/uvicorn/server.py", line 50, in run
    loop.run_until_complete(self.serve(sockets=sockets))
    │    │                  │    │             └ [<socket.socket fd=4, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 5000)>]
    │    │                  │    └ <function Server.serve at 0x10a228c10>
    │    │                  └ <uvicorn.server.Server object at 0x109c531f0>
    │    └ <function BaseEventLoop.run_until_complete at 0x109ee5790>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/asyncio/base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x109ee5700>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/asyncio/base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x109ee7280>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/asyncio/base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x109e1a160>
    └ <Handle <TaskWakeupMethWrapper object at 0x10b30abb0>(<Future finished result=None>)>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/asyncio/events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x10b30abb0>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x10b30abb0>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x10b30abb0>(<Future finished result=None>)>
> File "/Library/Python/3.8/site-packages/uvicorn/protocols/http/h11_impl.py", line 369, in run_asgi
    result = await app(self.scope, self.receive, self.send)
                   │   │    │      │    │        │    └ <function RequestResponseCycle.send at 0x10a37e310>
                   │   │    │      │    │        └ <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10b30ae20>
                   │   │    │      │    └ <function RequestResponseCycle.receive at 0x10a37e3a0>
                   │   │    │      └ <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10b30ae20>
                   │   │    └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
                   │   └ <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10b30ae20>
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x10a34b370>
  File "/Library/Python/3.8/site-packages/uvicorn/middleware/proxy_headers.py", line 59, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10b30ae20>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10b30ae20>>
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x10a39e040>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x10a34b370>
  File "/Library/Python/3.8/site-packages/fastapi/applications.py", line 199, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10b30ae20>>
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10b30ae20>>
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
  File "/Library/Python/3.8/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10b30ae20>>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10b30ae20>>
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x10b2eea90>
          └ <fastapi.applications.FastAPI object at 0x10a39e040>
  File "/Library/Python/3.8/site-packages/starlette/middleware/errors.py", line 181, in __call__
    raise exc from None
  File "/Library/Python/3.8/site-packages/starlette/middleware/errors.py", line 159, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x10b2eaee0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10b30ae20>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x10b2eea30>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x10b2eea90>
  File "/Library/Python/3.8/site-packages/starlette/middleware/base.py", line 25, in __call__
    response = await self.dispatch_func(request, self.call_next)
                     │    │             │        │    └ <function BaseHTTPMiddleware.call_next at 0x10a85a940>
                     │    │             │        └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x10b2eea30>
                     │    │             └ <starlette.requests.Request object at 0x10b30aeb0>
                     │    └ <function add_process_time_header at 0x10b2eaca0>
                     └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x10b2eea30>

  File "./app/__init__.py", line 65, in add_process_time_header
    response = await call_next(request)
                     │         └ <starlette.requests.Request object at 0x10b30aeb0>
                     └ <bound method BaseHTTPMiddleware.call_next of <starlette.middleware.base.BaseHTTPMiddleware object at 0x10b2eea30>>

  File "/Library/Python/3.8/site-packages/starlette/middleware/base.py", line 45, in call_next
    task.result()
    │    └ <method 'result' of '_asyncio.Task' objects>
    └ <Task finished name='Task-6' coro=<BaseHTTPMiddleware.call_next.<locals>.coro() done, defined at /Library/Python/3.8/site-pac...
  File "/Library/Python/3.8/site-packages/starlette/middleware/base.py", line 38, in coro
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method Queue.put of <Queue at 0x10b30ab50 maxsize=0 tasks=1>>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10b30ae20>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x10b2eea00>
          └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x10b2eea30>
  File "/Library/Python/3.8/site-packages/starlette/middleware/cors.py", line 78, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method Queue.put of <Queue at 0x10b30ab50 maxsize=0 tasks=1>>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10b30ae20>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x10b2ee9a0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x10b2eea00>
  File "/Library/Python/3.8/site-packages/starlette/exceptions.py", line 82, in __call__
    raise exc from None
  File "/Library/Python/3.8/site-packages/starlette/exceptions.py", line 71, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x10b31c040>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10b30ae20>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x10b08ecd0>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x10b2ee9a0>
  File "/Library/Python/3.8/site-packages/starlette/routing.py", line 580, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x10b31c040>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10b30ae20>>
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │     └ <function Route.handle at 0x10a827af0>
          └ <fastapi.routing.APIRoute object at 0x10b2e1880>
  File "/Library/Python/3.8/site-packages/starlette/routing.py", line 241, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x10b31c040>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10b30ae20>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <function request_response.<locals>.app at 0x10b2dac10>
          └ <fastapi.routing.APIRoute object at 0x10b2e1880>
  File "/Library/Python/3.8/site-packages/starlette/routing.py", line 52, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x10b30a9d0>
                     └ <function get_request_handler.<locals>.app at 0x10b2dab80>
  File "/Library/Python/3.8/site-packages/fastapi/routing.py", line 214, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x10a813b80>
  File "/Library/Python/3.8/site-packages/fastapi/routing.py", line 149, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'request': <starlette.requests.Request object at 0x10b30a9d0>}
                 │         └ <function action at 0x10b1785e0>
                 └ <fastapi.dependencies.models.Dependant object at 0x10b2e1970>

  File "./app/routers/conversation.py", line 10, in action
    return await controller.index(request)
                 │          │     └ <starlette.requests.Request object at 0x10b30a9d0>
                 │          └ <staticmethod object at 0x10b1517c0>
                 └ <class 'app.controllers.Conversation.Conversation'>

  File "./app/controllers/Conversation.py", line 197, in index
    if login.verifiyAccess['status']:

NameError: name 'login' is not defined
ERROR    2021-07-28 09:07:27.419 request id: app - uvicorn.protocols.http.h11_impl:run_asgi - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 5
               │     └ 8
               └ <function _main at 0x109bec0d0>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 5
           │    └ <function BaseProcess._bootstrap at 0x1099bfb80>
           └ <SpawnProcess name='SpawnProcess-49' parent=1291 started>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x1099bf1f0>
    └ <SpawnProcess name='SpawnProcess-49' parent=1291 started>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x109c53100>, 'target': <bound method Server.run of <uvicorn.server.Server object...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-49' parent=1291 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-49' parent=1291 started>
    │    └ <function subprocess_started at 0x10a22c670>
    └ <SpawnProcess name='SpawnProcess-49' parent=1291 started>
  File "/Library/Python/3.8/site-packages/uvicorn/subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=4, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 5000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x109c531f0>>
  File "/Library/Python/3.8/site-packages/uvicorn/server.py", line 50, in run
    loop.run_until_complete(self.serve(sockets=sockets))
    │    │                  │    │             └ [<socket.socket fd=4, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 5000)>]
    │    │                  │    └ <function Server.serve at 0x10a228c10>
    │    │                  └ <uvicorn.server.Server object at 0x109c531f0>
    │    └ <function BaseEventLoop.run_until_complete at 0x109ee5790>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/asyncio/base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x109ee5700>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/asyncio/base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x109ee7280>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/asyncio/base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x109e1a160>
    └ <Handle <TaskWakeupMethWrapper object at 0x10b30abb0>(<Future finished result=None>)>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/asyncio/events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x10b30abb0>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x10b30abb0>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x10b30abb0>(<Future finished result=None>)>
> File "/Library/Python/3.8/site-packages/uvicorn/protocols/http/h11_impl.py", line 369, in run_asgi
    result = await app(self.scope, self.receive, self.send)
                   │   │    │      │    │        │    └ <function RequestResponseCycle.send at 0x10a37e310>
                   │   │    │      │    │        └ <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10b30ae20>
                   │   │    │      │    └ <function RequestResponseCycle.receive at 0x10a37e3a0>
                   │   │    │      └ <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10b30ae20>
                   │   │    └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
                   │   └ <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10b30ae20>
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x10a34b370>
  File "/Library/Python/3.8/site-packages/uvicorn/middleware/proxy_headers.py", line 59, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10b30ae20>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10b30ae20>>
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x10a39e040>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x10a34b370>
  File "/Library/Python/3.8/site-packages/fastapi/applications.py", line 199, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10b30ae20>>
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10b30ae20>>
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
  File "/Library/Python/3.8/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10b30ae20>>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10b30ae20>>
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x10b2eea90>
          └ <fastapi.applications.FastAPI object at 0x10a39e040>
  File "/Library/Python/3.8/site-packages/starlette/middleware/errors.py", line 181, in __call__
    raise exc from None
  File "/Library/Python/3.8/site-packages/starlette/middleware/errors.py", line 159, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x10b2eaee0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10b30ae20>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x10b2eea30>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x10b2eea90>
  File "/Library/Python/3.8/site-packages/starlette/middleware/base.py", line 25, in __call__
    response = await self.dispatch_func(request, self.call_next)
                     │    │             │        │    └ <function BaseHTTPMiddleware.call_next at 0x10a85a940>
                     │    │             │        └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x10b2eea30>
                     │    │             └ <starlette.requests.Request object at 0x10b30aeb0>
                     │    └ <function add_process_time_header at 0x10b2eaca0>
                     └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x10b2eea30>

  File "./app/__init__.py", line 65, in add_process_time_header
    response = await call_next(request)
                     │         └ <starlette.requests.Request object at 0x10b30aeb0>
                     └ <bound method BaseHTTPMiddleware.call_next of <starlette.middleware.base.BaseHTTPMiddleware object at 0x10b2eea30>>

  File "/Library/Python/3.8/site-packages/starlette/middleware/base.py", line 45, in call_next
    task.result()
    │    └ <method 'result' of '_asyncio.Task' objects>
    └ <Task finished name='Task-6' coro=<BaseHTTPMiddleware.call_next.<locals>.coro() done, defined at /Library/Python/3.8/site-pac...
  File "/Library/Python/3.8/site-packages/starlette/middleware/base.py", line 38, in coro
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method Queue.put of <Queue at 0x10b30ab50 maxsize=0 tasks=1>>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10b30ae20>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x10b2eea00>
          └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x10b2eea30>
  File "/Library/Python/3.8/site-packages/starlette/middleware/cors.py", line 78, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method Queue.put of <Queue at 0x10b30ab50 maxsize=0 tasks=1>>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10b30ae20>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x10b2ee9a0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x10b2eea00>
  File "/Library/Python/3.8/site-packages/starlette/exceptions.py", line 82, in __call__
    raise exc from None
  File "/Library/Python/3.8/site-packages/starlette/exceptions.py", line 71, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x10b31c040>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10b30ae20>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x10b08ecd0>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x10b2ee9a0>
  File "/Library/Python/3.8/site-packages/starlette/routing.py", line 580, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x10b31c040>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10b30ae20>>
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │     └ <function Route.handle at 0x10a827af0>
          └ <fastapi.routing.APIRoute object at 0x10b2e1880>
  File "/Library/Python/3.8/site-packages/starlette/routing.py", line 241, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x10b31c040>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10b30ae20>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <function request_response.<locals>.app at 0x10b2dac10>
          └ <fastapi.routing.APIRoute object at 0x10b2e1880>
  File "/Library/Python/3.8/site-packages/starlette/routing.py", line 52, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x10b30a9d0>
                     └ <function get_request_handler.<locals>.app at 0x10b2dab80>
  File "/Library/Python/3.8/site-packages/fastapi/routing.py", line 214, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x10a813b80>
  File "/Library/Python/3.8/site-packages/fastapi/routing.py", line 149, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'request': <starlette.requests.Request object at 0x10b30a9d0>}
                 │         └ <function action at 0x10b1785e0>
                 └ <fastapi.dependencies.models.Dependant object at 0x10b2e1970>

  File "./app/routers/conversation.py", line 10, in action
    return await controller.index(request)
                 │          │     └ <starlette.requests.Request object at 0x10b30a9d0>
                 │          └ <staticmethod object at 0x10b1517c0>
                 └ <class 'app.controllers.Conversation.Conversation'>

  File "./app/controllers/Conversation.py", line 197, in index
    if login.verifiyAccess['status']:

NameError: name 'login' is not defined
ERROR    2021-07-28 09:07:27.432 request id: app - uvicorn.protocols.http.h11_impl:run_asgi - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 5
               │     └ 8
               └ <function _main at 0x109bec0d0>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 5
           │    └ <function BaseProcess._bootstrap at 0x1099bfb80>
           └ <SpawnProcess name='SpawnProcess-49' parent=1291 started>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x1099bf1f0>
    └ <SpawnProcess name='SpawnProcess-49' parent=1291 started>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x109c53100>, 'target': <bound method Server.run of <uvicorn.server.Server object...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-49' parent=1291 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-49' parent=1291 started>
    │    └ <function subprocess_started at 0x10a22c670>
    └ <SpawnProcess name='SpawnProcess-49' parent=1291 started>
  File "/Library/Python/3.8/site-packages/uvicorn/subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=4, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 5000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x109c531f0>>
  File "/Library/Python/3.8/site-packages/uvicorn/server.py", line 50, in run
    loop.run_until_complete(self.serve(sockets=sockets))
    │    │                  │    │             └ [<socket.socket fd=4, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 5000)>]
    │    │                  │    └ <function Server.serve at 0x10a228c10>
    │    │                  └ <uvicorn.server.Server object at 0x109c531f0>
    │    └ <function BaseEventLoop.run_until_complete at 0x109ee5790>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/asyncio/base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x109ee5700>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/asyncio/base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x109ee7280>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/asyncio/base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x109e1a160>
    └ <Handle <TaskWakeupMethWrapper object at 0x10b30abb0>(<Future finished result=None>)>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/asyncio/events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x10b30abb0>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x10b30abb0>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x10b30abb0>(<Future finished result=None>)>
> File "/Library/Python/3.8/site-packages/uvicorn/protocols/http/h11_impl.py", line 369, in run_asgi
    result = await app(self.scope, self.receive, self.send)
                   │   │    │      │    │        │    └ <function RequestResponseCycle.send at 0x10a37e310>
                   │   │    │      │    │        └ <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10b30ae20>
                   │   │    │      │    └ <function RequestResponseCycle.receive at 0x10a37e3a0>
                   │   │    │      └ <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10b30ae20>
                   │   │    └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
                   │   └ <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10b30ae20>
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x10a34b370>
  File "/Library/Python/3.8/site-packages/uvicorn/middleware/proxy_headers.py", line 59, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10b30ae20>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10b30ae20>>
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x10a39e040>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x10a34b370>
  File "/Library/Python/3.8/site-packages/fastapi/applications.py", line 199, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10b30ae20>>
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10b30ae20>>
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
  File "/Library/Python/3.8/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10b30ae20>>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10b30ae20>>
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x10b2eea90>
          └ <fastapi.applications.FastAPI object at 0x10a39e040>
  File "/Library/Python/3.8/site-packages/starlette/middleware/errors.py", line 181, in __call__
    raise exc from None
  File "/Library/Python/3.8/site-packages/starlette/middleware/errors.py", line 159, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x10b2eaee0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10b30ae20>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x10b2eea30>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x10b2eea90>
  File "/Library/Python/3.8/site-packages/starlette/middleware/base.py", line 25, in __call__
    response = await self.dispatch_func(request, self.call_next)
                     │    │             │        │    └ <function BaseHTTPMiddleware.call_next at 0x10a85a940>
                     │    │             │        └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x10b2eea30>
                     │    │             └ <starlette.requests.Request object at 0x10b30aeb0>
                     │    └ <function add_process_time_header at 0x10b2eaca0>
                     └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x10b2eea30>

  File "./app/__init__.py", line 65, in add_process_time_header
    response = await call_next(request)
                     │         └ <starlette.requests.Request object at 0x10b30aeb0>
                     └ <bound method BaseHTTPMiddleware.call_next of <starlette.middleware.base.BaseHTTPMiddleware object at 0x10b2eea30>>

  File "/Library/Python/3.8/site-packages/starlette/middleware/base.py", line 45, in call_next
    task.result()
    │    └ <method 'result' of '_asyncio.Task' objects>
    └ <Task finished name='Task-6' coro=<BaseHTTPMiddleware.call_next.<locals>.coro() done, defined at /Library/Python/3.8/site-pac...
  File "/Library/Python/3.8/site-packages/starlette/middleware/base.py", line 38, in coro
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method Queue.put of <Queue at 0x10b30ab50 maxsize=0 tasks=1>>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10b30ae20>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x10b2eea00>
          └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x10b2eea30>
  File "/Library/Python/3.8/site-packages/starlette/middleware/cors.py", line 78, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method Queue.put of <Queue at 0x10b30ab50 maxsize=0 tasks=1>>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10b30ae20>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x10b2ee9a0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x10b2eea00>
  File "/Library/Python/3.8/site-packages/starlette/exceptions.py", line 82, in __call__
    raise exc from None
  File "/Library/Python/3.8/site-packages/starlette/exceptions.py", line 71, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x10b31c040>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10b30ae20>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x10b08ecd0>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x10b2ee9a0>
  File "/Library/Python/3.8/site-packages/starlette/routing.py", line 580, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x10b31c040>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10b30ae20>>
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │     └ <function Route.handle at 0x10a827af0>
          └ <fastapi.routing.APIRoute object at 0x10b2e1880>
  File "/Library/Python/3.8/site-packages/starlette/routing.py", line 241, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x10b31c040>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10b30ae20>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <function request_response.<locals>.app at 0x10b2dac10>
          └ <fastapi.routing.APIRoute object at 0x10b2e1880>
  File "/Library/Python/3.8/site-packages/starlette/routing.py", line 52, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x10b30a9d0>
                     └ <function get_request_handler.<locals>.app at 0x10b2dab80>
  File "/Library/Python/3.8/site-packages/fastapi/routing.py", line 214, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x10a813b80>
  File "/Library/Python/3.8/site-packages/fastapi/routing.py", line 149, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'request': <starlette.requests.Request object at 0x10b30a9d0>}
                 │         └ <function action at 0x10b1785e0>
                 └ <fastapi.dependencies.models.Dependant object at 0x10b2e1970>

  File "./app/routers/conversation.py", line 10, in action
    return await controller.index(request)
                 │          │     └ <starlette.requests.Request object at 0x10b30a9d0>
                 │          └ <staticmethod object at 0x10b1517c0>
                 └ <class 'app.controllers.Conversation.Conversation'>

  File "./app/controllers/Conversation.py", line 197, in index
    if login.verifiyAccess['status']:

NameError: name 'login' is not defined
INFO     2021-07-28 09:07:44.781 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2021-07-28 09:07:44.782 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2021-07-28 09:07:44.782 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2021-07-28 09:07:44.888 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2021-07-28 09:07:44.888 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2021-07-28 09:07:44.888 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2021-07-28 09:07:44.889 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2021-07-28 09:07:44.889 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2021-07-28 09:07:44.890 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2021-07-28 09:07:44.890 request id: app - uvicorn.server:serve - Finished server process [2759]
INFO     2021-07-28 09:07:44.890 request id: app - uvicorn.server:serve - Finished server process [2759]
INFO     2021-07-28 09:07:44.890 request id: app - uvicorn.server:serve - Finished server process [2759]
INFO     2021-07-28 09:07:45.557 request id: app - uvicorn.server:serve - Started server process [2763]
INFO     2021-07-28 09:07:45.557 request id: app - uvicorn.server:serve - Started server process [2763]
INFO     2021-07-28 09:07:45.557 request id: app - uvicorn.server:serve - Started server process [2763]
INFO     2021-07-28 09:07:45.558 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2021-07-28 09:07:45.558 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2021-07-28 09:07:45.558 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2021-07-28 09:07:45.558 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2021-07-28 09:07:45.559 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2021-07-28 09:07:45.559 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2021-07-28 09:07:49.893 request id: app - uvicorn.protocols.http.h11_impl:send - 74.125.212.249:0 - "POST /webhook HTTP/1.1" 200
INFO     2021-07-28 09:08:38.491 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2021-07-28 09:08:38.492 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2021-07-28 09:08:38.492 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2021-07-28 09:08:38.597 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2021-07-28 09:08:38.598 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2021-07-28 09:08:38.598 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2021-07-28 09:08:38.599 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2021-07-28 09:08:38.599 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2021-07-28 09:08:38.599 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2021-07-28 09:08:38.599 request id: app - uvicorn.server:serve - Finished server process [2763]
INFO     2021-07-28 09:08:38.600 request id: app - uvicorn.server:serve - Finished server process [2763]
INFO     2021-07-28 09:08:38.600 request id: app - uvicorn.server:serve - Finished server process [2763]
INFO     2021-07-28 09:08:39.480 request id: app - uvicorn.server:serve - Started server process [2774]
INFO     2021-07-28 09:08:39.484 request id: app - uvicorn.server:serve - Started server process [2774]
INFO     2021-07-28 09:08:39.484 request id: app - uvicorn.server:serve - Started server process [2774]
INFO     2021-07-28 09:08:39.484 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2021-07-28 09:08:39.484 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2021-07-28 09:08:39.484 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2021-07-28 09:08:39.485 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2021-07-28 09:08:39.486 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2021-07-28 09:08:39.486 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2021-07-28 09:08:48.885 request id: app - uvicorn.protocols.http.h11_impl:send - 74.125.212.249:0 - "POST /webhook HTTP/1.1" 200
INFO     2021-07-28 09:09:48.995 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2021-07-28 09:09:48.996 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2021-07-28 09:09:48.996 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2021-07-28 09:09:49.102 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2021-07-28 09:09:49.102 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2021-07-28 09:09:49.102 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2021-07-28 09:09:49.103 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2021-07-28 09:09:49.103 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2021-07-28 09:09:49.104 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2021-07-28 09:09:49.104 request id: app - uvicorn.server:serve - Finished server process [2774]
INFO     2021-07-28 09:09:49.104 request id: app - uvicorn.server:serve - Finished server process [2774]
INFO     2021-07-28 09:09:49.104 request id: app - uvicorn.server:serve - Finished server process [2774]
INFO     2021-07-28 09:09:49.927 request id: app - uvicorn.server:serve - Started server process [2792]
INFO     2021-07-28 09:09:49.927 request id: app - uvicorn.server:serve - Started server process [2792]
INFO     2021-07-28 09:09:49.927 request id: app - uvicorn.server:serve - Started server process [2792]
INFO     2021-07-28 09:09:49.927 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2021-07-28 09:09:49.927 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2021-07-28 09:09:49.928 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2021-07-28 09:09:49.928 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2021-07-28 09:09:49.928 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2021-07-28 09:09:49.929 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2021-07-28 09:09:59.469 request id: app - uvicorn.protocols.http.h11_impl:send - 74.125.212.231:0 - "POST /webhook HTTP/1.1" 200
INFO     2021-07-28 09:10:28.604 request id: app - uvicorn.protocols.http.h11_impl:send - 66.249.83.10:0 - "POST /webhook HTTP/1.1" 200
INFO     2021-07-28 09:10:41.712 request id: app - uvicorn.protocols.http.h11_impl:send - 66.249.83.3:0 - "POST /webhook HTTP/1.1" 200
INFO     2021-07-28 09:10:50.253 request id: app - uvicorn.protocols.http.h11_impl:send - 66.249.83.25:0 - "POST /webhook HTTP/1.1" 200
INFO     2021-07-28 09:10:58.059 request id: app - uvicorn.protocols.http.h11_impl:send - 66.249.83.30:0 - "POST /webhook HTTP/1.1" 500
ERROR    2021-07-28 09:10:58.062 request id: app - uvicorn.protocols.http.h11_impl:run_asgi - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 5
               │     └ 8
               └ <function _main at 0x109cff0d0>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 5
           │    └ <function BaseProcess._bootstrap at 0x109ad2b80>
           └ <SpawnProcess name='SpawnProcess-52' parent=1291 started>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x109ad21f0>
    └ <SpawnProcess name='SpawnProcess-52' parent=1291 started>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x109d66100>, 'target': <bound method Server.run of <uvicorn.server.Server object...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-52' parent=1291 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-52' parent=1291 started>
    │    └ <function subprocess_started at 0x10a33e670>
    └ <SpawnProcess name='SpawnProcess-52' parent=1291 started>
  File "/Library/Python/3.8/site-packages/uvicorn/subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=4, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 5000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x109d661f0>>
  File "/Library/Python/3.8/site-packages/uvicorn/server.py", line 50, in run
    loop.run_until_complete(self.serve(sockets=sockets))
    │    │                  │    │             └ [<socket.socket fd=4, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 5000)>]
    │    │                  │    └ <function Server.serve at 0x10a33bc10>
    │    │                  └ <uvicorn.server.Server object at 0x109d661f0>
    │    └ <function BaseEventLoop.run_until_complete at 0x109ff8790>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/asyncio/base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x109ff8700>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/asyncio/base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x109ffa280>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/asyncio/base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x109f2d160>
    └ <Handle <TaskWakeupMethWrapper object at 0x10b464190>(<Future finished result=None>)>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/asyncio/events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x10b464190>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x10b464190>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x10b464190>(<Future finished result=None>)>
> File "/Library/Python/3.8/site-packages/uvicorn/protocols/http/h11_impl.py", line 369, in run_asgi
    result = await app(self.scope, self.receive, self.send)
                   │   │    │      │    │        │    └ <function RequestResponseCycle.send at 0x10a4a6310>
                   │   │    │      │    │        └ <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10b464af0>
                   │   │    │      │    └ <function RequestResponseCycle.receive at 0x10a4a63a0>
                   │   │    │      └ <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10b464af0>
                   │   │    └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
                   │   └ <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10b464af0>
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x10a45e370>
  File "/Library/Python/3.8/site-packages/uvicorn/middleware/proxy_headers.py", line 59, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10b464af0>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10b464af0>>
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x10a4af040>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x10a45e370>
  File "/Library/Python/3.8/site-packages/fastapi/applications.py", line 199, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10b464af0>>
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10b464af0>>
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
  File "/Library/Python/3.8/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10b464af0>>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10b464af0>>
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x10b401a90>
          └ <fastapi.applications.FastAPI object at 0x10a4af040>
  File "/Library/Python/3.8/site-packages/starlette/middleware/errors.py", line 181, in __call__
    raise exc from None
  File "/Library/Python/3.8/site-packages/starlette/middleware/errors.py", line 159, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x10b42f310>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10b464af0>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x10b401a30>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x10b401a90>
  File "/Library/Python/3.8/site-packages/starlette/middleware/base.py", line 25, in __call__
    response = await self.dispatch_func(request, self.call_next)
                     │    │             │        │    └ <function BaseHTTPMiddleware.call_next at 0x10a96d940>
                     │    │             │        └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x10b401a30>
                     │    │             └ <starlette.requests.Request object at 0x10b464cd0>
                     │    └ <function add_process_time_header at 0x10b3fdca0>
                     └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x10b401a30>

  File "./app/__init__.py", line 65, in add_process_time_header
    response = await call_next(request)
                     │         └ <starlette.requests.Request object at 0x10b464cd0>
                     └ <bound method BaseHTTPMiddleware.call_next of <starlette.middleware.base.BaseHTTPMiddleware object at 0x10b401a30>>

  File "/Library/Python/3.8/site-packages/starlette/middleware/base.py", line 45, in call_next
    task.result()
    │    └ <method 'result' of '_asyncio.Task' objects>
    └ <Task finished name='Task-30' coro=<BaseHTTPMiddleware.call_next.<locals>.coro() done, defined at /Library/Python/3.8/site-pa...
  File "/Library/Python/3.8/site-packages/starlette/middleware/base.py", line 38, in coro
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method Queue.put of <Queue at 0x10b464700 maxsize=0 tasks=1>>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10b464af0>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x10b401a00>
          └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x10b401a30>
  File "/Library/Python/3.8/site-packages/starlette/middleware/cors.py", line 78, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method Queue.put of <Queue at 0x10b464700 maxsize=0 tasks=1>>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10b464af0>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x10b4019a0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x10b401a00>
  File "/Library/Python/3.8/site-packages/starlette/exceptions.py", line 82, in __call__
    raise exc from None
  File "/Library/Python/3.8/site-packages/starlette/exceptions.py", line 71, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x10b42f040>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10b464af0>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x10b1a1cd0>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x10b4019a0>
  File "/Library/Python/3.8/site-packages/starlette/routing.py", line 580, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x10b42f040>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10b464af0>>
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │     └ <function Route.handle at 0x10a93baf0>
          └ <fastapi.routing.APIRoute object at 0x10b3f3880>
  File "/Library/Python/3.8/site-packages/starlette/routing.py", line 241, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x10b42f040>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10b464af0>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <function request_response.<locals>.app at 0x10b3edc10>
          └ <fastapi.routing.APIRoute object at 0x10b3f3880>
  File "/Library/Python/3.8/site-packages/starlette/routing.py", line 52, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x10b464d30>
                     └ <function get_request_handler.<locals>.app at 0x10b3edb80>
  File "/Library/Python/3.8/site-packages/fastapi/routing.py", line 214, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x10a926b80>
  File "/Library/Python/3.8/site-packages/fastapi/routing.py", line 149, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'request': <starlette.requests.Request object at 0x10b464d30>}
                 │         └ <function action at 0x10b2c95e0>
                 └ <fastapi.dependencies.models.Dependant object at 0x10b3f3970>

  File "./app/routers/conversation.py", line 10, in action
    return await controller.index(request)
                 │          │     └ <starlette.requests.Request object at 0x10b464d30>
                 │          └ <staticmethod object at 0x10b2657c0>
                 └ <class 'app.controllers.Conversation.Conversation'>

  File "./app/controllers/Conversation.py", line 198, in index
    resfull = agent.handle_request(handler)
              │     │              └ <function handler at 0x10b2c9430>
              │     └ <function WebhookClient.handle_request at 0x10b27b8b0>
              └ <dialogflow_fulfillment.webhook_client.WebhookClient object at 0x10b464c10>

  File "/Library/Python/3.8/site-packages/dialogflow_fulfillment/webhook_client.py", line 271, in handle_request
    return handler_function(self)
           │                └ <dialogflow_fulfillment.webhook_client.WebhookClient object at 0x10b464c10>
           └ <function handler at 0x10b2c9430>

  File "./app/controllers/Conversation.py", line 139, in handler
    page = Pagination(agent)
           │          └ <dialogflow_fulfillment.webhook_client.WebhookClient object at 0x10b464c10>
           └ <class 'app.libraries.Pagination.Pagination'>

  File "./app/libraries/Pagination.py", line 42, in __init__
    self.pages(dict(contextact)['parameters']['category'])
    │    │          └ None
    │    └ <function Pagination.pages at 0x10b27baf0>
    └ <app.libraries.Pagination.Pagination object at 0x10b464f40>

TypeError: 'NoneType' object is not iterable
ERROR    2021-07-28 09:10:58.147 request id: app - uvicorn.protocols.http.h11_impl:run_asgi - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 5
               │     └ 8
               └ <function _main at 0x109cff0d0>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 5
           │    └ <function BaseProcess._bootstrap at 0x109ad2b80>
           └ <SpawnProcess name='SpawnProcess-52' parent=1291 started>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x109ad21f0>
    └ <SpawnProcess name='SpawnProcess-52' parent=1291 started>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x109d66100>, 'target': <bound method Server.run of <uvicorn.server.Server object...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-52' parent=1291 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-52' parent=1291 started>
    │    └ <function subprocess_started at 0x10a33e670>
    └ <SpawnProcess name='SpawnProcess-52' parent=1291 started>
  File "/Library/Python/3.8/site-packages/uvicorn/subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=4, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 5000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x109d661f0>>
  File "/Library/Python/3.8/site-packages/uvicorn/server.py", line 50, in run
    loop.run_until_complete(self.serve(sockets=sockets))
    │    │                  │    │             └ [<socket.socket fd=4, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 5000)>]
    │    │                  │    └ <function Server.serve at 0x10a33bc10>
    │    │                  └ <uvicorn.server.Server object at 0x109d661f0>
    │    └ <function BaseEventLoop.run_until_complete at 0x109ff8790>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/asyncio/base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x109ff8700>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/asyncio/base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x109ffa280>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/asyncio/base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x109f2d160>
    └ <Handle <TaskWakeupMethWrapper object at 0x10b464190>(<Future finished result=None>)>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/asyncio/events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x10b464190>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x10b464190>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x10b464190>(<Future finished result=None>)>
> File "/Library/Python/3.8/site-packages/uvicorn/protocols/http/h11_impl.py", line 369, in run_asgi
    result = await app(self.scope, self.receive, self.send)
                   │   │    │      │    │        │    └ <function RequestResponseCycle.send at 0x10a4a6310>
                   │   │    │      │    │        └ <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10b464af0>
                   │   │    │      │    └ <function RequestResponseCycle.receive at 0x10a4a63a0>
                   │   │    │      └ <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10b464af0>
                   │   │    └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
                   │   └ <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10b464af0>
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x10a45e370>
  File "/Library/Python/3.8/site-packages/uvicorn/middleware/proxy_headers.py", line 59, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10b464af0>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10b464af0>>
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x10a4af040>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x10a45e370>
  File "/Library/Python/3.8/site-packages/fastapi/applications.py", line 199, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10b464af0>>
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10b464af0>>
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
  File "/Library/Python/3.8/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10b464af0>>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10b464af0>>
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x10b401a90>
          └ <fastapi.applications.FastAPI object at 0x10a4af040>
  File "/Library/Python/3.8/site-packages/starlette/middleware/errors.py", line 181, in __call__
    raise exc from None
  File "/Library/Python/3.8/site-packages/starlette/middleware/errors.py", line 159, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x10b42f310>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10b464af0>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x10b401a30>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x10b401a90>
  File "/Library/Python/3.8/site-packages/starlette/middleware/base.py", line 25, in __call__
    response = await self.dispatch_func(request, self.call_next)
                     │    │             │        │    └ <function BaseHTTPMiddleware.call_next at 0x10a96d940>
                     │    │             │        └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x10b401a30>
                     │    │             └ <starlette.requests.Request object at 0x10b464cd0>
                     │    └ <function add_process_time_header at 0x10b3fdca0>
                     └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x10b401a30>

  File "./app/__init__.py", line 65, in add_process_time_header
    response = await call_next(request)
                     │         └ <starlette.requests.Request object at 0x10b464cd0>
                     └ <bound method BaseHTTPMiddleware.call_next of <starlette.middleware.base.BaseHTTPMiddleware object at 0x10b401a30>>

  File "/Library/Python/3.8/site-packages/starlette/middleware/base.py", line 45, in call_next
    task.result()
    │    └ <method 'result' of '_asyncio.Task' objects>
    └ <Task finished name='Task-30' coro=<BaseHTTPMiddleware.call_next.<locals>.coro() done, defined at /Library/Python/3.8/site-pa...
  File "/Library/Python/3.8/site-packages/starlette/middleware/base.py", line 38, in coro
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method Queue.put of <Queue at 0x10b464700 maxsize=0 tasks=1>>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10b464af0>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x10b401a00>
          └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x10b401a30>
  File "/Library/Python/3.8/site-packages/starlette/middleware/cors.py", line 78, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method Queue.put of <Queue at 0x10b464700 maxsize=0 tasks=1>>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10b464af0>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x10b4019a0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x10b401a00>
  File "/Library/Python/3.8/site-packages/starlette/exceptions.py", line 82, in __call__
    raise exc from None
  File "/Library/Python/3.8/site-packages/starlette/exceptions.py", line 71, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x10b42f040>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10b464af0>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x10b1a1cd0>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x10b4019a0>
  File "/Library/Python/3.8/site-packages/starlette/routing.py", line 580, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x10b42f040>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10b464af0>>
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │     └ <function Route.handle at 0x10a93baf0>
          └ <fastapi.routing.APIRoute object at 0x10b3f3880>
  File "/Library/Python/3.8/site-packages/starlette/routing.py", line 241, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x10b42f040>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10b464af0>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <function request_response.<locals>.app at 0x10b3edc10>
          └ <fastapi.routing.APIRoute object at 0x10b3f3880>
  File "/Library/Python/3.8/site-packages/starlette/routing.py", line 52, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x10b464d30>
                     └ <function get_request_handler.<locals>.app at 0x10b3edb80>
  File "/Library/Python/3.8/site-packages/fastapi/routing.py", line 214, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x10a926b80>
  File "/Library/Python/3.8/site-packages/fastapi/routing.py", line 149, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'request': <starlette.requests.Request object at 0x10b464d30>}
                 │         └ <function action at 0x10b2c95e0>
                 └ <fastapi.dependencies.models.Dependant object at 0x10b3f3970>

  File "./app/routers/conversation.py", line 10, in action
    return await controller.index(request)
                 │          │     └ <starlette.requests.Request object at 0x10b464d30>
                 │          └ <staticmethod object at 0x10b2657c0>
                 └ <class 'app.controllers.Conversation.Conversation'>

  File "./app/controllers/Conversation.py", line 198, in index
    resfull = agent.handle_request(handler)
              │     │              └ <function handler at 0x10b2c9430>
              │     └ <function WebhookClient.handle_request at 0x10b27b8b0>
              └ <dialogflow_fulfillment.webhook_client.WebhookClient object at 0x10b464c10>

  File "/Library/Python/3.8/site-packages/dialogflow_fulfillment/webhook_client.py", line 271, in handle_request
    return handler_function(self)
           │                └ <dialogflow_fulfillment.webhook_client.WebhookClient object at 0x10b464c10>
           └ <function handler at 0x10b2c9430>

  File "./app/controllers/Conversation.py", line 139, in handler
    page = Pagination(agent)
           │          └ <dialogflow_fulfillment.webhook_client.WebhookClient object at 0x10b464c10>
           └ <class 'app.libraries.Pagination.Pagination'>

  File "./app/libraries/Pagination.py", line 42, in __init__
    self.pages(dict(contextact)['parameters']['category'])
    │    │          └ None
    │    └ <function Pagination.pages at 0x10b27baf0>
    └ <app.libraries.Pagination.Pagination object at 0x10b464f40>

TypeError: 'NoneType' object is not iterable
ERROR    2021-07-28 09:10:58.158 request id: app - uvicorn.protocols.http.h11_impl:run_asgi - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 5
               │     └ 8
               └ <function _main at 0x109cff0d0>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 5
           │    └ <function BaseProcess._bootstrap at 0x109ad2b80>
           └ <SpawnProcess name='SpawnProcess-52' parent=1291 started>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x109ad21f0>
    └ <SpawnProcess name='SpawnProcess-52' parent=1291 started>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x109d66100>, 'target': <bound method Server.run of <uvicorn.server.Server object...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-52' parent=1291 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-52' parent=1291 started>
    │    └ <function subprocess_started at 0x10a33e670>
    └ <SpawnProcess name='SpawnProcess-52' parent=1291 started>
  File "/Library/Python/3.8/site-packages/uvicorn/subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=4, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 5000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x109d661f0>>
  File "/Library/Python/3.8/site-packages/uvicorn/server.py", line 50, in run
    loop.run_until_complete(self.serve(sockets=sockets))
    │    │                  │    │             └ [<socket.socket fd=4, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 5000)>]
    │    │                  │    └ <function Server.serve at 0x10a33bc10>
    │    │                  └ <uvicorn.server.Server object at 0x109d661f0>
    │    └ <function BaseEventLoop.run_until_complete at 0x109ff8790>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/asyncio/base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x109ff8700>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/asyncio/base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x109ffa280>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/asyncio/base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x109f2d160>
    └ <Handle <TaskWakeupMethWrapper object at 0x10b464190>(<Future finished result=None>)>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/asyncio/events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x10b464190>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x10b464190>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x10b464190>(<Future finished result=None>)>
> File "/Library/Python/3.8/site-packages/uvicorn/protocols/http/h11_impl.py", line 369, in run_asgi
    result = await app(self.scope, self.receive, self.send)
                   │   │    │      │    │        │    └ <function RequestResponseCycle.send at 0x10a4a6310>
                   │   │    │      │    │        └ <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10b464af0>
                   │   │    │      │    └ <function RequestResponseCycle.receive at 0x10a4a63a0>
                   │   │    │      └ <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10b464af0>
                   │   │    └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
                   │   └ <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10b464af0>
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x10a45e370>
  File "/Library/Python/3.8/site-packages/uvicorn/middleware/proxy_headers.py", line 59, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10b464af0>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10b464af0>>
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x10a4af040>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x10a45e370>
  File "/Library/Python/3.8/site-packages/fastapi/applications.py", line 199, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10b464af0>>
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10b464af0>>
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
  File "/Library/Python/3.8/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10b464af0>>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10b464af0>>
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x10b401a90>
          └ <fastapi.applications.FastAPI object at 0x10a4af040>
  File "/Library/Python/3.8/site-packages/starlette/middleware/errors.py", line 181, in __call__
    raise exc from None
  File "/Library/Python/3.8/site-packages/starlette/middleware/errors.py", line 159, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x10b42f310>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10b464af0>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x10b401a30>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x10b401a90>
  File "/Library/Python/3.8/site-packages/starlette/middleware/base.py", line 25, in __call__
    response = await self.dispatch_func(request, self.call_next)
                     │    │             │        │    └ <function BaseHTTPMiddleware.call_next at 0x10a96d940>
                     │    │             │        └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x10b401a30>
                     │    │             └ <starlette.requests.Request object at 0x10b464cd0>
                     │    └ <function add_process_time_header at 0x10b3fdca0>
                     └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x10b401a30>

  File "./app/__init__.py", line 65, in add_process_time_header
    response = await call_next(request)
                     │         └ <starlette.requests.Request object at 0x10b464cd0>
                     └ <bound method BaseHTTPMiddleware.call_next of <starlette.middleware.base.BaseHTTPMiddleware object at 0x10b401a30>>

  File "/Library/Python/3.8/site-packages/starlette/middleware/base.py", line 45, in call_next
    task.result()
    │    └ <method 'result' of '_asyncio.Task' objects>
    └ <Task finished name='Task-30' coro=<BaseHTTPMiddleware.call_next.<locals>.coro() done, defined at /Library/Python/3.8/site-pa...
  File "/Library/Python/3.8/site-packages/starlette/middleware/base.py", line 38, in coro
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method Queue.put of <Queue at 0x10b464700 maxsize=0 tasks=1>>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10b464af0>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x10b401a00>
          └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x10b401a30>
  File "/Library/Python/3.8/site-packages/starlette/middleware/cors.py", line 78, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method Queue.put of <Queue at 0x10b464700 maxsize=0 tasks=1>>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10b464af0>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x10b4019a0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x10b401a00>
  File "/Library/Python/3.8/site-packages/starlette/exceptions.py", line 82, in __call__
    raise exc from None
  File "/Library/Python/3.8/site-packages/starlette/exceptions.py", line 71, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x10b42f040>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10b464af0>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x10b1a1cd0>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x10b4019a0>
  File "/Library/Python/3.8/site-packages/starlette/routing.py", line 580, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x10b42f040>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10b464af0>>
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │     └ <function Route.handle at 0x10a93baf0>
          └ <fastapi.routing.APIRoute object at 0x10b3f3880>
  File "/Library/Python/3.8/site-packages/starlette/routing.py", line 241, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x10b42f040>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10b464af0>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <function request_response.<locals>.app at 0x10b3edc10>
          └ <fastapi.routing.APIRoute object at 0x10b3f3880>
  File "/Library/Python/3.8/site-packages/starlette/routing.py", line 52, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x10b464d30>
                     └ <function get_request_handler.<locals>.app at 0x10b3edb80>
  File "/Library/Python/3.8/site-packages/fastapi/routing.py", line 214, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x10a926b80>
  File "/Library/Python/3.8/site-packages/fastapi/routing.py", line 149, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'request': <starlette.requests.Request object at 0x10b464d30>}
                 │         └ <function action at 0x10b2c95e0>
                 └ <fastapi.dependencies.models.Dependant object at 0x10b3f3970>

  File "./app/routers/conversation.py", line 10, in action
    return await controller.index(request)
                 │          │     └ <starlette.requests.Request object at 0x10b464d30>
                 │          └ <staticmethod object at 0x10b2657c0>
                 └ <class 'app.controllers.Conversation.Conversation'>

  File "./app/controllers/Conversation.py", line 198, in index
    resfull = agent.handle_request(handler)
              │     │              └ <function handler at 0x10b2c9430>
              │     └ <function WebhookClient.handle_request at 0x10b27b8b0>
              └ <dialogflow_fulfillment.webhook_client.WebhookClient object at 0x10b464c10>

  File "/Library/Python/3.8/site-packages/dialogflow_fulfillment/webhook_client.py", line 271, in handle_request
    return handler_function(self)
           │                └ <dialogflow_fulfillment.webhook_client.WebhookClient object at 0x10b464c10>
           └ <function handler at 0x10b2c9430>

  File "./app/controllers/Conversation.py", line 139, in handler
    page = Pagination(agent)
           │          └ <dialogflow_fulfillment.webhook_client.WebhookClient object at 0x10b464c10>
           └ <class 'app.libraries.Pagination.Pagination'>

  File "./app/libraries/Pagination.py", line 42, in __init__
    self.pages(dict(contextact)['parameters']['category'])
    │    │          └ None
    │    └ <function Pagination.pages at 0x10b27baf0>
    └ <app.libraries.Pagination.Pagination object at 0x10b464f40>

TypeError: 'NoneType' object is not iterable
INFO     2021-07-28 09:11:11.352 request id: app - uvicorn.protocols.http.h11_impl:send - 66.249.83.12:0 - "POST /webhook HTTP/1.1" 500
ERROR    2021-07-28 09:11:11.356 request id: app - uvicorn.protocols.http.h11_impl:run_asgi - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 5
               │     └ 8
               └ <function _main at 0x109cff0d0>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 5
           │    └ <function BaseProcess._bootstrap at 0x109ad2b80>
           └ <SpawnProcess name='SpawnProcess-52' parent=1291 started>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x109ad21f0>
    └ <SpawnProcess name='SpawnProcess-52' parent=1291 started>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x109d66100>, 'target': <bound method Server.run of <uvicorn.server.Server object...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-52' parent=1291 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-52' parent=1291 started>
    │    └ <function subprocess_started at 0x10a33e670>
    └ <SpawnProcess name='SpawnProcess-52' parent=1291 started>
  File "/Library/Python/3.8/site-packages/uvicorn/subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=4, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 5000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x109d661f0>>
  File "/Library/Python/3.8/site-packages/uvicorn/server.py", line 50, in run
    loop.run_until_complete(self.serve(sockets=sockets))
    │    │                  │    │             └ [<socket.socket fd=4, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 5000)>]
    │    │                  │    └ <function Server.serve at 0x10a33bc10>
    │    │                  └ <uvicorn.server.Server object at 0x109d661f0>
    │    └ <function BaseEventLoop.run_until_complete at 0x109ff8790>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/asyncio/base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x109ff8700>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/asyncio/base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x109ffa280>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/asyncio/base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x109f2d160>
    └ <Handle <TaskWakeupMethWrapper object at 0x10b435eb0>(<Future finished result=None>)>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/asyncio/events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x10b435eb0>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x10b435eb0>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x10b435eb0>(<Future finished result=None>)>
> File "/Library/Python/3.8/site-packages/uvicorn/protocols/http/h11_impl.py", line 369, in run_asgi
    result = await app(self.scope, self.receive, self.send)
                   │   │    │      │    │        │    └ <function RequestResponseCycle.send at 0x10a4a6310>
                   │   │    │      │    │        └ <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10b435220>
                   │   │    │      │    └ <function RequestResponseCycle.receive at 0x10a4a63a0>
                   │   │    │      └ <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10b435220>
                   │   │    └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
                   │   └ <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10b435220>
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x10a45e370>
  File "/Library/Python/3.8/site-packages/uvicorn/middleware/proxy_headers.py", line 59, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10b435220>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10b435220>>
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x10a4af040>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x10a45e370>
  File "/Library/Python/3.8/site-packages/fastapi/applications.py", line 199, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10b435220>>
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10b435220>>
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
  File "/Library/Python/3.8/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10b435220>>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10b435220>>
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x10b401a90>
          └ <fastapi.applications.FastAPI object at 0x10a4af040>
  File "/Library/Python/3.8/site-packages/starlette/middleware/errors.py", line 181, in __call__
    raise exc from None
  File "/Library/Python/3.8/site-packages/starlette/middleware/errors.py", line 159, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x10b42f160>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10b435220>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x10b401a30>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x10b401a90>
  File "/Library/Python/3.8/site-packages/starlette/middleware/base.py", line 25, in __call__
    response = await self.dispatch_func(request, self.call_next)
                     │    │             │        │    └ <function BaseHTTPMiddleware.call_next at 0x10a96d940>
                     │    │             │        └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x10b401a30>
                     │    │             └ <starlette.requests.Request object at 0x10b435310>
                     │    └ <function add_process_time_header at 0x10b3fdca0>
                     └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x10b401a30>

  File "./app/__init__.py", line 65, in add_process_time_header
    response = await call_next(request)
                     │         └ <starlette.requests.Request object at 0x10b435310>
                     └ <bound method BaseHTTPMiddleware.call_next of <starlette.middleware.base.BaseHTTPMiddleware object at 0x10b401a30>>

  File "/Library/Python/3.8/site-packages/starlette/middleware/base.py", line 45, in call_next
    task.result()
    │    └ <method 'result' of '_asyncio.Task' objects>
    └ <Task finished name='Task-34' coro=<BaseHTTPMiddleware.call_next.<locals>.coro() done, defined at /Library/Python/3.8/site-pa...
  File "/Library/Python/3.8/site-packages/starlette/middleware/base.py", line 38, in coro
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method Queue.put of <Queue at 0x10b4359d0 maxsize=0 tasks=1>>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10b435220>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x10b401a00>
          └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x10b401a30>
  File "/Library/Python/3.8/site-packages/starlette/middleware/cors.py", line 78, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method Queue.put of <Queue at 0x10b4359d0 maxsize=0 tasks=1>>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10b435220>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x10b4019a0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x10b401a00>
  File "/Library/Python/3.8/site-packages/starlette/exceptions.py", line 82, in __call__
    raise exc from None
  File "/Library/Python/3.8/site-packages/starlette/exceptions.py", line 71, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x10b3fde50>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10b435220>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x10b1a1cd0>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x10b4019a0>
  File "/Library/Python/3.8/site-packages/starlette/routing.py", line 580, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x10b3fde50>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10b435220>>
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │     └ <function Route.handle at 0x10a93baf0>
          └ <fastapi.routing.APIRoute object at 0x10b3f3880>
  File "/Library/Python/3.8/site-packages/starlette/routing.py", line 241, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x10b3fde50>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10b435220>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <function request_response.<locals>.app at 0x10b3edc10>
          └ <fastapi.routing.APIRoute object at 0x10b3f3880>
  File "/Library/Python/3.8/site-packages/starlette/routing.py", line 52, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x10b435d60>
                     └ <function get_request_handler.<locals>.app at 0x10b3edb80>
  File "/Library/Python/3.8/site-packages/fastapi/routing.py", line 214, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x10a926b80>
  File "/Library/Python/3.8/site-packages/fastapi/routing.py", line 149, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'request': <starlette.requests.Request object at 0x10b435d60>}
                 │         └ <function action at 0x10b2c95e0>
                 └ <fastapi.dependencies.models.Dependant object at 0x10b3f3970>

  File "./app/routers/conversation.py", line 10, in action
    return await controller.index(request)
                 │          │     └ <starlette.requests.Request object at 0x10b435d60>
                 │          └ <staticmethod object at 0x10b2657c0>
                 └ <class 'app.controllers.Conversation.Conversation'>

  File "./app/controllers/Conversation.py", line 198, in index
    resfull = agent.handle_request(handler)
              │     │              └ <function handler at 0x10b2c9430>
              │     └ <function WebhookClient.handle_request at 0x10b27b8b0>
              └ <dialogflow_fulfillment.webhook_client.WebhookClient object at 0x10b435610>

  File "/Library/Python/3.8/site-packages/dialogflow_fulfillment/webhook_client.py", line 271, in handle_request
    return handler_function(self)
           │                └ <dialogflow_fulfillment.webhook_client.WebhookClient object at 0x10b435610>
           └ <function handler at 0x10b2c9430>

  File "./app/controllers/Conversation.py", line 139, in handler
    page = Pagination(agent)
           │          └ <dialogflow_fulfillment.webhook_client.WebhookClient object at 0x10b435610>
           └ <class 'app.libraries.Pagination.Pagination'>

  File "./app/libraries/Pagination.py", line 42, in __init__
    self.pages(dict(contextact)['parameters']['category'])
    │    │          └ None
    │    └ <function Pagination.pages at 0x10b27baf0>
    └ <app.libraries.Pagination.Pagination object at 0x10b401910>

TypeError: 'NoneType' object is not iterable
ERROR    2021-07-28 09:11:11.392 request id: app - uvicorn.protocols.http.h11_impl:run_asgi - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 5
               │     └ 8
               └ <function _main at 0x109cff0d0>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 5
           │    └ <function BaseProcess._bootstrap at 0x109ad2b80>
           └ <SpawnProcess name='SpawnProcess-52' parent=1291 started>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x109ad21f0>
    └ <SpawnProcess name='SpawnProcess-52' parent=1291 started>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x109d66100>, 'target': <bound method Server.run of <uvicorn.server.Server object...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-52' parent=1291 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-52' parent=1291 started>
    │    └ <function subprocess_started at 0x10a33e670>
    └ <SpawnProcess name='SpawnProcess-52' parent=1291 started>
  File "/Library/Python/3.8/site-packages/uvicorn/subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=4, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 5000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x109d661f0>>
  File "/Library/Python/3.8/site-packages/uvicorn/server.py", line 50, in run
    loop.run_until_complete(self.serve(sockets=sockets))
    │    │                  │    │             └ [<socket.socket fd=4, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 5000)>]
    │    │                  │    └ <function Server.serve at 0x10a33bc10>
    │    │                  └ <uvicorn.server.Server object at 0x109d661f0>
    │    └ <function BaseEventLoop.run_until_complete at 0x109ff8790>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/asyncio/base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x109ff8700>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/asyncio/base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x109ffa280>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/asyncio/base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x109f2d160>
    └ <Handle <TaskWakeupMethWrapper object at 0x10b435eb0>(<Future finished result=None>)>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/asyncio/events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x10b435eb0>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x10b435eb0>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x10b435eb0>(<Future finished result=None>)>
> File "/Library/Python/3.8/site-packages/uvicorn/protocols/http/h11_impl.py", line 369, in run_asgi
    result = await app(self.scope, self.receive, self.send)
                   │   │    │      │    │        │    └ <function RequestResponseCycle.send at 0x10a4a6310>
                   │   │    │      │    │        └ <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10b435220>
                   │   │    │      │    └ <function RequestResponseCycle.receive at 0x10a4a63a0>
                   │   │    │      └ <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10b435220>
                   │   │    └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
                   │   └ <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10b435220>
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x10a45e370>
  File "/Library/Python/3.8/site-packages/uvicorn/middleware/proxy_headers.py", line 59, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10b435220>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10b435220>>
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x10a4af040>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x10a45e370>
  File "/Library/Python/3.8/site-packages/fastapi/applications.py", line 199, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10b435220>>
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10b435220>>
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
  File "/Library/Python/3.8/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10b435220>>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10b435220>>
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x10b401a90>
          └ <fastapi.applications.FastAPI object at 0x10a4af040>
  File "/Library/Python/3.8/site-packages/starlette/middleware/errors.py", line 181, in __call__
    raise exc from None
  File "/Library/Python/3.8/site-packages/starlette/middleware/errors.py", line 159, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x10b42f160>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10b435220>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x10b401a30>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x10b401a90>
  File "/Library/Python/3.8/site-packages/starlette/middleware/base.py", line 25, in __call__
    response = await self.dispatch_func(request, self.call_next)
                     │    │             │        │    └ <function BaseHTTPMiddleware.call_next at 0x10a96d940>
                     │    │             │        └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x10b401a30>
                     │    │             └ <starlette.requests.Request object at 0x10b435310>
                     │    └ <function add_process_time_header at 0x10b3fdca0>
                     └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x10b401a30>

  File "./app/__init__.py", line 65, in add_process_time_header
    response = await call_next(request)
                     │         └ <starlette.requests.Request object at 0x10b435310>
                     └ <bound method BaseHTTPMiddleware.call_next of <starlette.middleware.base.BaseHTTPMiddleware object at 0x10b401a30>>

  File "/Library/Python/3.8/site-packages/starlette/middleware/base.py", line 45, in call_next
    task.result()
    │    └ <method 'result' of '_asyncio.Task' objects>
    └ <Task finished name='Task-34' coro=<BaseHTTPMiddleware.call_next.<locals>.coro() done, defined at /Library/Python/3.8/site-pa...
  File "/Library/Python/3.8/site-packages/starlette/middleware/base.py", line 38, in coro
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method Queue.put of <Queue at 0x10b4359d0 maxsize=0 tasks=1>>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10b435220>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x10b401a00>
          └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x10b401a30>
  File "/Library/Python/3.8/site-packages/starlette/middleware/cors.py", line 78, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method Queue.put of <Queue at 0x10b4359d0 maxsize=0 tasks=1>>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10b435220>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x10b4019a0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x10b401a00>
  File "/Library/Python/3.8/site-packages/starlette/exceptions.py", line 82, in __call__
    raise exc from None
  File "/Library/Python/3.8/site-packages/starlette/exceptions.py", line 71, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x10b3fde50>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10b435220>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x10b1a1cd0>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x10b4019a0>
  File "/Library/Python/3.8/site-packages/starlette/routing.py", line 580, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x10b3fde50>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10b435220>>
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │     └ <function Route.handle at 0x10a93baf0>
          └ <fastapi.routing.APIRoute object at 0x10b3f3880>
  File "/Library/Python/3.8/site-packages/starlette/routing.py", line 241, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x10b3fde50>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10b435220>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <function request_response.<locals>.app at 0x10b3edc10>
          └ <fastapi.routing.APIRoute object at 0x10b3f3880>
  File "/Library/Python/3.8/site-packages/starlette/routing.py", line 52, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x10b435d60>
                     └ <function get_request_handler.<locals>.app at 0x10b3edb80>
  File "/Library/Python/3.8/site-packages/fastapi/routing.py", line 214, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x10a926b80>
  File "/Library/Python/3.8/site-packages/fastapi/routing.py", line 149, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'request': <starlette.requests.Request object at 0x10b435d60>}
                 │         └ <function action at 0x10b2c95e0>
                 └ <fastapi.dependencies.models.Dependant object at 0x10b3f3970>

  File "./app/routers/conversation.py", line 10, in action
    return await controller.index(request)
                 │          │     └ <starlette.requests.Request object at 0x10b435d60>
                 │          └ <staticmethod object at 0x10b2657c0>
                 └ <class 'app.controllers.Conversation.Conversation'>

  File "./app/controllers/Conversation.py", line 198, in index
    resfull = agent.handle_request(handler)
              │     │              └ <function handler at 0x10b2c9430>
              │     └ <function WebhookClient.handle_request at 0x10b27b8b0>
              └ <dialogflow_fulfillment.webhook_client.WebhookClient object at 0x10b435610>

  File "/Library/Python/3.8/site-packages/dialogflow_fulfillment/webhook_client.py", line 271, in handle_request
    return handler_function(self)
           │                └ <dialogflow_fulfillment.webhook_client.WebhookClient object at 0x10b435610>
           └ <function handler at 0x10b2c9430>

  File "./app/controllers/Conversation.py", line 139, in handler
    page = Pagination(agent)
           │          └ <dialogflow_fulfillment.webhook_client.WebhookClient object at 0x10b435610>
           └ <class 'app.libraries.Pagination.Pagination'>

  File "./app/libraries/Pagination.py", line 42, in __init__
    self.pages(dict(contextact)['parameters']['category'])
    │    │          └ None
    │    └ <function Pagination.pages at 0x10b27baf0>
    └ <app.libraries.Pagination.Pagination object at 0x10b401910>

TypeError: 'NoneType' object is not iterable
ERROR    2021-07-28 09:11:11.419 request id: app - uvicorn.protocols.http.h11_impl:run_asgi - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 5
               │     └ 8
               └ <function _main at 0x109cff0d0>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 5
           │    └ <function BaseProcess._bootstrap at 0x109ad2b80>
           └ <SpawnProcess name='SpawnProcess-52' parent=1291 started>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x109ad21f0>
    └ <SpawnProcess name='SpawnProcess-52' parent=1291 started>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x109d66100>, 'target': <bound method Server.run of <uvicorn.server.Server object...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-52' parent=1291 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-52' parent=1291 started>
    │    └ <function subprocess_started at 0x10a33e670>
    └ <SpawnProcess name='SpawnProcess-52' parent=1291 started>
  File "/Library/Python/3.8/site-packages/uvicorn/subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=4, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 5000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x109d661f0>>
  File "/Library/Python/3.8/site-packages/uvicorn/server.py", line 50, in run
    loop.run_until_complete(self.serve(sockets=sockets))
    │    │                  │    │             └ [<socket.socket fd=4, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 5000)>]
    │    │                  │    └ <function Server.serve at 0x10a33bc10>
    │    │                  └ <uvicorn.server.Server object at 0x109d661f0>
    │    └ <function BaseEventLoop.run_until_complete at 0x109ff8790>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/asyncio/base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x109ff8700>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/asyncio/base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x109ffa280>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/asyncio/base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x109f2d160>
    └ <Handle <TaskWakeupMethWrapper object at 0x10b435eb0>(<Future finished result=None>)>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/asyncio/events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x10b435eb0>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x10b435eb0>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x10b435eb0>(<Future finished result=None>)>
> File "/Library/Python/3.8/site-packages/uvicorn/protocols/http/h11_impl.py", line 369, in run_asgi
    result = await app(self.scope, self.receive, self.send)
                   │   │    │      │    │        │    └ <function RequestResponseCycle.send at 0x10a4a6310>
                   │   │    │      │    │        └ <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10b435220>
                   │   │    │      │    └ <function RequestResponseCycle.receive at 0x10a4a63a0>
                   │   │    │      └ <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10b435220>
                   │   │    └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
                   │   └ <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10b435220>
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x10a45e370>
  File "/Library/Python/3.8/site-packages/uvicorn/middleware/proxy_headers.py", line 59, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10b435220>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10b435220>>
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x10a4af040>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x10a45e370>
  File "/Library/Python/3.8/site-packages/fastapi/applications.py", line 199, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10b435220>>
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10b435220>>
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
  File "/Library/Python/3.8/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10b435220>>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10b435220>>
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x10b401a90>
          └ <fastapi.applications.FastAPI object at 0x10a4af040>
  File "/Library/Python/3.8/site-packages/starlette/middleware/errors.py", line 181, in __call__
    raise exc from None
  File "/Library/Python/3.8/site-packages/starlette/middleware/errors.py", line 159, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x10b42f160>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10b435220>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x10b401a30>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x10b401a90>
  File "/Library/Python/3.8/site-packages/starlette/middleware/base.py", line 25, in __call__
    response = await self.dispatch_func(request, self.call_next)
                     │    │             │        │    └ <function BaseHTTPMiddleware.call_next at 0x10a96d940>
                     │    │             │        └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x10b401a30>
                     │    │             └ <starlette.requests.Request object at 0x10b435310>
                     │    └ <function add_process_time_header at 0x10b3fdca0>
                     └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x10b401a30>

  File "./app/__init__.py", line 65, in add_process_time_header
    response = await call_next(request)
                     │         └ <starlette.requests.Request object at 0x10b435310>
                     └ <bound method BaseHTTPMiddleware.call_next of <starlette.middleware.base.BaseHTTPMiddleware object at 0x10b401a30>>

  File "/Library/Python/3.8/site-packages/starlette/middleware/base.py", line 45, in call_next
    task.result()
    │    └ <method 'result' of '_asyncio.Task' objects>
    └ <Task finished name='Task-34' coro=<BaseHTTPMiddleware.call_next.<locals>.coro() done, defined at /Library/Python/3.8/site-pa...
  File "/Library/Python/3.8/site-packages/starlette/middleware/base.py", line 38, in coro
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method Queue.put of <Queue at 0x10b4359d0 maxsize=0 tasks=1>>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10b435220>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x10b401a00>
          └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x10b401a30>
  File "/Library/Python/3.8/site-packages/starlette/middleware/cors.py", line 78, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method Queue.put of <Queue at 0x10b4359d0 maxsize=0 tasks=1>>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10b435220>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x10b4019a0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x10b401a00>
  File "/Library/Python/3.8/site-packages/starlette/exceptions.py", line 82, in __call__
    raise exc from None
  File "/Library/Python/3.8/site-packages/starlette/exceptions.py", line 71, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x10b3fde50>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10b435220>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x10b1a1cd0>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x10b4019a0>
  File "/Library/Python/3.8/site-packages/starlette/routing.py", line 580, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x10b3fde50>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10b435220>>
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │     └ <function Route.handle at 0x10a93baf0>
          └ <fastapi.routing.APIRoute object at 0x10b3f3880>
  File "/Library/Python/3.8/site-packages/starlette/routing.py", line 241, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x10b3fde50>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10b435220>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <function request_response.<locals>.app at 0x10b3edc10>
          └ <fastapi.routing.APIRoute object at 0x10b3f3880>
  File "/Library/Python/3.8/site-packages/starlette/routing.py", line 52, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x10b435d60>
                     └ <function get_request_handler.<locals>.app at 0x10b3edb80>
  File "/Library/Python/3.8/site-packages/fastapi/routing.py", line 214, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x10a926b80>
  File "/Library/Python/3.8/site-packages/fastapi/routing.py", line 149, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'request': <starlette.requests.Request object at 0x10b435d60>}
                 │         └ <function action at 0x10b2c95e0>
                 └ <fastapi.dependencies.models.Dependant object at 0x10b3f3970>

  File "./app/routers/conversation.py", line 10, in action
    return await controller.index(request)
                 │          │     └ <starlette.requests.Request object at 0x10b435d60>
                 │          └ <staticmethod object at 0x10b2657c0>
                 └ <class 'app.controllers.Conversation.Conversation'>

  File "./app/controllers/Conversation.py", line 198, in index
    resfull = agent.handle_request(handler)
              │     │              └ <function handler at 0x10b2c9430>
              │     └ <function WebhookClient.handle_request at 0x10b27b8b0>
              └ <dialogflow_fulfillment.webhook_client.WebhookClient object at 0x10b435610>

  File "/Library/Python/3.8/site-packages/dialogflow_fulfillment/webhook_client.py", line 271, in handle_request
    return handler_function(self)
           │                └ <dialogflow_fulfillment.webhook_client.WebhookClient object at 0x10b435610>
           └ <function handler at 0x10b2c9430>

  File "./app/controllers/Conversation.py", line 139, in handler
    page = Pagination(agent)
           │          └ <dialogflow_fulfillment.webhook_client.WebhookClient object at 0x10b435610>
           └ <class 'app.libraries.Pagination.Pagination'>

  File "./app/libraries/Pagination.py", line 42, in __init__
    self.pages(dict(contextact)['parameters']['category'])
    │    │          └ None
    │    └ <function Pagination.pages at 0x10b27baf0>
    └ <app.libraries.Pagination.Pagination object at 0x10b401910>

TypeError: 'NoneType' object is not iterable
INFO     2021-07-28 09:11:19.699 request id: app - uvicorn.protocols.http.h11_impl:send - 66.249.83.30:0 - "POST /webhook HTTP/1.1" 200
INFO     2021-07-28 09:11:22.730 request id: app - uvicorn.protocols.http.h11_impl:send - 66.249.83.20:0 - "POST /webhook HTTP/1.1" 200
INFO     2021-07-28 09:12:06.622 request id: app - uvicorn.protocols.http.h11_impl:send - 66.249.83.25:0 - "POST /webhook HTTP/1.1" 200
INFO     2021-07-28 09:12:18.808 request id: app - uvicorn.protocols.http.h11_impl:send - 66.249.83.21:0 - "POST /webhook HTTP/1.1" 200
INFO     2021-07-28 09:12:23.198 request id: app - uvicorn.protocols.http.h11_impl:send - 66.249.83.12:0 - "POST /webhook HTTP/1.1" 200
INFO     2021-07-28 09:14:08.888 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2021-07-28 09:14:08.889 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2021-07-28 09:14:08.890 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2021-07-28 09:14:08.995 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2021-07-28 09:14:08.996 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2021-07-28 09:14:08.996 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2021-07-28 09:14:08.997 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2021-07-28 09:14:08.997 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2021-07-28 09:14:08.997 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2021-07-28 09:14:08.998 request id: app - uvicorn.server:serve - Finished server process [2792]
INFO     2021-07-28 09:14:08.998 request id: app - uvicorn.server:serve - Finished server process [2792]
INFO     2021-07-28 09:14:08.998 request id: app - uvicorn.server:serve - Finished server process [2792]
INFO     2021-07-28 09:14:09.938 request id: app - uvicorn.server:serve - Started server process [2817]
INFO     2021-07-28 09:14:09.939 request id: app - uvicorn.server:serve - Started server process [2817]
INFO     2021-07-28 09:14:09.939 request id: app - uvicorn.server:serve - Started server process [2817]
INFO     2021-07-28 09:14:09.939 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2021-07-28 09:14:09.939 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2021-07-28 09:14:09.939 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2021-07-28 09:14:09.940 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2021-07-28 09:14:09.940 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2021-07-28 09:14:09.941 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2021-07-28 09:14:30.586 request id: app - uvicorn.protocols.http.h11_impl:send - 66.249.83.9:0 - "POST /webhook HTTP/1.1" 200
INFO     2021-07-28 09:14:39.170 request id: app - uvicorn.protocols.http.h11_impl:send - 66.249.83.9:0 - "POST /webhook HTTP/1.1" 200
INFO     2021-07-28 09:14:45.950 request id: app - uvicorn.protocols.http.h11_impl:send - 66.249.83.10:0 - "POST /webhook HTTP/1.1" 200
INFO     2021-07-28 09:14:51.557 request id: app - uvicorn.protocols.http.h11_impl:send - 66.249.83.20:0 - "POST /webhook HTTP/1.1" 200
INFO     2021-07-28 09:15:03.321 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2021-07-28 09:15:03.322 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2021-07-28 09:15:03.322 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2021-07-28 09:15:03.427 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2021-07-28 09:15:03.428 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2021-07-28 09:15:03.428 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2021-07-28 09:15:03.429 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2021-07-28 09:15:03.429 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2021-07-28 09:15:03.429 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2021-07-28 09:15:03.430 request id: app - uvicorn.server:serve - Finished server process [2817]
INFO     2021-07-28 09:15:03.430 request id: app - uvicorn.server:serve - Finished server process [2817]
INFO     2021-07-28 09:15:03.430 request id: app - uvicorn.server:serve - Finished server process [2817]
INFO     2021-07-28 09:15:04.289 request id: app - uvicorn.server:serve - Started server process [2825]
INFO     2021-07-28 09:15:04.290 request id: app - uvicorn.server:serve - Started server process [2825]
INFO     2021-07-28 09:15:04.290 request id: app - uvicorn.server:serve - Started server process [2825]
INFO     2021-07-28 09:15:04.290 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2021-07-28 09:15:04.290 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2021-07-28 09:15:04.290 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2021-07-28 09:15:04.291 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2021-07-28 09:15:04.291 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2021-07-28 09:15:04.291 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2021-07-28 09:20:07.403 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:59858 - "PUT /product/610002789d4ff36dbbafa66d HTTP/1.1" 200
INFO     2021-07-28 09:21:35.072 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:59880 - "PUT /product/610002789d4ff36dbbafa66d HTTP/1.1" 200
INFO     2021-07-28 09:23:26.168 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2021-07-28 09:23:26.169 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2021-07-28 09:23:26.169 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2021-07-28 09:23:26.275 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2021-07-28 09:23:26.275 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2021-07-28 09:23:26.275 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2021-07-28 09:23:26.277 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2021-07-28 09:23:26.277 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2021-07-28 09:23:26.277 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2021-07-28 09:23:26.278 request id: app - uvicorn.server:serve - Finished server process [2825]
INFO     2021-07-28 09:23:26.278 request id: app - uvicorn.server:serve - Finished server process [2825]
INFO     2021-07-28 09:23:26.278 request id: app - uvicorn.server:serve - Finished server process [2825]
INFO     2021-07-28 09:23:27.142 request id: app - uvicorn.server:serve - Started server process [2870]
INFO     2021-07-28 09:23:27.143 request id: app - uvicorn.server:serve - Started server process [2870]
INFO     2021-07-28 09:23:27.143 request id: app - uvicorn.server:serve - Started server process [2870]
INFO     2021-07-28 09:23:27.143 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2021-07-28 09:23:27.143 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2021-07-28 09:23:27.143 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2021-07-28 09:23:27.144 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2021-07-28 09:23:27.144 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2021-07-28 09:23:27.145 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2021-07-28 09:23:29.566 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:59902 - "PUT /product/610002789d4ff36dbbafa66d HTTP/1.1" 200
INFO     2021-07-28 09:23:44.297 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2021-07-28 09:23:44.298 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2021-07-28 09:23:44.298 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2021-07-28 09:23:44.403 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2021-07-28 09:23:44.404 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2021-07-28 09:23:44.404 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2021-07-28 09:23:44.405 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2021-07-28 09:23:44.405 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2021-07-28 09:23:44.405 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2021-07-28 09:23:44.405 request id: app - uvicorn.server:serve - Finished server process [2870]
INFO     2021-07-28 09:23:44.406 request id: app - uvicorn.server:serve - Finished server process [2870]
INFO     2021-07-28 09:23:44.406 request id: app - uvicorn.server:serve - Finished server process [2870]
INFO     2021-07-28 09:23:45.288 request id: app - uvicorn.server:serve - Started server process [2879]
INFO     2021-07-28 09:23:45.288 request id: app - uvicorn.server:serve - Started server process [2879]
INFO     2021-07-28 09:23:45.288 request id: app - uvicorn.server:serve - Started server process [2879]
INFO     2021-07-28 09:23:45.289 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2021-07-28 09:23:45.289 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2021-07-28 09:23:45.289 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2021-07-28 09:23:45.293 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2021-07-28 09:23:45.293 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2021-07-28 09:23:45.293 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2021-07-28 09:23:46.374 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:59908 - "PUT /product/610002789d4ff36dbbafa66d HTTP/1.1" 200
INFO     2021-07-28 09:27:30.261 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2021-07-28 09:27:30.262 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2021-07-28 09:27:30.262 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2021-07-28 09:27:30.368 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2021-07-28 09:27:30.368 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2021-07-28 09:27:30.368 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2021-07-28 09:27:30.369 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2021-07-28 09:27:30.369 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2021-07-28 09:27:30.370 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2021-07-28 09:27:30.370 request id: app - uvicorn.server:serve - Finished server process [2879]
INFO     2021-07-28 09:27:30.370 request id: app - uvicorn.server:serve - Finished server process [2879]
INFO     2021-07-28 09:27:30.370 request id: app - uvicorn.server:serve - Finished server process [2879]
INFO     2021-07-28 09:27:31.391 request id: app - uvicorn.server:serve - Started server process [2893]
INFO     2021-07-28 09:27:31.391 request id: app - uvicorn.server:serve - Started server process [2893]
INFO     2021-07-28 09:27:31.392 request id: app - uvicorn.server:serve - Started server process [2893]
INFO     2021-07-28 09:27:31.392 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2021-07-28 09:27:31.392 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2021-07-28 09:27:31.392 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2021-07-28 09:27:31.393 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2021-07-28 09:27:31.393 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2021-07-28 09:27:31.393 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2021-07-28 09:27:32.909 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:59938 - "PUT /product/610002789d4ff36dbbafa66d HTTP/1.1" 200
INFO     2021-07-28 09:27:48.093 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2021-07-28 09:27:48.094 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2021-07-28 09:27:48.094 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2021-07-28 09:27:48.199 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2021-07-28 09:27:48.200 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2021-07-28 09:27:48.200 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2021-07-28 09:27:48.201 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2021-07-28 09:27:48.201 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2021-07-28 09:27:48.201 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2021-07-28 09:27:48.201 request id: app - uvicorn.server:serve - Finished server process [2893]
INFO     2021-07-28 09:27:48.202 request id: app - uvicorn.server:serve - Finished server process [2893]
INFO     2021-07-28 09:27:48.202 request id: app - uvicorn.server:serve - Finished server process [2893]
INFO     2021-07-28 09:27:48.974 request id: app - uvicorn.server:serve - Started server process [2902]
INFO     2021-07-28 09:27:48.974 request id: app - uvicorn.server:serve - Started server process [2902]
INFO     2021-07-28 09:27:48.974 request id: app - uvicorn.server:serve - Started server process [2902]
INFO     2021-07-28 09:27:48.974 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2021-07-28 09:27:48.975 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2021-07-28 09:27:48.975 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2021-07-28 09:27:48.976 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2021-07-28 09:27:48.976 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2021-07-28 09:27:48.976 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2021-07-28 09:27:51.549 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:59944 - "PUT /product/610002789d4ff36dbbafa66d HTTP/1.1" 200
INFO     2021-07-28 09:28:32.105 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:59949 - "GET /product/page?limit=10&offset=0&filter= HTTP/1.1" 200
INFO     2021-07-28 09:28:37.456 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:59953 - "GET /product/page?limit=10&offset=0&filter=test HTTP/1.1" 200
INFO     2021-07-28 09:28:39.159 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:59953 - "GET /product/610002789d4ff36dbbafa66d HTTP/1.1" 200
INFO     2021-07-28 09:28:59.207 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:59967 - "OPTIONS /product/610002789d4ff36dbbafa66d HTTP/1.1" 200
INFO     2021-07-28 09:28:59.218 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:59967 - "PUT /product/610002789d4ff36dbbafa66d HTTP/1.1" 200
INFO     2021-07-28 09:29:00.264 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:59967 - "GET /product/page?limit=10&offset=0&filter= HTTP/1.1" 200
INFO     2021-07-28 09:29:05.702 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:59969 - "GET /product/page?limit=10&offset=0&filter=test HTTP/1.1" 200
INFO     2021-07-28 09:29:07.497 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:59969 - "GET /product/610002789d4ff36dbbafa66d HTTP/1.1" 200
INFO     2021-07-28 09:29:19.515 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:59973 - "PUT /product/610002789d4ff36dbbafa66d HTTP/1.1" 400
INFO     2021-07-28 09:29:24.250 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:59973 - "PUT /product/610002789d4ff36dbbafa66d HTTP/1.1" 400
INFO     2021-07-28 09:29:45.185 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:60059 - "PUT /product/610002789d4ff36dbbafa66d HTTP/1.1" 200
INFO     2021-07-28 09:29:46.254 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:60059 - "GET /product/page?limit=10&offset=0&filter= HTTP/1.1" 200
INFO     2021-07-28 09:29:49.526 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:60059 - "GET /product/page?limit=10&offset=0&filter=test HTTP/1.1" 200
INFO     2021-07-28 09:29:51.943 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:60059 - "GET /product/610002789d4ff36dbbafa66d HTTP/1.1" 200
INFO     2021-07-28 09:30:13.154 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:60175 - "PUT /product/610002789d4ff36dbbafa66d HTTP/1.1" 200
INFO     2021-07-28 09:30:14.216 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:60175 - "GET /product/page?limit=10&offset=0&filter= HTTP/1.1" 200
INFO     2021-07-28 09:30:16.515 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:60175 - "GET /product/page?limit=10&offset=0&filter=test HTTP/1.1" 200
INFO     2021-07-28 09:30:18.370 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:60175 - "GET /product/610002789d4ff36dbbafa66d HTTP/1.1" 200
INFO     2021-07-28 09:30:32.373 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:60253 - "PUT /product/610002789d4ff36dbbafa66d HTTP/1.1" 200
INFO     2021-07-28 09:30:33.420 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:60253 - "GET /product/page?limit=10&offset=0&filter= HTTP/1.1" 200
INFO     2021-07-28 09:30:35.704 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:60253 - "GET /product/page?limit=10&offset=0&filter=test HTTP/1.1" 200
INFO     2021-07-28 09:30:41.499 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:60293 - "GET /product/610002789d4ff36dbbafa66d HTTP/1.1" 200
INFO     2021-07-28 09:30:47.509 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:60319 - "PUT /product/610002789d4ff36dbbafa66d HTTP/1.1" 200
INFO     2021-07-28 09:30:48.588 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:60319 - "GET /product/page?limit=10&offset=0&filter= HTTP/1.1" 200
INFO     2021-07-28 09:35:11.682 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:61404 - "GET /product/page?limit=10&offset=0&filter=test HTTP/1.1" 200
INFO     2021-07-28 09:35:13.627 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:61404 - "GET /product/610002789d4ff36dbbafa66d HTTP/1.1" 200
INFO     2021-07-28 09:35:20.793 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:61442 - "PUT /product/610002789d4ff36dbbafa66d HTTP/1.1" 200
INFO     2021-07-28 09:35:21.845 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:61442 - "GET /product/page?limit=10&offset=0&filter= HTTP/1.1" 200
INFO     2021-07-28 09:35:24.389 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:61442 - "GET /product/page?limit=10&offset=0&filter=test HTTP/1.1" 200
INFO     2021-07-28 09:35:26.249 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:61442 - "GET /product/610002789d4ff36dbbafa66d HTTP/1.1" 200
INFO     2021-07-28 09:37:55.169 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:62100 - "PUT /product/610002789d4ff36dbbafa66d HTTP/1.1" 200
INFO     2021-07-28 09:37:56.282 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:62100 - "GET /product/page?limit=10&offset=0&filter= HTTP/1.1" 200
INFO     2021-07-28 09:37:58.565 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:62100 - "GET /product/page?limit=10&offset=0&filter=test HTTP/1.1" 200
INFO     2021-07-28 09:37:59.948 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:62100 - "GET /product/610002789d4ff36dbbafa66d HTTP/1.1" 200
INFO     2021-07-28 09:38:04.290 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:62100 - "PUT /product/610002789d4ff36dbbafa66d HTTP/1.1" 200
INFO     2021-07-28 09:38:05.333 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:62100 - "GET /product/page?limit=10&offset=0&filter= HTTP/1.1" 200
INFO     2021-07-28 09:38:08.525 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:62100 - "GET /product/page?limit=10&offset=0&filter=test HTTP/1.1" 200
INFO     2021-07-28 09:38:09.997 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:62100 - "GET /product/610002789d4ff36dbbafa66d HTTP/1.1" 200
INFO     2021-07-28 09:38:27.257 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:62238 - "PUT /product/610002789d4ff36dbbafa66d HTTP/1.1" 200
INFO     2021-07-28 09:38:28.308 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:62238 - "GET /product/page?limit=10&offset=0&filter= HTTP/1.1" 200
INFO     2021-07-28 09:38:31.120 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:62238 - "GET /product/page?limit=10&offset=0&filter=test HTTP/1.1" 200
INFO     2021-07-28 09:38:32.429 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:62238 - "GET /product/610002789d4ff36dbbafa66d HTTP/1.1" 200
INFO     2021-07-28 09:38:45.119 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:62314 - "GET /product/610002789d4ff36dbbafa66d HTTP/1.1" 200
INFO     2021-07-28 09:46:54.337 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2021-07-28 09:46:54.344 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2021-07-28 09:46:54.344 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2021-07-28 09:46:54.450 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2021-07-28 09:46:54.450 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2021-07-28 09:46:54.450 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2021-07-28 09:46:54.451 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2021-07-28 09:46:54.452 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2021-07-28 09:46:54.452 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2021-07-28 09:46:54.452 request id: app - uvicorn.server:serve - Finished server process [2902]
INFO     2021-07-28 09:46:54.452 request id: app - uvicorn.server:serve - Finished server process [2902]
INFO     2021-07-28 09:46:54.452 request id: app - uvicorn.server:serve - Finished server process [2902]
INFO     2021-07-28 14:12:14.927 request id: app - uvicorn.server:serve - Started server process [7057]
INFO     2021-07-28 14:12:14.928 request id: app - uvicorn.server:serve - Started server process [7057]
INFO     2021-07-28 14:12:14.928 request id: app - uvicorn.server:serve - Started server process [7057]
INFO     2021-07-28 14:12:14.928 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2021-07-28 14:12:14.928 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2021-07-28 14:12:14.929 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2021-07-28 14:12:14.929 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2021-07-28 14:12:14.929 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2021-07-28 14:12:14.930 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2021-07-28 14:12:43.203 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:64975 - "GET /product/page?limit=10&offset=0&filter= HTTP/1.1" 200
INFO     2021-07-28 14:12:44.166 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:64975 - "GET /employe/page?limit=10&offset=0&filter= HTTP/1.1" 200
INFO     2021-07-28 14:12:47.205 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:64975 - "GET /product/page?limit=10&offset=0&filter= HTTP/1.1" 200
INFO     2021-07-28 14:12:50.082 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:64975 - "GET /product/page?limit=10&offset=0&filter=test HTTP/1.1" 200
INFO     2021-07-28 14:12:51.658 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:64975 - "GET /product/610002789d4ff36dbbafa66d HTTP/1.1" 200
INFO     2021-07-28 14:16:06.456 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:65287 - "GET /login/461119 HTTP/1.1" 200
INFO     2021-07-28 14:16:15.154 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:65331 - "GET /login/461119 HTTP/1.1" 200
INFO     2021-07-28 14:16:15.158 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:65333 - "GET /report/answered HTTP/1.1" 200
INFO     2021-07-28 14:16:15.159 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:65335 - "GET /report/category HTTP/1.1" 200
INFO     2021-07-28 14:16:15.161 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:65337 - "GET /report/product HTTP/1.1" 200
INFO     2021-07-28 14:16:18.541 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:65337 - "GET /product/page?limit=10&offset=0&filter= HTTP/1.1" 200
INFO     2021-07-28 14:16:20.760 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:65337 - "GET /product/page?limit=10&offset=0&filter=test HTTP/1.1" 200
INFO     2021-07-28 14:16:22.782 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:65337 - "GET /product/610002789d4ff36dbbafa66d HTTP/1.1" 200
INFO     2021-07-28 14:16:46.627 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:65468 - "GET /product/610002789d4ff36dbbafa66d HTTP/1.1" 200
INFO     2021-07-28 14:17:15.454 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:49210 - "GET /product/610002789d4ff36dbbafa66d HTTP/1.1" 200
INFO     2021-07-28 14:19:13.427 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:49686 - "GET /product/610002789d4ff36dbbafa66d HTTP/1.1" 200
INFO     2021-07-28 14:19:44.471 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:49814 - "GET /product/610002789d4ff36dbbafa66d HTTP/1.1" 200
INFO     2021-07-28 14:20:21.805 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:49972 - "GET /product/610002789d4ff36dbbafa66d HTTP/1.1" 200
INFO     2021-07-28 14:20:55.945 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:50112 - "GET /product/610002789d4ff36dbbafa66d HTTP/1.1" 200
INFO     2021-07-28 14:21:19.073 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:50208 - "GET /product/610002789d4ff36dbbafa66d HTTP/1.1" 200
INFO     2021-07-28 14:21:38.962 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:50293 - "GET /product/610002789d4ff36dbbafa66d HTTP/1.1" 200
INFO     2021-07-28 14:22:29.156 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:50501 - "GET /product/page?limit=10&offset=0&filter= HTTP/1.1" 200
INFO     2021-07-28 14:22:34.320 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:50523 - "GET /product/5fc648c98ddc3549acf4bcf1 HTTP/1.1" 200
INFO     2021-07-28 14:22:39.033 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:50523 - "GET /employe/page?limit=10&offset=0&filter= HTTP/1.1" 200
INFO     2021-07-28 14:22:39.869 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:50523 - "GET /product/page?limit=10&offset=0&filter= HTTP/1.1" 200
INFO     2021-07-28 14:22:41.655 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:50523 - "GET /product/5fc648c98ddc3549acf4bcf1 HTTP/1.1" 200
INFO     2021-07-28 14:23:03.303 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:50643 - "GET /product/page?limit=10&offset=0&filter= HTTP/1.1" 200
INFO     2021-07-28 14:23:07.537 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:50643 - "GET /product/page?limit=10&offset=0&filter=test HTTP/1.1" 200
INFO     2021-07-28 14:23:09.564 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:50643 - "GET /product/610002789d4ff36dbbafa66d HTTP/1.1" 200
INFO     2021-07-28 14:28:02.403 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:51861 - "GET /product/610002789d4ff36dbbafa66d HTTP/1.1" 200
INFO     2021-07-28 14:28:16.130 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:51922 - "GET /product/page?limit=10&offset=0&filter= HTTP/1.1" 200
INFO     2021-07-28 14:28:17.738 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:51922 - "GET /product/5fc648c98ddc3549acf4bcf1 HTTP/1.1" 200
INFO     2021-07-28 14:30:39.931 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:52513 - "GET /product/page?limit=10&offset=0&filter= HTTP/1.1" 200
INFO     2021-07-28 14:30:42.486 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:52513 - "GET /product/page?limit=10&offset=0&filter=test HTTP/1.1" 200
INFO     2021-07-28 14:30:44.154 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:52513 - "GET /product/610002789d4ff36dbbafa66d HTTP/1.1" 200
INFO     2021-07-28 14:33:55.920 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:53308 - "GET /product/610002789d4ff36dbbafa66d HTTP/1.1" 200
INFO     2021-07-28 14:40:52.232 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:54851 - "GET /product/610002789d4ff36dbbafa66d HTTP/1.1" 200
INFO     2021-07-28 14:41:16.958 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:54952 - "GET /product/page?limit=10&offset=0&filter= HTTP/1.1" 200
INFO     2021-07-28 14:41:18.684 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:54952 - "GET /product/5fc648c98ddc3549acf4bcf1 HTTP/1.1" 200
INFO     2021-07-28 14:41:24.032 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:54982 - "GET /product/page?limit=10&offset=0&filter= HTTP/1.1" 200
INFO     2021-07-28 14:41:26.453 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:54982 - "GET /product/page?limit=10&offset=0&filter=test HTTP/1.1" 200
INFO     2021-07-28 14:41:27.885 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:54982 - "GET /product/610002789d4ff36dbbafa66d HTTP/1.1" 200
INFO     2021-07-28 14:45:52.846 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:56146 - "GET /product/610002789d4ff36dbbafa66d HTTP/1.1" 200
INFO     2021-07-28 14:46:04.642 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:56200 - "OPTIONS /product/610002789d4ff36dbbafa66d HTTP/1.1" 200
INFO     2021-07-28 14:46:04.697 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:56202 - "PUT /product/610002789d4ff36dbbafa66d HTTP/1.1" 200
INFO     2021-07-28 14:46:05.821 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:56202 - "GET /product/page?limit=10&offset=0&filter= HTTP/1.1" 200
INFO     2021-07-28 14:46:12.975 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:56238 - "GET /product/610002789d4ff36dbbafa66d HTTP/1.1" 200
INFO     2021-07-28 14:46:37.271 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:56343 - "GET /product/page?limit=10&offset=0&filter=test HTTP/1.1" 200
INFO     2021-07-28 14:46:38.829 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:56343 - "GET /product/610002789d4ff36dbbafa66d HTTP/1.1" 200
INFO     2021-07-28 14:47:40.520 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:56606 - "GET /product/610002789d4ff36dbbafa66d HTTP/1.1" 200
INFO     2021-07-28 14:50:29.303 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:57287 - "GET /product/610002789d4ff36dbbafa66d HTTP/1.1" 200
INFO     2021-07-28 14:51:13.855 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:57470 - "GET /product/610002789d4ff36dbbafa66d HTTP/1.1" 200
INFO     2021-07-28 14:52:18.318 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:57732 - "GET /product/610002789d4ff36dbbafa66d HTTP/1.1" 200
INFO     2021-07-28 14:52:52.665 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:57876 - "GET /product/610002789d4ff36dbbafa66d HTTP/1.1" 200
INFO     2021-07-28 14:53:01.068 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:57912 - "GET /product/610002789d4ff36dbbafa66d HTTP/1.1" 200
INFO     2021-07-28 14:53:08.711 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:57948 - "GET /product/610002789d4ff36dbbafa66d HTTP/1.1" 200
INFO     2021-07-28 14:53:15.101 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:57976 - "GET /product/610002789d4ff36dbbafa66d HTTP/1.1" 200
INFO     2021-07-28 14:53:23.438 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:58012 - "GET /product/610002789d4ff36dbbafa66d HTTP/1.1" 200
INFO     2021-07-28 14:53:28.869 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:58040 - "GET /product/610002789d4ff36dbbafa66d HTTP/1.1" 200
INFO     2021-07-28 14:53:35.870 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:58073 - "GET /product/610002789d4ff36dbbafa66d HTTP/1.1" 200
INFO     2021-07-28 14:57:48.725 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:59105 - "GET /product/610002789d4ff36dbbafa66d HTTP/1.1" 200
INFO     2021-07-28 14:59:14.473 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:59457 - "GET /product/610002789d4ff36dbbafa66d HTTP/1.1" 200
INFO     2021-07-28 14:59:33.747 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:59543 - "GET /product/610002789d4ff36dbbafa66d HTTP/1.1" 200
INFO     2021-07-28 15:00:00.509 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:59655 - "GET /product/610002789d4ff36dbbafa66d HTTP/1.1" 200
INFO     2021-07-28 15:00:16.408 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:59723 - "GET /product/610002789d4ff36dbbafa66d HTTP/1.1" 200
INFO     2021-07-28 16:22:04.289 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:63871 - "GET /product/610002789d4ff36dbbafa66d HTTP/1.1" 200
INFO     2021-07-28 16:22:24.660 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:63955 - "GET /product/610002789d4ff36dbbafa66d HTTP/1.1" 200
INFO     2021-07-28 16:22:53.597 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:64083 - "GET /product/610002789d4ff36dbbafa66d HTTP/1.1" 200
INFO     2021-07-28 16:23:05.107 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:64131 - "GET /product/610002789d4ff36dbbafa66d HTTP/1.1" 200
INFO     2021-07-28 16:24:42.799 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:64530 - "GET /product/610002789d4ff36dbbafa66d HTTP/1.1" 200
INFO     2021-07-28 16:26:41.593 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:65022 - "GET /product/610002789d4ff36dbbafa66d HTTP/1.1" 200
INFO     2021-07-28 16:30:07.294 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:49481 - "GET /product/610002789d4ff36dbbafa66d HTTP/1.1" 200
INFO     2021-07-28 16:34:16.913 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:50518 - "GET /product/610002789d4ff36dbbafa66d HTTP/1.1" 200
INFO     2021-07-28 16:36:46.318 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:51130 - "GET /product/page?limit=10&offset=0&filter= HTTP/1.1" 200
INFO     2021-07-28 16:36:48.688 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:51130 - "GET /product/page?limit=10&offset=0&filter=test HTTP/1.1" 200
INFO     2021-07-28 16:36:52.519 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:51130 - "GET /product/610002789d4ff36dbbafa66d HTTP/1.1" 200
INFO     2021-07-28 16:37:34.087 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:51326 - "GET /product/page?limit=10&offset=0&filter= HTTP/1.1" 200
INFO     2021-07-28 16:37:36.687 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:51326 - "GET /product/page?limit=10&offset=0&filter=test HTTP/1.1" 200
INFO     2021-07-28 16:37:38.026 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:51326 - "GET /product/610002789d4ff36dbbafa66d HTTP/1.1" 200
INFO     2021-07-28 16:38:09.148 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:51470 - "GET /product/page?limit=10&offset=0&filter= HTTP/1.1" 200
INFO     2021-07-28 16:38:11.389 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:51470 - "GET /product/page?limit=10&offset=0&filter=test HTTP/1.1" 200
INFO     2021-07-28 16:38:12.909 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:51470 - "GET /product/610002789d4ff36dbbafa66d HTTP/1.1" 200
INFO     2021-07-28 16:52:09.017 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:55067 - "GET /product/page?limit=10&offset=0&filter= HTTP/1.1" 200
INFO     2021-07-28 16:52:11.203 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:55067 - "GET /product/page?limit=10&offset=0&filter=test HTTP/1.1" 200
INFO     2021-07-28 16:52:12.975 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:55067 - "GET /product/610002789d4ff36dbbafa66d HTTP/1.1" 200
INFO     2021-07-28 16:53:05.398 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:55297 - "GET /product/page?limit=10&offset=0&filter= HTTP/1.1" 200
INFO     2021-07-28 16:53:07.598 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:55297 - "GET /product/page?limit=10&offset=0&filter=test HTTP/1.1" 200
INFO     2021-07-28 16:53:08.831 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:55297 - "GET /product/610002789d4ff36dbbafa66d HTTP/1.1" 200
INFO     2021-07-28 16:55:28.069 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:56139 - "GET /product/page?limit=10&offset=0&filter= HTTP/1.1" 200
INFO     2021-07-28 16:55:31.312 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:56139 - "GET /product/page?limit=10&offset=0&filter=TEST HTTP/1.1" 200
INFO     2021-07-28 16:55:32.890 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:56139 - "GET /product/610002789d4ff36dbbafa66d HTTP/1.1" 200
INFO     2021-07-28 18:31:56.857 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:59001 - "GET /product/610002789d4ff36dbbafa66d HTTP/1.1" 200
INFO     2021-07-28 18:32:13.958 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:59077 - "GET /product/610002789d4ff36dbbafa66d HTTP/1.1" 200
INFO     2021-07-28 18:33:51.090 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:59468 - "GET /employe/page?limit=10&offset=0&filter= HTTP/1.1" 200
INFO     2021-07-28 18:33:54.464 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:59468 - "GET /employe/page?limit=10&offset=0&filter=TEST HTTP/1.1" 200
INFO     2021-07-28 18:33:56.254 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:59468 - "GET /employe/page?limit=10&offset=0&filter=TE HTTP/1.1" 200
INFO     2021-07-28 18:33:57.547 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:59468 - "GET /employe/page?limit=10&offset=0&filter= HTTP/1.1" 200
INFO     2021-07-28 18:33:58.492 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:59468 - "GET /product/page?limit=10&offset=0&filter= HTTP/1.1" 200
INFO     2021-07-28 18:34:00.996 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:59468 - "GET /product/page?limit=10&offset=0&filter=TEST HTTP/1.1" 200
INFO     2021-07-28 18:34:02.726 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:59468 - "GET /product/610002789d4ff36dbbafa66d HTTP/1.1" 200
INFO     2021-07-28 18:34:06.754 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:59468 - "OPTIONS /product/610002789d4ff36dbbafa66d HTTP/1.1" 200
INFO     2021-07-28 18:34:06.812 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:59468 - "PUT /product/610002789d4ff36dbbafa66d HTTP/1.1" 200
INFO     2021-07-28 18:34:07.852 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:59468 - "GET /product/page?limit=10&offset=0&filter= HTTP/1.1" 200
INFO     2021-07-28 18:34:10.602 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:59468 - "GET /product/page?limit=10&offset=0&filter=EDIT HTTP/1.1" 200
INFO     2021-07-28 18:34:12.612 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:59468 - "GET /product/610002789d4ff36dbbafa66d HTTP/1.1" 200
INFO     2021-07-28 18:35:34.412 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:59471 - "GET /report/answered HTTP/1.1" 200
INFO     2021-07-28 18:35:34.415 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:59473 - "GET /report/category HTTP/1.1" 200
INFO     2021-07-28 18:35:34.416 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:59474 - "GET /report/product HTTP/1.1" 200
INFO     2021-07-28 18:40:43.698 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:59517 - "OPTIONS /login HTTP/1.1" 200
INFO     2021-07-28 18:40:43.735 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:59519 - "POST /login HTTP/1.1" 200
INFO     2021-07-28 18:40:43.845 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:59519 - "GET /report/answered HTTP/1.1" 200
INFO     2021-07-28 18:40:43.885 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:59520 - "GET /login/461119 HTTP/1.1" 200
INFO     2021-07-28 18:40:43.886 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:59522 - "GET /report/category HTTP/1.1" 200
INFO     2021-07-28 18:40:43.887 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:59524 - "GET /report/product HTTP/1.1" 200
INFO     2021-07-28 18:40:46.285 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:59524 - "GET /product/page?limit=10&offset=0&filter= HTTP/1.1" 200
INFO     2021-07-28 18:41:10.165 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:59529 - "GET /product/page?limit=10&offset=0&filter=test HTTP/1.1" 200
INFO     2021-07-28 18:41:11.986 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:59529 - "GET /product/page?limit=10&offset=0&filter=test%25 HTTP/1.1" 200
INFO     2021-07-28 18:41:13.872 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:59529 - "GET /product/page?limit=10&offset=0&filter=test HTTP/1.1" 200
INFO     2021-07-28 18:41:19.185 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:59532 - "GET /product/610002789d4ff36dbbafa66d HTTP/1.1" 200
INFO     2021-07-28 18:41:33.324 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:59534 - "PUT /product/610002789d4ff36dbbafa66d HTTP/1.1" 200
INFO     2021-07-28 18:41:34.400 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:59534 - "GET /product/page?limit=10&offset=0&filter= HTTP/1.1" 200
INFO     2021-07-28 18:41:36.606 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:59534 - "GET /product/page?limit=10&offset=0&filter=test HTTP/1.1" 200
INFO     2021-07-28 18:42:06.291 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:59544 - "GET /employe/page?limit=10&offset=0&filter= HTTP/1.1" 200
INFO     2021-07-28 18:47:11.994 request id: app - uvicorn.protocols.http.h11_impl:send - 66.249.83.221:0 - "POST /webhook HTTP/1.1" 200
INFO     2021-07-28 18:47:19.570 request id: app - uvicorn.protocols.http.h11_impl:send - 66.249.83.219:0 - "POST /webhook HTTP/1.1" 200
INFO     2021-07-28 18:47:28.623 request id: app - uvicorn.protocols.http.h11_impl:send - 66.249.83.218:0 - "POST /webhook HTTP/1.1" 200
INFO     2021-07-28 18:47:33.001 request id: app - uvicorn.protocols.http.h11_impl:send - 66.249.83.209:0 - "POST /webhook HTTP/1.1" 200
INFO     2021-07-28 18:47:41.911 request id: app - uvicorn.protocols.http.h11_impl:send - 66.249.83.218:0 - "POST /webhook HTTP/1.1" 200
INFO     2021-07-28 18:47:48.846 request id: app - uvicorn.protocols.http.h11_impl:send - 66.249.83.212:0 - "POST /webhook HTTP/1.1" 200
INFO     2021-07-28 18:47:52.639 request id: app - uvicorn.protocols.http.h11_impl:send - 66.249.83.218:0 - "POST /webhook HTTP/1.1" 200
INFO     2021-07-28 18:47:58.951 request id: app - uvicorn.protocols.http.h11_impl:send - 66.249.83.216:0 - "POST /webhook HTTP/1.1" 200
INFO     2021-07-28 18:48:02.866 request id: app - uvicorn.protocols.http.h11_impl:send - 66.249.83.220:0 - "POST /webhook HTTP/1.1" 200
INFO     2021-07-28 18:48:07.848 request id: app - uvicorn.protocols.http.h11_impl:send - 66.249.83.220:0 - "POST /webhook HTTP/1.1" 200
INFO     2021-07-28 18:48:11.906 request id: app - uvicorn.protocols.http.h11_impl:send - 66.249.83.219:0 - "POST /webhook HTTP/1.1" 200
INFO     2021-07-28 18:48:15.985 request id: app - uvicorn.protocols.http.h11_impl:send - 66.249.83.219:0 - "POST /webhook HTTP/1.1" 200
INFO     2021-07-28 18:48:20.593 request id: app - uvicorn.protocols.http.h11_impl:send - 66.249.83.212:0 - "POST /webhook HTTP/1.1" 200
INFO     2021-07-28 18:48:25.913 request id: app - uvicorn.protocols.http.h11_impl:send - 66.249.83.209:0 - "POST /webhook HTTP/1.1" 200
INFO     2021-07-28 18:48:30.125 request id: app - uvicorn.protocols.http.h11_impl:send - 66.249.83.216:0 - "POST /webhook HTTP/1.1" 200
INFO     2021-07-28 18:48:34.627 request id: app - uvicorn.protocols.http.h11_impl:send - 66.249.83.220:0 - "POST /webhook HTTP/1.1" 200
INFO     2021-07-28 18:48:38.406 request id: app - uvicorn.protocols.http.h11_impl:send - 66.249.83.212:0 - "POST /webhook HTTP/1.1" 200
INFO     2021-07-28 18:48:42.376 request id: app - uvicorn.protocols.http.h11_impl:send - 66.249.83.219:0 - "POST /webhook HTTP/1.1" 200
INFO     2021-07-28 18:48:46.817 request id: app - uvicorn.protocols.http.h11_impl:send - 66.249.83.219:0 - "POST /webhook HTTP/1.1" 200
INFO     2021-07-28 18:48:51.113 request id: app - uvicorn.protocols.http.h11_impl:send - 66.249.83.219:0 - "POST /webhook HTTP/1.1" 200
INFO     2021-07-28 18:48:54.246 request id: app - uvicorn.protocols.http.h11_impl:send - 66.249.83.219:0 - "POST /webhook HTTP/1.1" 200
INFO     2021-07-28 18:48:59.441 request id: app - uvicorn.protocols.http.h11_impl:send - 66.249.83.218:0 - "POST /webhook HTTP/1.1" 200
INFO     2021-07-28 18:49:02.382 request id: app - uvicorn.protocols.http.h11_impl:send - 66.249.83.219:0 - "POST /webhook HTTP/1.1" 200
INFO     2021-07-28 18:49:06.258 request id: app - uvicorn.protocols.http.h11_impl:send - 66.249.83.220:0 - "POST /webhook HTTP/1.1" 200
INFO     2021-07-28 18:49:12.112 request id: app - uvicorn.protocols.http.h11_impl:send - 66.249.83.212:0 - "POST /webhook HTTP/1.1" 200
INFO     2021-07-28 18:49:15.902 request id: app - uvicorn.protocols.http.h11_impl:send - 66.249.83.214:0 - "POST /webhook HTTP/1.1" 200
INFO     2021-07-28 18:49:29.005 request id: app - uvicorn.protocols.http.h11_impl:send - 66.249.83.223:0 - "POST /webhook HTTP/1.1" 200
INFO     2021-07-28 18:49:31.977 request id: app - uvicorn.protocols.http.h11_impl:send - 66.249.83.209:0 - "POST /webhook HTTP/1.1" 200
INFO     2021-07-28 18:49:38.460 request id: app - uvicorn.protocols.http.h11_impl:send - 66.249.83.218:0 - "POST /webhook HTTP/1.1" 200
INFO     2021-07-28 18:49:42.710 request id: app - uvicorn.protocols.http.h11_impl:send - 66.249.83.219:0 - "POST /webhook HTTP/1.1" 200
INFO     2021-07-28 18:49:45.612 request id: app - uvicorn.protocols.http.h11_impl:send - 66.249.83.219:0 - "POST /webhook HTTP/1.1" 200
INFO     2021-07-28 18:49:48.663 request id: app - uvicorn.protocols.http.h11_impl:send - 66.249.83.220:0 - "POST /webhook HTTP/1.1" 200
INFO     2021-07-28 18:49:52.144 request id: app - uvicorn.protocols.http.h11_impl:send - 66.249.83.223:0 - "POST /webhook HTTP/1.1" 200
INFO     2021-07-28 18:50:04.130 request id: app - uvicorn.protocols.http.h11_impl:send - 66.249.83.219:0 - "POST /webhook HTTP/1.1" 200
INFO     2021-07-28 18:50:09.922 request id: app - uvicorn.protocols.http.h11_impl:send - 66.249.83.205:0 - "POST /webhook HTTP/1.1" 200
INFO     2021-07-28 18:50:13.315 request id: app - uvicorn.protocols.http.h11_impl:send - 66.249.83.218:0 - "POST /webhook HTTP/1.1" 200
INFO     2021-07-28 18:51:13.217 request id: app - uvicorn.protocols.http.h11_impl:send - 66.249.83.218:0 - "POST /webhook HTTP/1.1" 200
INFO     2021-07-28 18:51:19.476 request id: app - uvicorn.protocols.http.h11_impl:send - 66.249.83.220:0 - "POST /webhook HTTP/1.1" 200
INFO     2021-07-28 18:51:52.057 request id: app - uvicorn.protocols.http.h11_impl:send - 66.249.83.212:0 - "POST /webhook HTTP/1.1" 200
INFO     2021-07-28 18:51:56.809 request id: app - uvicorn.protocols.http.h11_impl:send - 66.249.83.203:0 - "POST /webhook HTTP/1.1" 200
INFO     2021-07-28 18:55:18.702 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2021-07-28 18:55:18.703 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2021-07-28 18:55:18.703 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2021-07-28 18:55:18.809 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2021-07-28 18:55:18.810 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2021-07-28 18:55:18.810 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2021-07-28 18:55:18.812 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2021-07-28 18:55:18.812 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2021-07-28 18:55:18.812 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2021-07-28 18:55:18.815 request id: app - uvicorn.server:serve - Finished server process [7057]
INFO     2021-07-28 18:55:18.815 request id: app - uvicorn.server:serve - Finished server process [7057]
INFO     2021-07-28 18:55:18.816 request id: app - uvicorn.server:serve - Finished server process [7057]
INFO     2021-07-28 18:55:19.713 request id: app - uvicorn.server:serve - Started server process [9005]
INFO     2021-07-28 18:55:19.714 request id: app - uvicorn.server:serve - Started server process [9005]
INFO     2021-07-28 18:55:19.714 request id: app - uvicorn.server:serve - Started server process [9005]
INFO     2021-07-28 18:55:19.715 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2021-07-28 18:55:19.715 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2021-07-28 18:55:19.715 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2021-07-28 18:55:19.716 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2021-07-28 18:55:19.716 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2021-07-28 18:55:19.716 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2021-07-28 18:55:24.605 request id: app - uvicorn.protocols.http.h11_impl:send - 66.249.83.218:0 - "POST /webhook HTTP/1.1" 200
INFO     2021-07-28 18:56:21.443 request id: app - uvicorn.protocols.http.h11_impl:send - 66.249.83.222:0 - "POST /webhook HTTP/1.1" 200
INFO     2021-07-28 18:56:25.488 request id: app - uvicorn.protocols.http.h11_impl:send - 66.249.83.216:0 - "POST /webhook HTTP/1.1" 200
INFO     2021-07-28 18:56:36.908 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2021-07-28 18:56:36.909 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2021-07-28 18:56:36.909 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2021-07-28 18:56:37.010 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2021-07-28 18:56:37.011 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2021-07-28 18:56:37.011 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2021-07-28 18:56:37.012 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2021-07-28 18:56:37.012 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2021-07-28 18:56:37.012 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2021-07-28 18:56:37.013 request id: app - uvicorn.server:serve - Finished server process [9005]
INFO     2021-07-28 18:56:37.013 request id: app - uvicorn.server:serve - Finished server process [9005]
INFO     2021-07-28 18:56:37.013 request id: app - uvicorn.server:serve - Finished server process [9005]
INFO     2021-07-28 18:56:37.999 request id: app - uvicorn.server:serve - Started server process [9015]
INFO     2021-07-28 18:56:38.000 request id: app - uvicorn.server:serve - Started server process [9015]
INFO     2021-07-28 18:56:38.000 request id: app - uvicorn.server:serve - Started server process [9015]
INFO     2021-07-28 18:56:38.000 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2021-07-28 18:56:38.000 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2021-07-28 18:56:38.001 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2021-07-28 18:56:38.001 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2021-07-28 18:56:38.002 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2021-07-28 18:56:38.002 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2021-07-28 18:56:41.131 request id: app - uvicorn.protocols.http.h11_impl:send - 66.249.83.220:0 - "POST /webhook HTTP/1.1" 200
INFO     2021-07-28 18:56:46.767 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2021-07-28 18:56:46.769 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2021-07-28 18:56:46.769 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2021-07-28 18:56:46.876 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2021-07-28 18:56:46.878 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2021-07-28 18:56:46.879 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2021-07-28 18:56:46.881 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2021-07-28 18:56:46.882 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2021-07-28 18:56:46.883 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2021-07-28 18:56:46.884 request id: app - uvicorn.server:serve - Finished server process [9015]
INFO     2021-07-28 18:56:46.884 request id: app - uvicorn.server:serve - Finished server process [9015]
INFO     2021-07-28 18:56:46.885 request id: app - uvicorn.server:serve - Finished server process [9015]
INFO     2021-07-28 18:56:47.510 request id: app - uvicorn.server:serve - Started server process [9023]
INFO     2021-07-28 18:56:47.510 request id: app - uvicorn.server:serve - Started server process [9023]
INFO     2021-07-28 18:56:47.510 request id: app - uvicorn.server:serve - Started server process [9023]
INFO     2021-07-28 18:56:47.510 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2021-07-28 18:56:47.511 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2021-07-28 18:56:47.511 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2021-07-28 18:56:47.511 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2021-07-28 18:56:47.512 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2021-07-28 18:56:47.512 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2021-07-28 18:58:41.324 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2021-07-28 18:58:41.327 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2021-07-28 18:58:41.327 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2021-07-28 18:58:41.429 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2021-07-28 18:58:41.429 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2021-07-28 18:58:41.430 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2021-07-28 18:58:41.431 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2021-07-28 18:58:41.431 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2021-07-28 18:58:41.432 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2021-07-28 18:58:41.432 request id: app - uvicorn.server:serve - Finished server process [9023]
INFO     2021-07-28 18:58:41.433 request id: app - uvicorn.server:serve - Finished server process [9023]
INFO     2021-07-28 18:58:41.433 request id: app - uvicorn.server:serve - Finished server process [9023]
INFO     2021-07-28 18:58:42.386 request id: app - uvicorn.server:serve - Started server process [9033]
INFO     2021-07-28 18:58:42.386 request id: app - uvicorn.server:serve - Started server process [9033]
INFO     2021-07-28 18:58:42.386 request id: app - uvicorn.server:serve - Started server process [9033]
INFO     2021-07-28 18:58:42.387 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2021-07-28 18:58:42.387 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2021-07-28 18:58:42.387 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2021-07-28 18:58:42.388 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2021-07-28 18:58:42.388 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2021-07-28 18:58:42.388 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2021-07-28 18:58:47.504 request id: app - uvicorn.protocols.http.h11_impl:send - 66.249.83.205:0 - "POST /webhook HTTP/1.1" 500
ERROR    2021-07-28 18:58:47.506 request id: app - uvicorn.protocols.http.h11_impl:run_asgi - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 5
               │     └ 8
               └ <function _main at 0x10b97d0d0>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 5
           │    └ <function BaseProcess._bootstrap at 0x10b74fb80>
           └ <SpawnProcess name='SpawnProcess-5' parent=7055 started>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x10b74f1f0>
    └ <SpawnProcess name='SpawnProcess-5' parent=7055 started>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x10b9e5100>, 'target': <bound method Server.run of <uvicorn.server.Server object...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-5' parent=7055 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-5' parent=7055 started>
    │    └ <function subprocess_started at 0x10bfc3670>
    └ <SpawnProcess name='SpawnProcess-5' parent=7055 started>
  File "/Library/Python/3.8/site-packages/uvicorn/subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=4, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 5000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x10b9e51f0>>
  File "/Library/Python/3.8/site-packages/uvicorn/server.py", line 50, in run
    loop.run_until_complete(self.serve(sockets=sockets))
    │    │                  │    │             └ [<socket.socket fd=4, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 5000)>]
    │    │                  │    └ <function Server.serve at 0x10bfbfc10>
    │    │                  └ <uvicorn.server.Server object at 0x10b9e51f0>
    │    └ <function BaseEventLoop.run_until_complete at 0x10bc7c790>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/asyncio/base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x10bc7c700>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/asyncio/base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x10bc7e280>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/asyncio/base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x10bbb1160>
    └ <Handle <TaskWakeupMethWrapper object at 0x10d0a1bb0>(<Future finished result=None>)>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/asyncio/events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x10d0a1bb0>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x10d0a1bb0>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x10d0a1bb0>(<Future finished result=None>)>
> File "/Library/Python/3.8/site-packages/uvicorn/protocols/http/h11_impl.py", line 369, in run_asgi
    result = await app(self.scope, self.receive, self.send)
                   │   │    │      │    │        │    └ <function RequestResponseCycle.send at 0x10c12a310>
                   │   │    │      │    │        └ <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10d0a1e50>
                   │   │    │      │    └ <function RequestResponseCycle.receive at 0x10c12a3a0>
                   │   │    │      └ <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10d0a1e50>
                   │   │    └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
                   │   └ <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10d0a1e50>
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x10c0e2370>
  File "/Library/Python/3.8/site-packages/uvicorn/middleware/proxy_headers.py", line 59, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10d0a1e50>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10d0a1e50>>
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x10c133040>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x10c0e2370>
  File "/Library/Python/3.8/site-packages/fastapi/applications.py", line 199, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10d0a1e50>>
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10d0a1e50>>
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
  File "/Library/Python/3.8/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10d0a1e50>>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10d0a1e50>>
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x10d08ba90>
          └ <fastapi.applications.FastAPI object at 0x10c133040>
  File "/Library/Python/3.8/site-packages/starlette/middleware/errors.py", line 181, in __call__
    raise exc from None
  File "/Library/Python/3.8/site-packages/starlette/middleware/errors.py", line 159, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x10d086f70>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10d0a1e50>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x10d08ba30>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x10d08ba90>
  File "/Library/Python/3.8/site-packages/starlette/middleware/base.py", line 25, in __call__
    response = await self.dispatch_func(request, self.call_next)
                     │    │             │        │    └ <function BaseHTTPMiddleware.call_next at 0x10c5f0940>
                     │    │             │        └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x10d08ba30>
                     │    │             └ <starlette.requests.Request object at 0x10d0a1ee0>
                     │    └ <function add_process_time_header at 0x10d086d30>
                     └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x10d08ba30>

  File "./app/__init__.py", line 65, in add_process_time_header
    response = await call_next(request)
                     │         └ <starlette.requests.Request object at 0x10d0a1ee0>
                     └ <bound method BaseHTTPMiddleware.call_next of <starlette.middleware.base.BaseHTTPMiddleware object at 0x10d08ba30>>

  File "/Library/Python/3.8/site-packages/starlette/middleware/base.py", line 45, in call_next
    task.result()
    │    └ <method 'result' of '_asyncio.Task' objects>
    └ <Task finished name='Task-6' coro=<BaseHTTPMiddleware.call_next.<locals>.coro() done, defined at /Library/Python/3.8/site-pac...
  File "/Library/Python/3.8/site-packages/starlette/middleware/base.py", line 38, in coro
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method Queue.put of <Queue at 0x10d0a1b50 maxsize=0 tasks=1>>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10d0a1e50>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x10d08ba00>
          └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x10d08ba30>
  File "/Library/Python/3.8/site-packages/starlette/middleware/cors.py", line 78, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method Queue.put of <Queue at 0x10d0a1b50 maxsize=0 tasks=1>>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10d0a1e50>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x10d08b9a0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x10d08ba00>
  File "/Library/Python/3.8/site-packages/starlette/exceptions.py", line 82, in __call__
    raise exc from None
  File "/Library/Python/3.8/site-packages/starlette/exceptions.py", line 71, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x10d0b70d0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10d0a1e50>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x10ce1fcd0>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x10d08b9a0>
  File "/Library/Python/3.8/site-packages/starlette/routing.py", line 580, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x10d0b70d0>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10d0a1e50>>
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │     └ <function Route.handle at 0x10c5beaf0>
          └ <fastapi.routing.APIRoute object at 0x10d07e880>
  File "/Library/Python/3.8/site-packages/starlette/routing.py", line 241, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x10d0b70d0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10d0a1e50>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <function request_response.<locals>.app at 0x10d077ca0>
          └ <fastapi.routing.APIRoute object at 0x10d07e880>
  File "/Library/Python/3.8/site-packages/starlette/routing.py", line 52, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x10d0a19d0>
                     └ <function get_request_handler.<locals>.app at 0x10d077c10>
  File "/Library/Python/3.8/site-packages/fastapi/routing.py", line 214, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x10c5a9b80>
  File "/Library/Python/3.8/site-packages/fastapi/routing.py", line 149, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'request': <starlette.requests.Request object at 0x10d0a19d0>}
                 │         └ <function action at 0x10cf47670>
                 └ <fastapi.dependencies.models.Dependant object at 0x10d07e970>

  File "./app/routers/conversation.py", line 10, in action
    return await controller.index(request)
                 │          │     └ <starlette.requests.Request object at 0x10d0a19d0>
                 │          └ <staticmethod object at 0x10ced8b80>
                 └ <class 'app.controllers.Conversation.Conversation'>

  File "./app/controllers/Conversation.py", line 198, in index
    resfull = agent.handle_request(handler)
              │     │              └ <function handler at 0x10cf474c0>
              │     └ <function WebhookClient.handle_request at 0x10cefa8b0>
              └ <dialogflow_fulfillment.webhook_client.WebhookClient object at 0x10d0bf040>

  File "/Library/Python/3.8/site-packages/dialogflow_fulfillment/webhook_client.py", line 271, in handle_request
    return handler_function(self)
           │                └ <dialogflow_fulfillment.webhook_client.WebhookClient object at 0x10d0bf040>
           └ <function handler at 0x10cf474c0>

  File "./app/controllers/Conversation.py", line 161, in handler
    return setOutputPage(agent, page.titleMsg, page.buttonCard, page.page_start, agent.context.get('pagination')['parameters']['category'], dict(contextact)['parameters']['params'])
           │             │      │    │         │    │           │    │           │     │       │                                                 └ {'name': 'projects/evitaes-9k9o/agent/sessions/4ef5d0c7-5c78-3fe0-9464-379951b8af11/contexts/pagination', 'lifespanCount': 1,...
           │             │      │    │         │    │           │    │           │     │       └ <function Context.get at 0x10ceddf70>
           │             │      │    │         │    │           │    │           │     └ <dialogflow_fulfillment.contexts.Context object at 0x10d0bf070>
           │             │      │    │         │    │           │    │           └ <dialogflow_fulfillment.webhook_client.WebhookClient object at 0x10d0bf040>
           │             │      │    │         │    │           │    └ 7
           │             │      │    │         │    │           └ <app.libraries.Pagination.Pagination object at 0x10d0bf340>
           │             │      │    │         │    └ [{'text': '<Previous', 'postback': 'Previous'}]
           │             │      │    │         └ <app.libraries.Pagination.Pagination object at 0x10d0bf340>
           │             │      │    └ 'Silahkan Pilih CC atau cari CC'
           │             │      └ <app.libraries.Pagination.Pagination object at 0x10d0bf340>
           │             └ <dialogflow_fulfillment.webhook_client.WebhookClient object at 0x10d0bf040>
           └ <function setOutputPage at 0x10cf473a0>

  File "./app/controllers/Conversation.py", line 69, in setOutputPage
    titleFin = "Mohon maaf Evita belum mengerti, Evita akan belajar lagi."+page_num
                                                                           └ 7

TypeError: can only concatenate str (not "int") to str
ERROR    2021-07-28 18:58:47.563 request id: app - uvicorn.protocols.http.h11_impl:run_asgi - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 5
               │     └ 8
               └ <function _main at 0x10b97d0d0>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 5
           │    └ <function BaseProcess._bootstrap at 0x10b74fb80>
           └ <SpawnProcess name='SpawnProcess-5' parent=7055 started>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x10b74f1f0>
    └ <SpawnProcess name='SpawnProcess-5' parent=7055 started>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x10b9e5100>, 'target': <bound method Server.run of <uvicorn.server.Server object...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-5' parent=7055 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-5' parent=7055 started>
    │    └ <function subprocess_started at 0x10bfc3670>
    └ <SpawnProcess name='SpawnProcess-5' parent=7055 started>
  File "/Library/Python/3.8/site-packages/uvicorn/subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=4, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 5000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x10b9e51f0>>
  File "/Library/Python/3.8/site-packages/uvicorn/server.py", line 50, in run
    loop.run_until_complete(self.serve(sockets=sockets))
    │    │                  │    │             └ [<socket.socket fd=4, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 5000)>]
    │    │                  │    └ <function Server.serve at 0x10bfbfc10>
    │    │                  └ <uvicorn.server.Server object at 0x10b9e51f0>
    │    └ <function BaseEventLoop.run_until_complete at 0x10bc7c790>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/asyncio/base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x10bc7c700>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/asyncio/base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x10bc7e280>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/asyncio/base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x10bbb1160>
    └ <Handle <TaskWakeupMethWrapper object at 0x10d0a1bb0>(<Future finished result=None>)>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/asyncio/events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x10d0a1bb0>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x10d0a1bb0>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x10d0a1bb0>(<Future finished result=None>)>
> File "/Library/Python/3.8/site-packages/uvicorn/protocols/http/h11_impl.py", line 369, in run_asgi
    result = await app(self.scope, self.receive, self.send)
                   │   │    │      │    │        │    └ <function RequestResponseCycle.send at 0x10c12a310>
                   │   │    │      │    │        └ <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10d0a1e50>
                   │   │    │      │    └ <function RequestResponseCycle.receive at 0x10c12a3a0>
                   │   │    │      └ <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10d0a1e50>
                   │   │    └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
                   │   └ <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10d0a1e50>
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x10c0e2370>
  File "/Library/Python/3.8/site-packages/uvicorn/middleware/proxy_headers.py", line 59, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10d0a1e50>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10d0a1e50>>
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x10c133040>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x10c0e2370>
  File "/Library/Python/3.8/site-packages/fastapi/applications.py", line 199, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10d0a1e50>>
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10d0a1e50>>
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
  File "/Library/Python/3.8/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10d0a1e50>>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10d0a1e50>>
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x10d08ba90>
          └ <fastapi.applications.FastAPI object at 0x10c133040>
  File "/Library/Python/3.8/site-packages/starlette/middleware/errors.py", line 181, in __call__
    raise exc from None
  File "/Library/Python/3.8/site-packages/starlette/middleware/errors.py", line 159, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x10d086f70>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10d0a1e50>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x10d08ba30>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x10d08ba90>
  File "/Library/Python/3.8/site-packages/starlette/middleware/base.py", line 25, in __call__
    response = await self.dispatch_func(request, self.call_next)
                     │    │             │        │    └ <function BaseHTTPMiddleware.call_next at 0x10c5f0940>
                     │    │             │        └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x10d08ba30>
                     │    │             └ <starlette.requests.Request object at 0x10d0a1ee0>
                     │    └ <function add_process_time_header at 0x10d086d30>
                     └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x10d08ba30>

  File "./app/__init__.py", line 65, in add_process_time_header
    response = await call_next(request)
                     │         └ <starlette.requests.Request object at 0x10d0a1ee0>
                     └ <bound method BaseHTTPMiddleware.call_next of <starlette.middleware.base.BaseHTTPMiddleware object at 0x10d08ba30>>

  File "/Library/Python/3.8/site-packages/starlette/middleware/base.py", line 45, in call_next
    task.result()
    │    └ <method 'result' of '_asyncio.Task' objects>
    └ <Task finished name='Task-6' coro=<BaseHTTPMiddleware.call_next.<locals>.coro() done, defined at /Library/Python/3.8/site-pac...
  File "/Library/Python/3.8/site-packages/starlette/middleware/base.py", line 38, in coro
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method Queue.put of <Queue at 0x10d0a1b50 maxsize=0 tasks=1>>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10d0a1e50>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x10d08ba00>
          └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x10d08ba30>
  File "/Library/Python/3.8/site-packages/starlette/middleware/cors.py", line 78, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method Queue.put of <Queue at 0x10d0a1b50 maxsize=0 tasks=1>>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10d0a1e50>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x10d08b9a0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x10d08ba00>
  File "/Library/Python/3.8/site-packages/starlette/exceptions.py", line 82, in __call__
    raise exc from None
  File "/Library/Python/3.8/site-packages/starlette/exceptions.py", line 71, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x10d0b70d0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10d0a1e50>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x10ce1fcd0>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x10d08b9a0>
  File "/Library/Python/3.8/site-packages/starlette/routing.py", line 580, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x10d0b70d0>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10d0a1e50>>
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │     └ <function Route.handle at 0x10c5beaf0>
          └ <fastapi.routing.APIRoute object at 0x10d07e880>
  File "/Library/Python/3.8/site-packages/starlette/routing.py", line 241, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x10d0b70d0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10d0a1e50>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <function request_response.<locals>.app at 0x10d077ca0>
          └ <fastapi.routing.APIRoute object at 0x10d07e880>
  File "/Library/Python/3.8/site-packages/starlette/routing.py", line 52, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x10d0a19d0>
                     └ <function get_request_handler.<locals>.app at 0x10d077c10>
  File "/Library/Python/3.8/site-packages/fastapi/routing.py", line 214, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x10c5a9b80>
  File "/Library/Python/3.8/site-packages/fastapi/routing.py", line 149, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'request': <starlette.requests.Request object at 0x10d0a19d0>}
                 │         └ <function action at 0x10cf47670>
                 └ <fastapi.dependencies.models.Dependant object at 0x10d07e970>

  File "./app/routers/conversation.py", line 10, in action
    return await controller.index(request)
                 │          │     └ <starlette.requests.Request object at 0x10d0a19d0>
                 │          └ <staticmethod object at 0x10ced8b80>
                 └ <class 'app.controllers.Conversation.Conversation'>

  File "./app/controllers/Conversation.py", line 198, in index
    resfull = agent.handle_request(handler)
              │     │              └ <function handler at 0x10cf474c0>
              │     └ <function WebhookClient.handle_request at 0x10cefa8b0>
              └ <dialogflow_fulfillment.webhook_client.WebhookClient object at 0x10d0bf040>

  File "/Library/Python/3.8/site-packages/dialogflow_fulfillment/webhook_client.py", line 271, in handle_request
    return handler_function(self)
           │                └ <dialogflow_fulfillment.webhook_client.WebhookClient object at 0x10d0bf040>
           └ <function handler at 0x10cf474c0>

  File "./app/controllers/Conversation.py", line 161, in handler
    return setOutputPage(agent, page.titleMsg, page.buttonCard, page.page_start, agent.context.get('pagination')['parameters']['category'], dict(contextact)['parameters']['params'])
           │             │      │    │         │    │           │    │           │     │       │                                                 └ {'name': 'projects/evitaes-9k9o/agent/sessions/4ef5d0c7-5c78-3fe0-9464-379951b8af11/contexts/pagination', 'lifespanCount': 1,...
           │             │      │    │         │    │           │    │           │     │       └ <function Context.get at 0x10ceddf70>
           │             │      │    │         │    │           │    │           │     └ <dialogflow_fulfillment.contexts.Context object at 0x10d0bf070>
           │             │      │    │         │    │           │    │           └ <dialogflow_fulfillment.webhook_client.WebhookClient object at 0x10d0bf040>
           │             │      │    │         │    │           │    └ 7
           │             │      │    │         │    │           └ <app.libraries.Pagination.Pagination object at 0x10d0bf340>
           │             │      │    │         │    └ [{'text': '<Previous', 'postback': 'Previous'}]
           │             │      │    │         └ <app.libraries.Pagination.Pagination object at 0x10d0bf340>
           │             │      │    └ 'Silahkan Pilih CC atau cari CC'
           │             │      └ <app.libraries.Pagination.Pagination object at 0x10d0bf340>
           │             └ <dialogflow_fulfillment.webhook_client.WebhookClient object at 0x10d0bf040>
           └ <function setOutputPage at 0x10cf473a0>

  File "./app/controllers/Conversation.py", line 69, in setOutputPage
    titleFin = "Mohon maaf Evita belum mengerti, Evita akan belajar lagi."+page_num
                                                                           └ 7

TypeError: can only concatenate str (not "int") to str
ERROR    2021-07-28 18:58:47.579 request id: app - uvicorn.protocols.http.h11_impl:run_asgi - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 5
               │     └ 8
               └ <function _main at 0x10b97d0d0>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 5
           │    └ <function BaseProcess._bootstrap at 0x10b74fb80>
           └ <SpawnProcess name='SpawnProcess-5' parent=7055 started>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x10b74f1f0>
    └ <SpawnProcess name='SpawnProcess-5' parent=7055 started>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x10b9e5100>, 'target': <bound method Server.run of <uvicorn.server.Server object...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-5' parent=7055 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-5' parent=7055 started>
    │    └ <function subprocess_started at 0x10bfc3670>
    └ <SpawnProcess name='SpawnProcess-5' parent=7055 started>
  File "/Library/Python/3.8/site-packages/uvicorn/subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=4, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 5000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x10b9e51f0>>
  File "/Library/Python/3.8/site-packages/uvicorn/server.py", line 50, in run
    loop.run_until_complete(self.serve(sockets=sockets))
    │    │                  │    │             └ [<socket.socket fd=4, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 5000)>]
    │    │                  │    └ <function Server.serve at 0x10bfbfc10>
    │    │                  └ <uvicorn.server.Server object at 0x10b9e51f0>
    │    └ <function BaseEventLoop.run_until_complete at 0x10bc7c790>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/asyncio/base_events.py", line 603, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x10bc7c700>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/asyncio/base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x10bc7e280>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/asyncio/base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x10bbb1160>
    └ <Handle <TaskWakeupMethWrapper object at 0x10d0a1bb0>(<Future finished result=None>)>
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/asyncio/events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x10d0a1bb0>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x10d0a1bb0>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x10d0a1bb0>(<Future finished result=None>)>
> File "/Library/Python/3.8/site-packages/uvicorn/protocols/http/h11_impl.py", line 369, in run_asgi
    result = await app(self.scope, self.receive, self.send)
                   │   │    │      │    │        │    └ <function RequestResponseCycle.send at 0x10c12a310>
                   │   │    │      │    │        └ <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10d0a1e50>
                   │   │    │      │    └ <function RequestResponseCycle.receive at 0x10c12a3a0>
                   │   │    │      └ <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10d0a1e50>
                   │   │    └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
                   │   └ <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10d0a1e50>
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x10c0e2370>
  File "/Library/Python/3.8/site-packages/uvicorn/middleware/proxy_headers.py", line 59, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10d0a1e50>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10d0a1e50>>
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x10c133040>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x10c0e2370>
  File "/Library/Python/3.8/site-packages/fastapi/applications.py", line 199, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10d0a1e50>>
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10d0a1e50>>
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
  File "/Library/Python/3.8/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10d0a1e50>>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10d0a1e50>>
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x10d08ba90>
          └ <fastapi.applications.FastAPI object at 0x10c133040>
  File "/Library/Python/3.8/site-packages/starlette/middleware/errors.py", line 181, in __call__
    raise exc from None
  File "/Library/Python/3.8/site-packages/starlette/middleware/errors.py", line 159, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x10d086f70>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10d0a1e50>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x10d08ba30>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x10d08ba90>
  File "/Library/Python/3.8/site-packages/starlette/middleware/base.py", line 25, in __call__
    response = await self.dispatch_func(request, self.call_next)
                     │    │             │        │    └ <function BaseHTTPMiddleware.call_next at 0x10c5f0940>
                     │    │             │        └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x10d08ba30>
                     │    │             └ <starlette.requests.Request object at 0x10d0a1ee0>
                     │    └ <function add_process_time_header at 0x10d086d30>
                     └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x10d08ba30>

  File "./app/__init__.py", line 65, in add_process_time_header
    response = await call_next(request)
                     │         └ <starlette.requests.Request object at 0x10d0a1ee0>
                     └ <bound method BaseHTTPMiddleware.call_next of <starlette.middleware.base.BaseHTTPMiddleware object at 0x10d08ba30>>

  File "/Library/Python/3.8/site-packages/starlette/middleware/base.py", line 45, in call_next
    task.result()
    │    └ <method 'result' of '_asyncio.Task' objects>
    └ <Task finished name='Task-6' coro=<BaseHTTPMiddleware.call_next.<locals>.coro() done, defined at /Library/Python/3.8/site-pac...
  File "/Library/Python/3.8/site-packages/starlette/middleware/base.py", line 38, in coro
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method Queue.put of <Queue at 0x10d0a1b50 maxsize=0 tasks=1>>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10d0a1e50>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x10d08ba00>
          └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x10d08ba30>
  File "/Library/Python/3.8/site-packages/starlette/middleware/cors.py", line 78, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method Queue.put of <Queue at 0x10d0a1b50 maxsize=0 tasks=1>>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10d0a1e50>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x10d08b9a0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x10d08ba00>
  File "/Library/Python/3.8/site-packages/starlette/exceptions.py", line 82, in __call__
    raise exc from None
  File "/Library/Python/3.8/site-packages/starlette/exceptions.py", line 71, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x10d0b70d0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10d0a1e50>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x10ce1fcd0>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x10d08b9a0>
  File "/Library/Python/3.8/site-packages/starlette/routing.py", line 580, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x10d0b70d0>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10d0a1e50>>
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │     └ <function Route.handle at 0x10c5beaf0>
          └ <fastapi.routing.APIRoute object at 0x10d07e880>
  File "/Library/Python/3.8/site-packages/starlette/routing.py", line 241, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x10d0b70d0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10d0a1e50>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5000), 'cl...
          │    └ <function request_response.<locals>.app at 0x10d077ca0>
          └ <fastapi.routing.APIRoute object at 0x10d07e880>
  File "/Library/Python/3.8/site-packages/starlette/routing.py", line 52, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x10d0a19d0>
                     └ <function get_request_handler.<locals>.app at 0x10d077c10>
  File "/Library/Python/3.8/site-packages/fastapi/routing.py", line 214, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x10c5a9b80>
  File "/Library/Python/3.8/site-packages/fastapi/routing.py", line 149, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'request': <starlette.requests.Request object at 0x10d0a19d0>}
                 │         └ <function action at 0x10cf47670>
                 └ <fastapi.dependencies.models.Dependant object at 0x10d07e970>

  File "./app/routers/conversation.py", line 10, in action
    return await controller.index(request)
                 │          │     └ <starlette.requests.Request object at 0x10d0a19d0>
                 │          └ <staticmethod object at 0x10ced8b80>
                 └ <class 'app.controllers.Conversation.Conversation'>

  File "./app/controllers/Conversation.py", line 198, in index
    resfull = agent.handle_request(handler)
              │     │              └ <function handler at 0x10cf474c0>
              │     └ <function WebhookClient.handle_request at 0x10cefa8b0>
              └ <dialogflow_fulfillment.webhook_client.WebhookClient object at 0x10d0bf040>

  File "/Library/Python/3.8/site-packages/dialogflow_fulfillment/webhook_client.py", line 271, in handle_request
    return handler_function(self)
           │                └ <dialogflow_fulfillment.webhook_client.WebhookClient object at 0x10d0bf040>
           └ <function handler at 0x10cf474c0>

  File "./app/controllers/Conversation.py", line 161, in handler
    return setOutputPage(agent, page.titleMsg, page.buttonCard, page.page_start, agent.context.get('pagination')['parameters']['category'], dict(contextact)['parameters']['params'])
           │             │      │    │         │    │           │    │           │     │       │                                                 └ {'name': 'projects/evitaes-9k9o/agent/sessions/4ef5d0c7-5c78-3fe0-9464-379951b8af11/contexts/pagination', 'lifespanCount': 1,...
           │             │      │    │         │    │           │    │           │     │       └ <function Context.get at 0x10ceddf70>
           │             │      │    │         │    │           │    │           │     └ <dialogflow_fulfillment.contexts.Context object at 0x10d0bf070>
           │             │      │    │         │    │           │    │           └ <dialogflow_fulfillment.webhook_client.WebhookClient object at 0x10d0bf040>
           │             │      │    │         │    │           │    └ 7
           │             │      │    │         │    │           └ <app.libraries.Pagination.Pagination object at 0x10d0bf340>
           │             │      │    │         │    └ [{'text': '<Previous', 'postback': 'Previous'}]
           │             │      │    │         └ <app.libraries.Pagination.Pagination object at 0x10d0bf340>
           │             │      │    └ 'Silahkan Pilih CC atau cari CC'
           │             │      └ <app.libraries.Pagination.Pagination object at 0x10d0bf340>
           │             └ <dialogflow_fulfillment.webhook_client.WebhookClient object at 0x10d0bf040>
           └ <function setOutputPage at 0x10cf473a0>

  File "./app/controllers/Conversation.py", line 69, in setOutputPage
    titleFin = "Mohon maaf Evita belum mengerti, Evita akan belajar lagi."+page_num
                                                                           └ 7

TypeError: can only concatenate str (not "int") to str
INFO     2021-07-28 18:59:19.710 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2021-07-28 18:59:19.714 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2021-07-28 18:59:19.715 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2021-07-28 18:59:19.820 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2021-07-28 18:59:19.820 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2021-07-28 18:59:19.821 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2021-07-28 18:59:19.822 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2021-07-28 18:59:19.822 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2021-07-28 18:59:19.822 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2021-07-28 18:59:19.822 request id: app - uvicorn.server:serve - Finished server process [9033]
INFO     2021-07-28 18:59:19.822 request id: app - uvicorn.server:serve - Finished server process [9033]
INFO     2021-07-28 18:59:19.823 request id: app - uvicorn.server:serve - Finished server process [9033]
INFO     2021-07-28 18:59:20.706 request id: app - uvicorn.server:serve - Started server process [9041]
INFO     2021-07-28 18:59:20.707 request id: app - uvicorn.server:serve - Started server process [9041]
INFO     2021-07-28 18:59:20.707 request id: app - uvicorn.server:serve - Started server process [9041]
INFO     2021-07-28 18:59:20.707 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2021-07-28 18:59:20.707 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2021-07-28 18:59:20.708 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2021-07-28 18:59:20.709 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2021-07-28 18:59:20.709 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2021-07-28 18:59:20.710 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2021-07-28 18:59:23.797 request id: app - uvicorn.protocols.http.h11_impl:send - 66.249.83.221:0 - "POST /webhook HTTP/1.1" 200
INFO     2021-07-28 18:59:35.360 request id: app - uvicorn.protocols.http.h11_impl:send - 66.249.83.219:0 - "POST /webhook HTTP/1.1" 200
INFO     2021-07-28 18:59:39.041 request id: app - uvicorn.protocols.http.h11_impl:send - 66.249.83.219:0 - "POST /webhook HTTP/1.1" 200
INFO     2021-07-28 18:59:41.680 request id: app - uvicorn.protocols.http.h11_impl:send - 66.249.83.203:0 - "POST /webhook HTTP/1.1" 200
INFO     2021-07-28 18:59:56.131 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2021-07-28 18:59:56.132 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2021-07-28 18:59:56.132 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2021-07-28 18:59:56.237 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2021-07-28 18:59:56.238 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2021-07-28 18:59:56.238 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2021-07-28 18:59:56.239 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2021-07-28 18:59:56.239 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2021-07-28 18:59:56.240 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2021-07-28 18:59:56.240 request id: app - uvicorn.server:serve - Finished server process [9041]
INFO     2021-07-28 18:59:56.240 request id: app - uvicorn.server:serve - Finished server process [9041]
INFO     2021-07-28 18:59:56.240 request id: app - uvicorn.server:serve - Finished server process [9041]
INFO     2021-07-28 18:59:57.028 request id: app - uvicorn.server:serve - Started server process [9045]
INFO     2021-07-28 18:59:57.030 request id: app - uvicorn.server:serve - Started server process [9045]
INFO     2021-07-28 18:59:57.030 request id: app - uvicorn.server:serve - Started server process [9045]
INFO     2021-07-28 18:59:57.030 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2021-07-28 18:59:57.030 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2021-07-28 18:59:57.030 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2021-07-28 18:59:57.032 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2021-07-28 18:59:57.032 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2021-07-28 18:59:57.032 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2021-07-28 18:59:59.994 request id: app - uvicorn.protocols.http.h11_impl:send - 66.249.83.212:0 - "POST /webhook HTTP/1.1" 200
INFO     2021-07-28 19:00:07.629 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2021-07-28 19:00:07.630 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2021-07-28 19:00:07.630 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2021-07-28 19:00:07.736 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2021-07-28 19:00:07.736 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2021-07-28 19:00:07.736 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2021-07-28 19:00:07.737 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2021-07-28 19:00:07.738 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2021-07-28 19:00:07.738 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2021-07-28 19:00:07.738 request id: app - uvicorn.server:serve - Finished server process [9045]
INFO     2021-07-28 19:00:07.738 request id: app - uvicorn.server:serve - Finished server process [9045]
INFO     2021-07-28 19:00:07.739 request id: app - uvicorn.server:serve - Finished server process [9045]
INFO     2021-07-28 19:00:08.626 request id: app - uvicorn.server:serve - Started server process [9050]
INFO     2021-07-28 19:00:08.627 request id: app - uvicorn.server:serve - Started server process [9050]
INFO     2021-07-28 19:00:08.627 request id: app - uvicorn.server:serve - Started server process [9050]
INFO     2021-07-28 19:00:08.627 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2021-07-28 19:00:08.627 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2021-07-28 19:00:08.627 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2021-07-28 19:00:08.628 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2021-07-28 19:00:08.628 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2021-07-28 19:00:08.628 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2021-07-28 19:00:12.787 request id: app - uvicorn.protocols.http.h11_impl:send - 66.249.83.216:0 - "POST /webhook HTTP/1.1" 200
INFO     2021-07-28 19:01:00.213 request id: app - uvicorn.protocols.http.h11_impl:send - 66.249.83.221:0 - "POST /webhook HTTP/1.1" 200
INFO     2021-07-28 19:05:57.732 request id: app - uvicorn.protocols.http.h11_impl:send - 66.249.83.220:0 - "POST /webhook HTTP/1.1" 200
INFO     2021-07-28 19:06:05.609 request id: app - uvicorn.protocols.http.h11_impl:send - 66.249.83.212:0 - "POST /webhook HTTP/1.1" 200
INFO     2021-07-28 19:06:38.754 request id: app - uvicorn.protocols.http.h11_impl:send - 66.249.83.209:0 - "POST /webhook HTTP/1.1" 200
INFO     2021-07-28 19:08:11.139 request id: app - uvicorn.protocols.http.h11_impl:send - 66.249.83.218:0 - "POST /webhook HTTP/1.1" 200
INFO     2021-07-28 19:08:14.062 request id: app - uvicorn.protocols.http.h11_impl:send - 66.249.83.221:0 - "POST /webhook HTTP/1.1" 200
INFO     2021-07-28 19:08:16.968 request id: app - uvicorn.protocols.http.h11_impl:send - 66.249.83.223:0 - "POST /webhook HTTP/1.1" 200
INFO     2021-07-28 19:11:09.716 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2021-07-28 19:11:09.717 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2021-07-28 19:11:09.718 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2021-07-28 19:11:09.819 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2021-07-28 19:11:09.819 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2021-07-28 19:11:09.820 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2021-07-28 19:11:09.824 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2021-07-28 19:11:09.824 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2021-07-28 19:11:09.825 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2021-07-28 19:11:09.828 request id: app - uvicorn.server:serve - Finished server process [9050]
INFO     2021-07-28 19:11:09.828 request id: app - uvicorn.server:serve - Finished server process [9050]
INFO     2021-07-28 19:11:09.829 request id: app - uvicorn.server:serve - Finished server process [9050]
INFO     2021-07-28 19:11:10.808 request id: app - uvicorn.server:serve - Started server process [9123]
INFO     2021-07-28 19:11:10.808 request id: app - uvicorn.server:serve - Started server process [9123]
INFO     2021-07-28 19:11:10.808 request id: app - uvicorn.server:serve - Started server process [9123]
INFO     2021-07-28 19:11:10.808 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2021-07-28 19:11:10.808 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2021-07-28 19:11:10.809 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2021-07-28 19:11:10.809 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2021-07-28 19:11:10.809 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2021-07-28 19:11:10.810 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2021-07-28 19:11:15.779 request id: app - uvicorn.protocols.http.h11_impl:send - 66.249.83.218:0 - "POST /webhook HTTP/1.1" 200
INFO     2021-07-28 19:11:19.253 request id: app - uvicorn.protocols.http.h11_impl:send - 66.249.83.219:0 - "POST /webhook HTTP/1.1" 200
INFO     2021-07-28 19:11:54.395 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2021-07-28 19:11:54.396 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2021-07-28 19:11:54.396 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2021-07-28 19:11:54.501 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2021-07-28 19:11:54.502 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2021-07-28 19:11:54.502 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2021-07-28 19:11:54.503 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2021-07-28 19:11:54.504 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2021-07-28 19:11:54.504 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2021-07-28 19:11:54.504 request id: app - uvicorn.server:serve - Finished server process [9123]
INFO     2021-07-28 19:11:54.505 request id: app - uvicorn.server:serve - Finished server process [9123]
INFO     2021-07-28 19:11:54.505 request id: app - uvicorn.server:serve - Finished server process [9123]
INFO     2021-07-28 19:11:55.063 request id: app - uvicorn.server:serve - Started server process [9138]
INFO     2021-07-28 19:11:55.064 request id: app - uvicorn.server:serve - Started server process [9138]
INFO     2021-07-28 19:11:55.064 request id: app - uvicorn.server:serve - Started server process [9138]
INFO     2021-07-28 19:11:55.064 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2021-07-28 19:11:55.064 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2021-07-28 19:11:55.064 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2021-07-28 19:11:55.065 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2021-07-28 19:11:55.065 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2021-07-28 19:11:55.065 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2021-07-28 19:12:02.580 request id: app - uvicorn.protocols.http.h11_impl:send - 66.249.83.214:0 - "POST /webhook HTTP/1.1" 200
INFO     2021-07-28 19:12:05.427 request id: app - uvicorn.protocols.http.h11_impl:send - 66.249.83.219:0 - "POST /webhook HTTP/1.1" 200
INFO     2021-07-28 19:12:23.452 request id: app - uvicorn.protocols.http.h11_impl:send - 64.233.172.140:0 - "POST /webhook HTTP/1.1" 200
INFO     2021-07-28 19:12:26.728 request id: app - uvicorn.protocols.http.h11_impl:send - 64.233.172.146:0 - "POST /webhook HTTP/1.1" 200
INFO     2021-07-28 19:12:33.701 request id: app - uvicorn.protocols.http.h11_impl:send - 64.233.172.146:0 - "POST /webhook HTTP/1.1" 200
INFO     2021-07-28 19:12:44.668 request id: app - uvicorn.protocols.http.h11_impl:send - 64.233.172.130:0 - "POST /webhook HTTP/1.1" 200
INFO     2021-07-28 19:13:13.787 request id: app - uvicorn.protocols.http.h11_impl:send - 66.249.83.220:0 - "POST /webhook HTTP/1.1" 200
INFO     2021-07-28 19:14:10.512 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2021-07-28 19:14:10.514 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2021-07-28 19:14:10.514 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2021-07-28 19:14:10.620 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2021-07-28 19:14:10.621 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2021-07-28 19:14:10.622 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2021-07-28 19:14:10.626 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2021-07-28 19:14:10.627 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2021-07-28 19:14:10.627 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2021-07-28 19:14:10.628 request id: app - uvicorn.server:serve - Finished server process [9138]
INFO     2021-07-28 19:14:10.628 request id: app - uvicorn.server:serve - Finished server process [9138]
INFO     2021-07-28 19:14:10.628 request id: app - uvicorn.server:serve - Finished server process [9138]
INFO     2021-07-28 19:14:11.579 request id: app - uvicorn.server:serve - Started server process [9148]
INFO     2021-07-28 19:14:11.579 request id: app - uvicorn.server:serve - Started server process [9148]
INFO     2021-07-28 19:14:11.579 request id: app - uvicorn.server:serve - Started server process [9148]
INFO     2021-07-28 19:14:11.580 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2021-07-28 19:14:11.580 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2021-07-28 19:14:11.580 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2021-07-28 19:14:11.580 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2021-07-28 19:14:11.581 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2021-07-28 19:14:11.581 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2021-07-28 19:14:14.706 request id: app - uvicorn.protocols.http.h11_impl:send - 66.249.83.209:0 - "POST /webhook HTTP/1.1" 200
INFO     2021-07-28 19:14:23.837 request id: app - uvicorn.protocols.http.h11_impl:send - 66.249.83.223:0 - "POST /webhook HTTP/1.1" 200
INFO     2021-07-28 19:14:27.152 request id: app - uvicorn.protocols.http.h11_impl:send - 66.249.83.214:0 - "POST /webhook HTTP/1.1" 200
INFO     2021-07-28 19:18:54.269 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2021-07-28 19:18:54.270 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2021-07-28 19:18:54.270 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2021-07-28 19:18:54.376 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2021-07-28 19:18:54.376 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2021-07-28 19:18:54.376 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2021-07-28 19:18:54.377 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2021-07-28 19:18:54.378 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2021-07-28 19:18:54.378 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2021-07-28 19:18:54.378 request id: app - uvicorn.server:serve - Finished server process [9148]
INFO     2021-07-28 19:18:54.378 request id: app - uvicorn.server:serve - Finished server process [9148]
INFO     2021-07-28 19:18:54.378 request id: app - uvicorn.server:serve - Finished server process [9148]
INFO     2021-07-28 19:18:55.243 request id: app - uvicorn.server:serve - Started server process [9183]
INFO     2021-07-28 19:18:55.243 request id: app - uvicorn.server:serve - Started server process [9183]
INFO     2021-07-28 19:18:55.243 request id: app - uvicorn.server:serve - Started server process [9183]
INFO     2021-07-28 19:18:55.243 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2021-07-28 19:18:55.243 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2021-07-28 19:18:55.244 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2021-07-28 19:18:55.244 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2021-07-28 19:18:55.244 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2021-07-28 19:18:55.244 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2021-07-28 19:19:06.240 request id: app - uvicorn.protocols.http.h11_impl:send - 66.249.83.218:0 - "POST /webhook HTTP/1.1" 200
INFO     2021-07-28 19:19:09.355 request id: app - uvicorn.protocols.http.h11_impl:send - 66.249.83.218:0 - "POST /webhook HTTP/1.1" 200
INFO     2021-07-28 19:19:14.390 request id: app - uvicorn.protocols.http.h11_impl:send - 66.249.83.218:0 - "POST /webhook HTTP/1.1" 200
INFO     2021-07-28 19:19:19.237 request id: app - uvicorn.protocols.http.h11_impl:send - 66.249.83.216:0 - "POST /webhook HTTP/1.1" 200
INFO     2021-07-28 19:19:24.211 request id: app - uvicorn.protocols.http.h11_impl:send - 66.249.83.214:0 - "POST /webhook HTTP/1.1" 200
INFO     2021-07-28 19:19:49.814 request id: app - uvicorn.protocols.http.h11_impl:send - 66.249.83.218:0 - "POST /webhook HTTP/1.1" 200
INFO     2021-07-28 19:19:53.691 request id: app - uvicorn.protocols.http.h11_impl:send - 66.249.83.218:0 - "POST /webhook HTTP/1.1" 200
INFO     2021-07-28 19:20:00.141 request id: app - uvicorn.protocols.http.h11_impl:send - 66.249.83.219:0 - "POST /webhook HTTP/1.1" 200
INFO     2021-07-28 19:20:04.189 request id: app - uvicorn.protocols.http.h11_impl:send - 66.249.83.221:0 - "POST /webhook HTTP/1.1" 200
INFO     2021-07-28 19:20:14.493 request id: app - uvicorn.protocols.http.h11_impl:send - 66.249.83.220:0 - "POST /webhook HTTP/1.1" 200
INFO     2021-07-28 19:20:24.031 request id: app - uvicorn.protocols.http.h11_impl:send - 66.249.83.205:0 - "POST /webhook HTTP/1.1" 200
INFO     2021-07-28 19:20:30.369 request id: app - uvicorn.protocols.http.h11_impl:send - 66.249.83.220:0 - "POST /webhook HTTP/1.1" 200
INFO     2021-07-28 19:20:35.176 request id: app - uvicorn.protocols.http.h11_impl:send - 66.249.83.219:0 - "POST /webhook HTTP/1.1" 200
INFO     2021-07-28 19:20:40.903 request id: app - uvicorn.protocols.http.h11_impl:send - 66.249.83.209:0 - "POST /webhook HTTP/1.1" 200
INFO     2021-07-28 19:20:43.738 request id: app - uvicorn.protocols.http.h11_impl:send - 66.249.83.216:0 - "POST /webhook HTTP/1.1" 200
INFO     2021-07-28 19:20:47.867 request id: app - uvicorn.protocols.http.h11_impl:send - 66.249.83.205:0 - "POST /webhook HTTP/1.1" 200
INFO     2021-07-28 19:20:50.832 request id: app - uvicorn.protocols.http.h11_impl:send - 66.249.83.214:0 - "POST /webhook HTTP/1.1" 200
INFO     2021-07-28 19:20:54.322 request id: app - uvicorn.protocols.http.h11_impl:send - 66.249.83.216:0 - "POST /webhook HTTP/1.1" 200
INFO     2021-07-28 19:21:00.052 request id: app - uvicorn.protocols.http.h11_impl:send - 66.249.83.218:0 - "POST /webhook HTTP/1.1" 200
INFO     2021-07-28 19:21:24.305 request id: app - uvicorn.protocols.http.h11_impl:send - 66.249.83.220:0 - "POST /webhook HTTP/1.1" 200
INFO     2021-07-28 19:21:34.057 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2021-07-28 19:21:34.062 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2021-07-28 19:21:34.062 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2021-07-28 19:21:34.165 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2021-07-28 19:21:34.165 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2021-07-28 19:21:34.166 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2021-07-28 19:21:34.167 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2021-07-28 19:21:34.167 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2021-07-28 19:21:34.167 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2021-07-28 19:21:34.168 request id: app - uvicorn.server:serve - Finished server process [9183]
INFO     2021-07-28 19:21:34.168 request id: app - uvicorn.server:serve - Finished server process [9183]
INFO     2021-07-28 19:21:34.168 request id: app - uvicorn.server:serve - Finished server process [9183]
INFO     2021-07-28 19:21:34.822 request id: app - uvicorn.server:serve - Started server process [9198]
INFO     2021-07-28 19:21:34.823 request id: app - uvicorn.server:serve - Started server process [9198]
INFO     2021-07-28 19:21:34.823 request id: app - uvicorn.server:serve - Started server process [9198]
INFO     2021-07-28 19:21:34.823 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2021-07-28 19:21:34.823 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2021-07-28 19:21:34.823 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2021-07-28 19:21:34.824 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2021-07-28 19:21:34.824 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2021-07-28 19:21:34.824 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2021-07-28 19:23:56.636 request id: app - uvicorn.protocols.http.h11_impl:send - 66.249.83.219:0 - "POST /webhook HTTP/1.1" 200
INFO     2021-07-28 19:24:03.144 request id: app - uvicorn.protocols.http.h11_impl:send - 66.249.83.219:0 - "POST /webhook HTTP/1.1" 200
INFO     2021-07-28 19:24:13.406 request id: app - uvicorn.protocols.http.h11_impl:send - 66.249.83.223:0 - "POST /webhook HTTP/1.1" 200
INFO     2021-07-28 19:24:18.397 request id: app - uvicorn.protocols.http.h11_impl:send - 66.249.83.219:0 - "POST /webhook HTTP/1.1" 200
INFO     2021-07-28 19:24:25.679 request id: app - uvicorn.protocols.http.h11_impl:send - 66.249.83.218:0 - "POST /webhook HTTP/1.1" 200
INFO     2021-07-28 19:24:33.353 request id: app - uvicorn.protocols.http.h11_impl:send - 66.249.83.218:0 - "POST /webhook HTTP/1.1" 200
INFO     2021-07-28 19:24:39.329 request id: app - uvicorn.protocols.http.h11_impl:send - 66.249.83.220:0 - "POST /webhook HTTP/1.1" 200
INFO     2021-07-28 19:24:46.145 request id: app - uvicorn.protocols.http.h11_impl:send - 66.249.83.218:0 - "POST /webhook HTTP/1.1" 200
INFO     2021-07-28 19:24:50.039 request id: app - uvicorn.protocols.http.h11_impl:send - 66.249.83.219:0 - "POST /webhook HTTP/1.1" 200
INFO     2021-07-28 19:24:54.368 request id: app - uvicorn.protocols.http.h11_impl:send - 66.249.83.220:0 - "POST /webhook HTTP/1.1" 200
INFO     2021-07-28 19:24:58.133 request id: app - uvicorn.protocols.http.h11_impl:send - 66.249.83.218:0 - "POST /webhook HTTP/1.1" 200
INFO     2021-07-28 19:25:08.381 request id: app - uvicorn.protocols.http.h11_impl:send - 66.249.83.219:0 - "POST /webhook HTTP/1.1" 200
INFO     2021-07-28 19:25:14.414 request id: app - uvicorn.protocols.http.h11_impl:send - 66.249.83.221:0 - "POST /webhook HTTP/1.1" 200
INFO     2021-07-28 19:25:17.587 request id: app - uvicorn.protocols.http.h11_impl:send - 66.249.83.218:0 - "POST /webhook HTTP/1.1" 200
INFO     2021-07-28 19:25:24.562 request id: app - uvicorn.protocols.http.h11_impl:send - 66.249.83.214:0 - "POST /webhook HTTP/1.1" 200
INFO     2021-07-28 19:25:28.239 request id: app - uvicorn.protocols.http.h11_impl:send - 66.249.83.219:0 - "POST /webhook HTTP/1.1" 200
INFO     2021-07-28 19:25:35.424 request id: app - uvicorn.protocols.http.h11_impl:send - 66.249.83.218:0 - "POST /webhook HTTP/1.1" 200
INFO     2021-07-28 19:25:39.885 request id: app - uvicorn.protocols.http.h11_impl:send - 66.249.83.216:0 - "POST /webhook HTTP/1.1" 200
INFO     2021-07-28 19:25:46.352 request id: app - uvicorn.protocols.http.h11_impl:send - 66.249.83.212:0 - "POST /webhook HTTP/1.1" 200
INFO     2021-07-28 19:25:57.815 request id: app - uvicorn.protocols.http.h11_impl:send - 66.249.83.209:0 - "POST /webhook HTTP/1.1" 200
INFO     2021-07-28 19:26:03.560 request id: app - uvicorn.protocols.http.h11_impl:send - 66.249.83.205:0 - "POST /webhook HTTP/1.1" 200
INFO     2021-07-28 19:26:14.821 request id: app - uvicorn.protocols.http.h11_impl:send - 66.249.83.219:0 - "POST /webhook HTTP/1.1" 200
INFO     2021-07-28 19:26:20.053 request id: app - uvicorn.protocols.http.h11_impl:send - 66.249.83.216:0 - "POST /webhook HTTP/1.1" 200
INFO     2021-07-28 19:26:25.376 request id: app - uvicorn.protocols.http.h11_impl:send - 66.249.83.209:0 - "POST /webhook HTTP/1.1" 200
INFO     2021-07-28 19:26:31.189 request id: app - uvicorn.protocols.http.h11_impl:send - 66.249.83.223:0 - "POST /webhook HTTP/1.1" 200
INFO     2021-07-28 19:26:34.344 request id: app - uvicorn.protocols.http.h11_impl:send - 66.249.83.205:0 - "POST /webhook HTTP/1.1" 200
INFO     2021-07-28 19:26:39.820 request id: app - uvicorn.protocols.http.h11_impl:send - 66.249.83.219:0 - "POST /webhook HTTP/1.1" 200
INFO     2021-07-28 19:26:46.080 request id: app - uvicorn.protocols.http.h11_impl:send - 66.249.83.219:0 - "POST /webhook HTTP/1.1" 200
INFO     2021-07-28 19:26:49.381 request id: app - uvicorn.protocols.http.h11_impl:send - 66.249.83.222:0 - "POST /webhook HTTP/1.1" 200
INFO     2021-07-28 19:26:53.145 request id: app - uvicorn.protocols.http.h11_impl:send - 66.249.83.218:0 - "POST /webhook HTTP/1.1" 200
INFO     2021-07-28 19:26:57.760 request id: app - uvicorn.protocols.http.h11_impl:send - 66.249.83.216:0 - "POST /webhook HTTP/1.1" 200
INFO     2021-07-28 19:27:09.581 request id: app - uvicorn.protocols.http.h11_impl:send - 66.249.83.221:0 - "POST /webhook HTTP/1.1" 200
INFO     2021-07-28 19:27:23.688 request id: app - uvicorn.protocols.http.h11_impl:send - 66.249.83.212:0 - "POST /webhook HTTP/1.1" 200
INFO     2021-07-28 19:27:28.116 request id: app - uvicorn.protocols.http.h11_impl:send - 66.249.83.203:0 - "POST /webhook HTTP/1.1" 200
INFO     2021-07-28 19:27:31.632 request id: app - uvicorn.protocols.http.h11_impl:send - 66.249.83.203:0 - "POST /webhook HTTP/1.1" 200
INFO     2021-07-28 19:27:34.504 request id: app - uvicorn.protocols.http.h11_impl:send - 66.249.83.212:0 - "POST /webhook HTTP/1.1" 200
INFO     2021-07-28 19:27:44.101 request id: app - uvicorn.protocols.http.h11_impl:send - 66.249.83.218:0 - "POST /webhook HTTP/1.1" 200
INFO     2021-07-28 19:27:51.158 request id: app - uvicorn.protocols.http.h11_impl:send - 66.249.83.205:0 - "POST /webhook HTTP/1.1" 200
INFO     2021-07-28 19:27:55.694 request id: app - uvicorn.protocols.http.h11_impl:send - 66.249.83.221:0 - "POST /webhook HTTP/1.1" 200
INFO     2021-07-28 19:27:58.530 request id: app - uvicorn.protocols.http.h11_impl:send - 66.249.83.221:0 - "POST /webhook HTTP/1.1" 200
INFO     2021-07-28 19:28:07.942 request id: app - uvicorn.protocols.http.h11_impl:send - 66.249.83.205:0 - "POST /webhook HTTP/1.1" 200
INFO     2021-07-28 19:28:11.328 request id: app - uvicorn.protocols.http.h11_impl:send - 66.249.83.209:0 - "POST /webhook HTTP/1.1" 200
INFO     2021-07-28 19:28:15.384 request id: app - uvicorn.protocols.http.h11_impl:send - 66.249.83.219:0 - "POST /webhook HTTP/1.1" 200
INFO     2021-07-28 19:28:21.454 request id: app - uvicorn.protocols.http.h11_impl:send - 66.249.83.212:0 - "POST /webhook HTTP/1.1" 200
INFO     2021-07-28 19:28:24.331 request id: app - uvicorn.protocols.http.h11_impl:send - 66.249.83.209:0 - "POST /webhook HTTP/1.1" 200
INFO     2021-07-28 19:28:27.389 request id: app - uvicorn.protocols.http.h11_impl:send - 66.249.83.218:0 - "POST /webhook HTTP/1.1" 200
INFO     2021-07-28 19:28:33.732 request id: app - uvicorn.protocols.http.h11_impl:send - 66.249.83.218:0 - "POST /webhook HTTP/1.1" 200
INFO     2021-07-28 19:28:38.261 request id: app - uvicorn.protocols.http.h11_impl:send - 66.249.83.219:0 - "POST /webhook HTTP/1.1" 200
INFO     2021-07-28 19:28:46.677 request id: app - uvicorn.protocols.http.h11_impl:send - 66.249.83.203:0 - "POST /webhook HTTP/1.1" 200
INFO     2021-07-28 19:28:53.002 request id: app - uvicorn.protocols.http.h11_impl:send - 66.249.83.220:0 - "POST /webhook HTTP/1.1" 200
INFO     2021-07-28 19:29:32.661 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2021-07-28 19:29:32.662 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2021-07-28 19:29:32.662 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2021-07-28 19:29:32.767 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2021-07-28 19:29:32.768 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2021-07-28 19:29:32.769 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2021-07-28 19:29:32.772 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2021-07-28 19:29:32.773 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2021-07-28 19:29:32.773 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2021-07-28 19:29:32.774 request id: app - uvicorn.server:serve - Finished server process [9198]
INFO     2021-07-28 19:29:32.774 request id: app - uvicorn.server:serve - Finished server process [9198]
INFO     2021-07-28 19:29:32.774 request id: app - uvicorn.server:serve - Finished server process [9198]
